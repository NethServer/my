multitenancy_enabled: true
target: all

common:
  storage:
    backend: s3
    s3:
      endpoint: ${MIMIR_S3_ENDPOINT}
      secret_access_key: ${MIMIR_S3_SECRET_KEY}
      access_key_id: ${MIMIR_S3_ACCESS_KEY}

blocks_storage:
  s3:
    bucket_name: ${MIMIR_S3_BUCKET}

alertmanager_storage:
  s3:
    bucket_name: ${MIMIR_S3_ALERTMANAGER_BUCKET}

ruler_storage:
  s3:
    bucket_name: ${MIMIR_S3_RULER_BUCKET}

memberlist:
  bind_addr: ["0.0.0.0"]
  bind_port: 7946
  join_members:
    - "${MIMIR_JOIN_MEMBER1}:7946"
    - "${MIMIR_JOIN_MEMBER2}:7946"
  gossip_nodes: 2

compactor:
  data_dir: /tmp/mimir/compactor

ingester:
  ring:
    replication_factor: 2

store_gateway:
  sharding_ring:
    replication_factor: 2

server:
  http_listen_port: ${PORT}
  log_level: info
