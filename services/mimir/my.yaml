multitenancy_enabled: true
target: all

common:
  storage:
    backend: s3
    s3:
      endpoint: ${MIMIR_S3_ENDPOINT}
      secret_access_key: ${MIMIR_S3_SECRET_KEY}
      access_key_id: ${MIMIR_S3_ACCESS_KEY}

blocks_storage:
  s3:
    bucket_name: ${MIMIR_S3_BUCKET}

alertmanager_storage:
  s3:
    bucket_name: ${MIMIR_S3_ALERTMANAGER_BUCKET}

ruler_storage:
  s3:
    bucket_name: ${MIMIR_S3_RULER_BUCKET}

alertmanager:
  enabled: true
  data_dir: /tmp/mimir/alertmanager
  poll_interval: 15s
  max_config_size_bytes: 1048576  # 1MB
  enable_api: true
  persist_interval: 15m
  retention: 120h
  external_url: https://my-collect-qa-pr-41.onrender.com/api/services/mimir/alertmanager

compactor:
  data_dir: /tmp/mimir/compactor

ingester:
  ring:
    replication_factor: 1

store_gateway:
  sharding_ring:
    replication_factor: 1

server:
  http_listen_port: ${PORT}
  log_level: info

limits:
  compactor_blocks_retention_period: 24h

runtime_config:
  file: /etc/mimir/runtime_config.yaml
  period: 10s
