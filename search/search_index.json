{"config":{"lang":["en","it"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to My Documentation","text":"<p>Complete user and developer documentation for My - the centralized management platform.</p>"},{"location":"#what-is-my","title":"What is My?","text":"<p>My is a comprehensive management platform that provides:</p> <ul> <li>Centralized Authentication using Logto as Identity Provider</li> <li>Hierarchical Organization Management (Owner, Distributor, Reseller, Customer)</li> <li>Role-Based Access Control (RBAC) with dual-role system</li> <li>System Monitoring with real-time inventory and heartbeat tracking</li> <li>User Management with automatic welcome emails and self-service features</li> </ul>"},{"location":"#documentation-structure","title":"Documentation Structure","text":""},{"location":"#user-guide","title":"\ud83d\udcda User Guide","text":"<p>Complete guides for end users and administrators:</p> <ul> <li> <p> Getting Started</p> <p>Learn how to log in, manage your profile, and understand user roles.</p> <p> Authentication Guide</p> </li> <li> <p> Organizations</p> <p>Create and manage the business hierarchy: Distributors, Resellers, and Customers.</p> <p> Organizations Guide</p> </li> <li> <p> Users</p> <p>Create users, assign roles, and manage permissions across your organization.</p> <p> Users Guide</p> </li> <li> <p> Systems</p> <p>Create and monitor systems, view status, and manage system credentials.</p> <p> Systems Guide</p> </li> <li> <p> Registration</p> <p>Register external systems with My platform using system secrets.</p> <p> Registration Guide</p> </li> <li> <p> Monitoring</p> <p>Configure inventory collection and heartbeat monitoring for your systems.</p> <p> Inventory &amp; Heartbeat</p> </li> </ul>"},{"location":"#developer-documentation","title":"\ud83d\udcbb Developer Documentation","text":"<p>Technical documentation for developers and integrators:</p> <ul> <li>Backend API - Go REST API server with JWT authentication</li> <li>Collect Service - Inventory and heartbeat collection service</li> <li>Sync Tool - RBAC synchronization CLI tool</li> <li>Project Overview - Complete project documentation and architecture</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#for-end-users","title":"\ud83e\uddd1 For End Users","text":"<ol> <li>Log in with your credentials</li> <li>Create organizations based on your business hierarchy</li> <li>Add users and assign appropriate roles</li> <li>Create systems for your customers</li> <li>Register systems to enable monitoring</li> </ol>"},{"location":"#for-developers","title":"\ud83e\uddd1\u200d\ud83d\udcbb For Developers","text":"<ol> <li>Clone the repository</li> <li>Read the Project documentation</li> <li>Set up your development environment</li> <li>Follow the RBAC configuration guide</li> </ol>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#security-first","title":"\ud83d\udd10 Security First","text":"<ul> <li>Argon2id secret hashing (memory-hard, GPU-resistant)</li> <li>Token Split Pattern for system credentials</li> <li>JWT-based authentication with token blacklisting</li> <li>RBAC with hierarchical permissions</li> </ul>"},{"location":"#business-hierarchy","title":"\ud83c\udfe2 Business Hierarchy","text":"<pre><code>Owner (Nethesis)\n    \u2193\nDistributors\n    \u2193\nResellers\n    \u2193\nCustomers\n</code></pre> <p>Each level manages only their downstream organizations.</p>"},{"location":"#dual-role-system","title":"\ud83d\udc65 Dual-Role System","text":"<p>Organization Roles (business hierarchy): - Owner, Distributor, Reseller, Customer</p> <p>User Roles (technical capabilities): - Admin, Support, and more</p> <p>Effective permissions = Organization Role + User Role</p>"},{"location":"#real-time-monitoring","title":"\ud83d\udcca Real-Time Monitoring","text":"<ul> <li>Heartbeat tracking every 5 minutes</li> <li>Inventory collection every 6 hours</li> <li>Automatic change detection with diff analysis</li> <li>Status indicators: Active \ud83d\udfe2 / Inactive \ud83d\udfe1 / Unknown \u26aa / Deleted \ud83d\udd34</li> </ul>"},{"location":"#system-lifecycle","title":"\ud83d\udd04 System Lifecycle","text":"<pre><code>graph LR\n    A[Create System] --&gt; B[Receive secret]\n    B --&gt; C[Register System]\n    C --&gt; D[Get system_key]\n    D --&gt; E[Send Inventory]\n    D --&gt; F[Send Heartbeat]\n    E --&gt; G[Monitored]\n    F --&gt; G</code></pre>"},{"location":"#getting-help","title":"Getting Help","text":""},{"location":"#for-users","title":"For Users","text":"<ul> <li>Browse the User Guide sections</li> <li>Check the troubleshooting sections in each guide</li> <li>Contact your system administrator</li> </ul>"},{"location":"#for-developers_1","title":"For Developers","text":"<ul> <li>Read the component-specific READMEs</li> <li>Check the API documentation</li> <li>Review the architecture documentation in DESIGN.md</li> <li>Open an issue on GitHub</li> </ul>"},{"location":"#technology-stack","title":"Technology Stack","text":"<ul> <li>Backend: Go 1.24+ with Gin framework</li> <li>Database: PostgreSQL with migrations</li> <li>Cache: Redis for high-performance caching</li> <li>Identity: Logto for authentication and RBAC</li> <li>Frontend: Vue.js 3 (see separate repository)</li> </ul>"},{"location":"#version-information","title":"Version Information","text":"<p>Current version: 0.0.3 (Pre-production)</p> <p>This documentation is continuously updated. Last update: 2025-11-06</p> <ul> <li> <p> Ready to Start?</p> <p>Begin with the authentication guide to log in and explore My.</p> <p> Get Started</p> </li> <li> <p> Contribute</p> <p>My is open source. Contribute on GitHub!</p> <p> GitHub Repository</p> </li> </ul>"},{"location":"01-authentication/","title":"Getting Started - Authentication","text":"<p>Learn how to access My platform and manage your account.</p>"},{"location":"01-authentication/#first-login","title":"First Login","text":"<p>When your account is created by an administrator, you will receive a welcome email containing:</p> <ul> <li>Your username (email address)</li> <li>A temporary password</li> <li>A direct link to the login page</li> </ul>"},{"location":"01-authentication/#logging-in","title":"Logging In","text":"<ol> <li>Open the login URL provided in your welcome email</li> <li>Enter your email address</li> <li>Enter the temporary password</li> <li>Click Sign In</li> </ol>"},{"location":"01-authentication/#first-time-password-change","title":"First-Time Password Change","text":"<p>Upon first login with your temporary password, you will be required to:</p> <ol> <li>Enter your current (temporary) password</li> <li>Create a new secure password</li> <li>Confirm your new password</li> </ol> <p>Password Requirements:</p> <ul> <li>Minimum 8 characters</li> <li>At least one uppercase letter</li> <li>At least one lowercase letter</li> <li>At least one number</li> <li>At least one special character</li> </ul>"},{"location":"01-authentication/#managing-your-profile","title":"Managing Your Profile","text":""},{"location":"01-authentication/#change-your-password","title":"Change Your Password","text":"<p>To change your password at any time:</p> <ol> <li>Click on your profile icon in the top-right corner</li> <li>Select Account Settings</li> <li>Click Change Password</li> <li>Enter your current password</li> <li>Enter your new password</li> <li>Confirm your new password</li> <li>Click Save Changes</li> </ol>"},{"location":"01-authentication/#update-your-profile-information","title":"Update Your Profile Information","text":"<p>You can update your profile information:</p> <ol> <li>Click on your profile icon in the top-right corner</li> <li>Select Account Settings</li> <li>Update the following fields:</li> <li>Full Name: Your display name</li> <li>Email: Your email address (also your username)</li> <li>Phone Number: Optional contact number</li> <li>Click Save profile</li> </ol> <p>Note: Email changes may require re-authentication.</p>"},{"location":"01-authentication/#security-features","title":"Security Features","text":""},{"location":"01-authentication/#password-security","title":"Password Security","text":"<ul> <li>Your password is never stored in plain text</li> <li>Temporary passwords expire after first use</li> </ul>"},{"location":"01-authentication/#session-management","title":"Session Management","text":"<ul> <li>Sessions expire after 24 hours of inactivity</li> <li>Refresh tokens are valid for 7 days</li> <li>Logging out immediately invalidates your session</li> </ul>"},{"location":"01-authentication/#troubleshooting","title":"Troubleshooting","text":""},{"location":"01-authentication/#forgot-password","title":"Forgot Password","text":"<p>If you forget your password:</p> <ol> <li>Use \"Forgot your password?\" link at the Login page</li> </ol>"},{"location":"01-authentication/#account-locked","title":"Account Locked","text":"<p>If your account is suspended:</p> <ul> <li>You will see an \"Account suspended\" error message</li> <li>Contact your system administrator to reactivate your account</li> <li>Only administrators can suspend/reactivate accounts</li> </ul>"},{"location":"01-authentication/#session-expired","title":"Session Expired","text":"<p>If your session expires:</p> <ol> <li>You will be automatically redirected to the login page</li> <li>Log in again with your credentials</li> <li>Your previous work is not saved during session expiration</li> </ol>"},{"location":"01-authentication/#multi-factor-authentication-mfa","title":"Multi-Factor Authentication (MFA)","text":"<p>Currently, My uses Logto as the identity provider. MFA settings are managed through Logto:</p> <ul> <li>Contact your administrator to enable MFA</li> <li>MFA can be configured organization-wide</li> <li>Supported methods: Authenticator apps, SMS (if configured)</li> </ul>"},{"location":"01-authentication/#next-steps","title":"Next Steps","text":"<p>Once logged in, you can:</p> <ul> <li>Manage Organizations (if you have the appropriate permissions)</li> <li>Manage Users (Admin or Support users)</li> <li>Manage Systems (Support users)</li> <li>View your dashboard and statistics</li> </ul>"},{"location":"01-authentication/#user-roles","title":"User Roles","text":"<p>Your permissions depend on your assigned roles:</p>"},{"location":"01-authentication/#organization-roles-business-hierarchy","title":"Organization Roles (Business Hierarchy)","text":"<ul> <li>Owner: Full platform access (Nethesis)</li> <li>Distributor: Can manage resellers and customers</li> <li>Reseller: Can manage customers</li> <li>Customer: Can view own organization data</li> </ul>"},{"location":"01-authentication/#user-roles-technical-capabilities","title":"User Roles (Technical Capabilities)","text":"<ul> <li>Super Admin: Full platform administration</li> <li>Admin: Organization administration, user management</li> <li>Support: System management, technical operations</li> <li>Backoffice: User management, backoffice operations</li> <li>Reader: Reader mode</li> </ul> <p>Your effective permissions are the combination of both role types.</p>"},{"location":"02-organizations/","title":"Organizations Management","text":"<p>Learn how to manage the business hierarchy in My platform.</p>"},{"location":"02-organizations/#understanding-organization-hierarchy","title":"Understanding Organization Hierarchy","text":"<p>My uses a hierarchical organization structure that reflects the business relationships:</p> <pre><code>Owner (Nethesis)\n    \u2193\nDistributors\n    \u2193\nResellers\n    \u2193\nCustomers\n</code></pre>"},{"location":"02-organizations/#organization-types","title":"Organization Types","text":"<p>Owner (Nethesis) - Top-level organization - Complete platform control - Can manage all distributors, resellers, and customers - Only one Owner organization exists</p> <p>Distributors - Created by Owner - Can manage their resellers and customers - Cannot see other distributors' data - Full control over their branch of the hierarchy</p> <p>Resellers - Created by Owner or Distributors - Can manage their customers - Cannot see other resellers' data - Work within their assigned distributor</p> <p>Customers - Created by Owner, Distributors, or Resellers - End-user organizations - Can only view their own data - Cannot create sub-organizations</p>"},{"location":"02-organizations/#permissions-by-organization-type","title":"Permissions by Organization Type","text":"Action Owner Distributor Reseller Customer Create Distributors \u2705 \u274c \u274c \u274c Manage Distributors \u2705 \u274c \u274c \u274c Create Resellers \u2705 \u2705 \u274c \u274c Manage Resellers \u2705 \u2705 (own) \u274c \u274c Create Customers \u2705 \u2705 \u2705 \u274c Manage Customers \u2705 \u2705 (own) \u2705 (own) \u274c View All Data \u2705 \u274c \u274c \u274c"},{"location":"02-organizations/#creating-organizations","title":"Creating Organizations","text":""},{"location":"02-organizations/#prerequisites","title":"Prerequisites","text":"<ul> <li>You must be logged in with appropriate permissions</li> <li>Owner users can create all organization types</li> <li>Distributor users can create resellers and customers</li> <li>Reseller users can create customers only</li> </ul>"},{"location":"02-organizations/#creating-a-distributor","title":"Creating a Distributor","text":"<p>Required Role: Owner organization member</p> <ol> <li>Navigate to Organizations &gt; Distributors</li> <li>Click Create distributor</li> <li>Fill in the form:</li> <li>Company name: Distributor company name (e.g., \"ACME Distribution Ltd\")</li> <li>Description (optional): Additional information</li> <li>VAT number: unique VAT identification for a company</li> <li>Click Create distributor</li> </ol> <p>Example: <pre><code>Name: ACME Distribution Europe\nDescription: Main distributor for European market\nVAT: 12345678901\n</code></pre></p>"},{"location":"02-organizations/#creating-a-reseller","title":"Creating a Reseller","text":"<p>Required Role: Owner or Distributor organization member</p> <ol> <li>Navigate to Organizations &gt; Resellers</li> <li>Click Create reseller</li> <li>Fill in the form:</li> <li>Company name: Reseller company name (e.g., \"ACME Distribution Ltd\")</li> <li>Description (optional): Additional information</li> <li>VAT number: unique VAT identification for a company</li> <li>Click Create reseller</li> </ol> <p>Example: <pre><code>Name: Tech Solutions Italia\nDescription: IT solutions provider for SMB market\nVAT: 12345678901\n</code></pre></p> <p>Note: If you're logged in as a Distributor, you can only create resellers under your own organization.</p>"},{"location":"02-organizations/#creating-a-customer","title":"Creating a Customer","text":"<p>Required Role: Owner, Distributor, or Reseller organization member</p> <ol> <li>Navigate to Organizations &gt; Customers</li> <li>Click Create customer</li> <li>Fill in the form:</li> <li>Company name: Customer company name (e.g., \"ACME Distribution Ltd\")</li> <li>Description (optional): Additional information</li> <li>VAT number: unique VAT identification for a company</li> <li>Click Create customer</li> </ol> <p>Example: <pre><code>Name: Pizza Express Milano\nDescription: Restaurant chain with 5 locations\nVAT: 12345678901\n</code></pre></p>"},{"location":"02-organizations/#viewing-organizations","title":"Viewing Organizations","text":""},{"location":"02-organizations/#organization-list","title":"Organization List","text":"<p>Each organization type has its own list view:</p> <ol> <li>Navigate to [Type] (Distributors/Resellers/Customers)</li> <li>View the list with the following information:</li> <li>Organization name</li> <li>Description</li> <li>Number of users</li> <li>Number of systems</li> <li>Creation date</li> </ol>"},{"location":"02-organizations/#filtering-and-search","title":"Filtering and Search","text":"<p>Use the filter options to find specific organizations:</p> <ul> <li>Search by name: Type in the search box</li> <li>Sort by: Name, description</li> </ul>"},{"location":"02-organizations/#organization-details","title":"Organization Details","text":"<p>Click on an organization to view detailed information:</p> <ul> <li>Overview: Name, description, creation date</li> <li>Users: All users belonging to this organization</li> <li>Systems: Systems associated with this organization (if applicable)</li> <li>Statistics: Usage metrics and activity</li> </ul>"},{"location":"02-organizations/#managing-organizations","title":"Managing Organizations","text":""},{"location":"02-organizations/#editing-organization-information","title":"Editing Organization Information","text":"<ol> <li>Navigate to the organization details page</li> <li>Click Edit</li> <li>Update the fields:</li> <li>Company name</li> <li>Description</li> <li>VAT</li> <li>Click Save [Type]</li> </ol>"},{"location":"02-organizations/#deleting-organizations","title":"Deleting Organizations","text":"<p>\u26a0\ufe0f Warning: Deleting an organization is permanent and will: - Remove all users in that organization - Delete all systems associated with it - Remove all child organizations (cascade delete)</p> <p>To delete an organization:</p> <ol> <li>Navigate to the organization page</li> <li>Click Delete (use the kebab men\u00f9)</li> <li>Click Delete</li> </ol>"},{"location":"02-organizations/#suspending-organizations","title":"Suspending Organizations","text":"<p>Instead of deleting, you can suspend an organization:</p> <ol> <li>Navigate to the organization page</li> <li>Click Suspend</li> <li>Confirm the action</li> </ol> <p>Effects of suspension: - Users cannot log in - Systems cannot send data - Can be reactivated later</p> <p>To reactivate: 1. Filter by \"Suspended\" status 2. Select the organization 3. Click Reactivate</p>"},{"location":"02-organizations/#organization-statistics","title":"Organization Statistics","text":""},{"location":"02-organizations/#viewing-statistics","title":"Viewing Statistics","text":"<p>Navigate to Dashboard to see:</p> <ul> <li>Distributors Overview:</li> <li>Total number of distributors</li> <li>Active vs. suspended</li> <li> <p>Trend graph (last 30/60/90 days)</p> </li> <li> <p>Resellers Overview:</p> </li> <li>Total resellers per distributor</li> <li>Active vs. suspended</li> <li> <p>Trend graph</p> </li> <li> <p>Customers Overview:</p> </li> <li>Total customers</li> <li>Distribution by reseller/distributor</li> <li>Growth trend</li> </ul>"},{"location":"02-organizations/#exporting-data","title":"Exporting Data","text":"<p>Export organization data for reporting:</p> <ol> <li>Navigate to the organization list</li> <li>Apply filters if needed</li> <li>Click Export</li> <li>Choose format: CSV or PDF</li> <li>Download the file</li> </ol>"},{"location":"02-organizations/#best-practices","title":"Best Practices","text":""},{"location":"02-organizations/#naming-conventions","title":"Naming Conventions","text":"<ul> <li>Use clear, descriptive names</li> <li>Include geographical information if relevant (e.g., \"ACME Europe\", \"Tech Solutions Italia\")</li> <li>Avoid special characters in names</li> <li>Keep names concise but meaningful</li> </ul>"},{"location":"02-organizations/#organization-structure","title":"Organization Structure","text":"<ul> <li>Plan your hierarchy before creating organizations</li> <li>Keep the structure simple and logical</li> <li>Avoid creating unnecessary intermediate levels</li> <li>Document the business relationships</li> </ul>"},{"location":"02-organizations/#access-control","title":"Access Control","text":"<ul> <li>Assign users to the correct organization</li> <li>Review organization membership regularly</li> <li>Use descriptive organization names for clarity</li> <li>Keep contact information up to date</li> </ul>"},{"location":"02-organizations/#troubleshooting","title":"Troubleshooting","text":""},{"location":"02-organizations/#cannot-create-organization","title":"Cannot Create Organization","text":"<p>Problem: \"Access denied\" error when creating an organization</p> <p>Solutions: - Verify you have the correct role (Owner/Distributor/Reseller) - Check you're trying to create the correct organization type - Ensure your organization membership is correct - Contact your administrator</p>"},{"location":"02-organizations/#cannot-see-organization","title":"Cannot See Organization","text":"<p>Problem: Expected organization not visible in the list</p> <p>Solutions: - Check if organization is suspended (use filters) - Verify you have permission to view that organization type - Ensure you're viewing the correct organization level - Check if the organization belongs to your hierarchy branch</p>"},{"location":"02-organizations/#cannot-delete-organization","title":"Cannot Delete Organization","text":"<p>Problem: Delete button is disabled or shows error</p> <p>Solutions: - Remove all systems from the organization first - Delete all child organizations first - Check if you have permission to delete - Ensure the organization is not the Owner organization</p>"},{"location":"02-organizations/#next-steps","title":"Next Steps","text":"<p>After creating organizations:</p> <ul> <li>Create users and assign them to organizations</li> <li>Create systems associated with customer organizations</li> <li>Set up appropriate permissions for each user</li> </ul>"},{"location":"02-organizations/#related-documentation","title":"Related Documentation","text":"<ul> <li>Users Management</li> <li>Systems Management</li> </ul>"},{"location":"03-users/","title":"Users Management","text":"<p>Learn how to create and manage users in My platform.</p>"},{"location":"03-users/#understanding-user-roles","title":"Understanding User Roles","text":"<p>My uses a dual-role system combining business hierarchy with technical capabilities.</p>"},{"location":"03-users/#organization-roles-business-hierarchy","title":"Organization Roles (Business Hierarchy)","text":"<p>Automatically inherited from user's organization:</p> <ul> <li>Owner: Complete platform access (Nethesis only)</li> <li>Distributor: Manages resellers and customers</li> <li>Reseller: Manages customers</li> <li>Customer: Views own organization data</li> </ul>"},{"location":"03-users/#user-roles-technical-capabilities","title":"User Roles (Technical Capabilities)","text":"<p>Manually assigned to users based on their job function:</p> <ul> <li>Super Admin: Full platform administration with impersonation</li> <li>All Admin capabilities</li> <li>User impersonation for troubleshooting</li> <li>Advanced system operations</li> <li> <p>Complete platform control</p> </li> <li> <p>Admin: Platform administration</p> </li> <li>User management</li> <li>Organization management</li> <li>System configuration</li> <li> <p>Dangerous operations (delete, suspend)</p> </li> <li> <p>Backoffice: Administrative operations and reporting</p> </li> <li>User and organization viewing</li> <li>System monitoring and reporting</li> <li>Analytics and statistics</li> <li> <p>No destructive operations</p> </li> <li> <p>Support: Technical operations</p> </li> <li>System management</li> <li>Inventory viewing</li> <li>Heartbeat monitoring</li> <li> <p>Standard operations</p> </li> <li> <p>Reader: Read-only access</p> </li> <li>View users and organizations</li> <li>View systems and status</li> <li>View inventory and heartbeat</li> <li>No modification capabilities</li> </ul>"},{"location":"03-users/#combined-permissions","title":"Combined Permissions","text":"<p>A user's final permissions are the combination of both role types:</p> <p>Example 1: <pre><code>Organization: Customer (Pizza Express)\nUser Role: Admin\n\u2192 Can manage users within Pizza Express organization only\n\u2192 Can manage systems for Pizza Express only\n</code></pre></p> <p>Example 2: <pre><code>Organization: Distributor (ACME Distribution)\nUser Role: Support\n\u2192 Can view resellers and customers under ACME\n\u2192 Can manage systems for all customers under ACME\n\u2192 Cannot manage users (requires Admin role)\n</code></pre></p>"},{"location":"03-users/#creating-users","title":"Creating Users","text":""},{"location":"03-users/#prerequisites","title":"Prerequisites","text":"<ul> <li>You must have Admin role</li> <li>You can only create users for organizations you can manage</li> <li>Valid email address for the new user</li> </ul>"},{"location":"03-users/#create-a-new-user","title":"Create a New User","text":"<ol> <li>Navigate to Users</li> <li>Click Create user</li> <li>Fill in the form:</li> <li>Name: User's display name (e.g., \"Mario Rossi\")</li> <li>Email: User's email address (will be their username)</li> <li>Organization: Select the organization</li> <li>Roles: Select one or more roles (Super Admin, Admin, Backoffice, Support, Reader)</li> <li>Phone Number (optional): Contact phone</li> <li>Click Create user</li> </ol> <p>Example: <pre><code>Full Name: Mario Rossi\nEmail: mario.rossi@techsolutions.it\nOrganization: Tech Solutions Italia (Reseller)\nUser Roles: Admin, Support\nPhone: +39 02 1234567\n</code></pre></p>"},{"location":"03-users/#what-happens-after-creation","title":"What Happens After Creation","text":"<ol> <li>User account is created in Logto</li> <li>A temporary password is automatically generated</li> <li>Welcome email is sent to the user containing:</li> <li>Temporary password</li> <li>Login URL</li> <li>Password change instructions</li> <li>User must change password on first login</li> </ol> <p>\u26a0\ufe0f Important: The temporary password is shown only once during creation. Make sure the user receives the welcome email.</p>"},{"location":"03-users/#managing-users","title":"Managing Users","text":""},{"location":"03-users/#viewing-user-list","title":"Viewing User List","text":"<p>Navigate to Users to see:</p> <ul> <li>User name and email</li> <li>Organization</li> <li>User roles</li> <li>Organization role (derived from organization)</li> <li>Status (active/suspended)</li> </ul>"},{"location":"03-users/#filtering-and-search","title":"Filtering and Search","text":"<p>Use filters to find specific users:</p> <ul> <li>Search by name or email: Type in the search box</li> <li>Search by organization: Select one or more organizations</li> <li>Search by role: Super Admin, Admin, Backoffice, Support, Reader</li> <li>Sort by: Name, email, organization</li> </ul>"},{"location":"03-users/#user-details","title":"User Details","text":"<p>Click on a user to view detailed information:</p> <ul> <li>Profile Information:</li> <li>Full name</li> <li>Email address</li> <li>Phone number</li> <li> <p>Profile picture (if configured via Logto)</p> </li> <li> <p>Organization Membership:</p> </li> <li>Primary organization</li> <li> <p>Organization role (Owner/Distributor/Reseller/Customer)</p> </li> <li> <p>Roles and Permissions:</p> </li> <li>Assigned user roles (Admin, Support)</li> <li> <p>Effective permissions list</p> </li> <li> <p>Activity:</p> </li> <li>Last login date and time</li> <li>Account creation date</li> <li> <p>Last password change</p> </li> <li> <p>Status:</p> </li> <li>Active or suspended</li> <li>Suspension reason (if applicable)</li> </ul>"},{"location":"03-users/#editing-users","title":"Editing Users","text":""},{"location":"03-users/#update-user-information","title":"Update User Information","text":"<ol> <li>Navigate to the user details page</li> <li>Click Edit</li> <li>Update the fields:</li> <li>Name</li> <li>Email address</li> <li>Organization</li> <li>Roles</li> <li>Phone number</li> <li>Click Save user</li> </ol> <p>Note: - At least one role should be selected - You cannot edit your own account through this interface (use Profile Settings instead)</p>"},{"location":"03-users/#reset-user-password","title":"Reset User Password","text":"<p>As an Admin, you can reset a user's password:</p> <ol> <li>Navigate to the user page</li> <li>Click Reset Password (using kebab men\u00f9)</li> <li>Confirm the action</li> <li>A new temporary password is generated</li> <li>Copy the password and send it to the user</li> </ol> <p>Use Cases: - User forgot their password - Security incident requiring password reset - Account recovery</p>"},{"location":"03-users/#user-status-management","title":"User Status Management","text":""},{"location":"03-users/#suspending-a-user","title":"Suspending a User","text":"<p>Temporarily disable a user account:</p> <ol> <li>Navigate to the user page</li> <li>Click Suspend (using kebab men\u00f9)</li> <li>Click Suspend</li> </ol> <p>Effects of suspension: - User cannot log in - Active sessions are immediately invalidated - User tokens are blacklisted - User appears as \"Suspended\" in lists</p>"},{"location":"03-users/#reactivating-a-user","title":"Reactivating a User","text":"<p>Re-enable a suspended account:</p> <ol> <li>Filter users by \"Suspended\" status</li> <li>Select the suspended user</li> <li>Click Reactivate (using kebab men\u00f9)</li> <li>Confirm the action</li> </ol> <p>Effects of reactivation: - User can log in again - User must use their existing password - Previous permissions are restored</p>"},{"location":"03-users/#deleting-a-user","title":"Deleting a User","text":"<p>\u26a0\ufe0f Warning: User deletion is permanent and cannot be undone.</p> <p>To delete a user:</p> <ol> <li>Navigate to the user details page</li> <li>Click Delete (using kebab men\u00f9)</li> <li>Click Delete</li> </ol> <p>Effects of deletion: - User account is permanently removed from Logto - All audit logs are preserved - Systems created by this user remain</p> <p>Prerequisites: - You cannot delete your own account - User must be suspended first (safety measure) - You must have Admin role</p>"},{"location":"03-users/#self-service-features","title":"Self-Service Features","text":"<p>Users can manage some aspects of their own account:</p>"},{"location":"03-users/#change-own-password","title":"Change Own Password","text":"<ol> <li>Click profile icon &gt; Profile Settings</li> <li>Click Change Password</li> <li>Enter current password</li> <li>Enter new password (twice)</li> <li>Click Save</li> </ol>"},{"location":"03-users/#update-own-profile","title":"Update Own Profile","text":"<ol> <li>Click profile icon &gt; Profile Settings</li> <li>Update:</li> <li>Name</li> <li>Email address</li> <li>Phone number</li> <li>Click Save</li> </ol> <p>Note: Email changes may require re-authentication.</p>"},{"location":"03-users/#permissions-reference","title":"Permissions Reference","text":""},{"location":"03-users/#super-admin-role-permissions","title":"Super Admin Role Permissions","text":"<p>\u2705 Can perform: - All Admin capabilities - User impersonation for troubleshooting - Advanced system operations - Platform-wide configuration - Complete audit trail access - Emergency operations</p> <p>\u274c Cannot perform: - Modify own account status - Delete own account - Bypass audit logging</p>"},{"location":"03-users/#admin-role-permissions","title":"Admin Role Permissions","text":"<p>\u2705 Can perform: - Create users - Edit users - Reset user passwords - Suspend/reactivate users - Delete users (with restrictions) - Manage organizations (based on hierarchy) - View all audit logs - Configure platform settings</p> <p>\u274c Cannot perform: - User impersonation - Modify own account status - Delete own account - Bypass hierarchical restrictions</p>"},{"location":"03-users/#backoffice-role-permissions","title":"Backoffice Role Permissions","text":"<p>\u2705 Can perform: - View users and organizations - View systems and inventory - Generate reports and analytics - View statistics and dashboards - Export data - View audit logs</p> <p>\u274c Cannot perform: - Create or edit users - Manage organizations - Create or edit systems - Delete any resources - Suspend users - Reset passwords</p>"},{"location":"03-users/#support-role-permissions","title":"Support Role Permissions","text":"<p>\u2705 Can perform: - Create systems - View systems - Edit systems - Regenerate system secrets - View inventory - View heartbeat status - View system statistics</p> <p>\u274c Cannot perform: - Manage users - Manage organizations - Delete systems - Access dangerous operations</p>"},{"location":"03-users/#reader-role-permissions","title":"Reader Role Permissions","text":"<p>\u2705 Can perform: - View users (basic information) - View organizations - View systems and status - View inventory data - View heartbeat status - View basic statistics</p> <p>\u274c Cannot perform: - Create, edit, or delete any resources - Access sensitive user data - View audit logs - Generate reports - Export data</p>"},{"location":"03-users/#hierarchical-restrictions","title":"Hierarchical Restrictions","text":"<p>Users can only manage other users within their organizational scope:</p> <p>Owner users: - Can manage all users across all organizations</p> <p>Distributor users: - Can manage users in their resellers and customers - Cannot manage users in other distributors</p> <p>Reseller users: - Can manage users in their customers only - Cannot manage users in their distributor or other resellers</p> <p>Customer users: - Can manage users in their own organization only</p>"},{"location":"03-users/#user-statistics","title":"User Statistics","text":""},{"location":"03-users/#dashboard-metrics","title":"Dashboard Metrics","text":"<p>Navigate to Dashboard to view:</p> <ul> <li>Total Users: Count across all accessible organizations</li> <li>Active Users: Users who logged in recently</li> <li>Users by Organization: Distribution chart</li> <li>Users by Role: Super Admin, Admin, Backoffice, Support, Reader count</li> <li>Growth Trend: User creation trend (last 30/60/90 days)</li> </ul>"},{"location":"03-users/#user-report","title":"User Report","text":"<p>Generate reports:</p> <ol> <li>Navigate to Users</li> <li>Choose filters (organization, role, status)</li> <li>Click Actions &gt; Export</li> <li>Export as CSV or PDF</li> </ol>"},{"location":"03-users/#best-practices","title":"Best Practices","text":""},{"location":"03-users/#user-account-management","title":"User Account Management","text":"<ul> <li>Create users only when needed</li> <li>Use descriptive full names</li> <li>Always verify email addresses</li> <li>Document user responsibilities</li> <li>Review user accounts regularly</li> <li>Remove inactive users promptly</li> </ul>"},{"location":"03-users/#role-assignment","title":"Role Assignment","text":"<ul> <li>Assign minimal required roles (principle of least privilege)</li> <li>Document why users have specific roles</li> <li>Review role assignments quarterly</li> <li>Use Super Admin role only for platform administrators</li> <li>Use Admin role sparingly for user management needs</li> <li>Use Backoffice role for reporting and analytics personnel</li> <li>Use Support role for most technical operations</li> <li>Use Reader role for view-only access (auditors, stakeholders)</li> </ul>"},{"location":"03-users/#security","title":"Security","text":"<ul> <li>Force password changes for security incidents</li> <li>Suspend users immediately upon termination</li> <li>Review active sessions regularly</li> <li>Monitor failed login attempts</li> <li>Keep contact information up to date</li> </ul>"},{"location":"03-users/#organization-assignment","title":"Organization Assignment","text":"<ul> <li>Assign users to their correct organization</li> <li>Verify organizational hierarchy</li> <li>Update organization membership when structure changes</li> <li>Don't create users in wrong organizations</li> </ul>"},{"location":"03-users/#troubleshooting","title":"Troubleshooting","text":""},{"location":"03-users/#user-cannot-log-in","title":"User Cannot Log In","text":"<p>Problem: User reports they cannot access the platform</p> <p>Solutions: 1. Verify user account is not suspended 2. Check if temporary password was changed 3. Confirm email address is correct 4. Reset password if needed 5. Check Logto service status</p>"},{"location":"03-users/#user-has-wrong-permissions","title":"User Has Wrong Permissions","text":"<p>Problem: User cannot access expected features</p> <p>Solutions: 1. Verify user roles are correctly assigned 2. Check organization membership is correct 3. Confirm organizational hierarchy is correct 4. Review combined permissions (org role + user role) 5. Check if recent role changes have propagated</p>"},{"location":"03-users/#cannot-create-user","title":"Cannot Create User","text":"<p>Problem: \"Access denied\" when creating user</p> <p>Solutions: 1. Verify you have Admin role 2. Check target organization is in your hierarchy 3. Confirm email address is not already used 4. Ensure organization is not suspended</p>"},{"location":"03-users/#welcome-email-not-received","title":"Welcome Email Not Received","text":"<p>Problem: New user didn't receive welcome email</p> <p>Solutions: 1. Check user's spam folder 2. Verify email address is correct 3. Check SMTP configuration (admin only) 4. Manually share temporary password securely 5. Reset password to send new email</p>"},{"location":"03-users/#next-steps","title":"Next Steps","text":"<p>After creating users:</p> <ul> <li>Create systems for customer organizations</li> <li>Configure user permissions appropriately</li> <li>Train users on platform usage</li> <li>Set up monitoring and alerts</li> </ul>"},{"location":"03-users/#related-documentation","title":"Related Documentation","text":"<ul> <li>Authentication Guide</li> <li>Organizations Management</li> <li>Systems Management</li> </ul>"},{"location":"04-systems/","title":"Systems Management","text":"<p>Learn how to create and manage systems in My platform.</p>"},{"location":"04-systems/#understanding-systems","title":"Understanding Systems","text":"<p>A system in My represents a managed server or device (NethServer or NethSecurity) that:</p> <ul> <li>Belongs to an organization</li> <li>Sends inventory data automatically</li> <li>Sends heartbeat signals to indicate it's active</li> <li>Can be monitored and managed remotely</li> </ul>"},{"location":"04-systems/#system-lifecycle","title":"System Lifecycle","text":"<pre><code>1. Created by Admin/Support \u2192 receives system_secret\n2. Not registered yet \u2192 system_key is hidden\n3. External system registers \u2192 system_key becomes visible\n4. System sends inventory and heartbeat \u2192 monitored status\n</code></pre>"},{"location":"04-systems/#system-status","title":"System Status","text":"<ul> <li>Unknown: Default status, no inventory received yet</li> <li>Active: System is actively sending heartbeat (&lt; 15 minutes)</li> <li>Inactive: System stopped sending heartbeat (&gt; 15 minutes)</li> <li>Deleted: System has been soft-deleted</li> </ul>"},{"location":"04-systems/#creating-systems","title":"Creating Systems","text":""},{"location":"04-systems/#prerequisites","title":"Prerequisites","text":"<ul> <li>You must have Support or Admin role</li> <li>You need a customer organization to associate the system with</li> <li>System will be created in \"not registered\" state</li> </ul>"},{"location":"04-systems/#create-a-new-system","title":"Create a New System","text":"<ol> <li>Navigate to Systems</li> <li>Click Create system</li> <li>Fill in the form:</li> <li>Name: Descriptive name for the system (e.g., \"Production Server Milan\")</li> <li>Organization: Select the customer organization</li> <li>Notes (optional): Additional information</li> <li>Click Create system</li> </ol> <p>Example: <pre><code>Name: Production Web Server Milano\nOrganization: Pizza Express Milano (Customer)\nNotes: Main production server for Milan locations\n</code></pre></p>"},{"location":"04-systems/#system-secret","title":"System Secret","text":"<p>After creation, you will see:</p> <pre><code>{\n  \"id\": \"sys_abc123\",\n  \"name\": \"Production Web Server Milano\",\n  \"system_key\": \"\",  // \u2190 HIDDEN until registered\n  \"system_secret\": \"my_a1b2c3.k1l2m3...\",  // \u2190 SAVE THIS! Only shown once\n  \"status\": \"unknown\",\n  \"registered_at\": null,\n  \"organization\": \"Pizza Express Milano\"\n}\n</code></pre> <p>\u26a0\ufe0f CRITICAL: - The <code>system_secret</code> is shown only once during creation - Copy and save it immediately - You will need it to register the system - If lost, you must regenerate it (invalidates previous secret)</p>"},{"location":"04-systems/#viewing-systems","title":"Viewing Systems","text":""},{"location":"04-systems/#system-list","title":"System List","text":"<p>Navigate to Systems to see:</p> <ul> <li>System name</li> <li>Type (ns8, nsec, etc.)</li> <li>Version</li> <li>FQDN and IP addresses</li> <li>Organization</li> <li>Created by</li> <li>Status (unknown, online, offline)</li> <li>Registration status</li> </ul>"},{"location":"04-systems/#filtering-and-search","title":"Filtering and Search","text":"<p>Use filters to find specific systems:</p> <ul> <li>Search: By name or system_key</li> <li>Product: Filter by type (NethServer or NethSecurity)</li> <li>Version: Filter by system version</li> <li>Organization: Filter by customer organization</li> <li>Created By: Filter by user who created the system</li> <li>Status: unknown, online, offline, deleted</li> <li>Sort By: Name, version, FQDN/IP address, Organization, Created By, Status</li> </ul>"},{"location":"04-systems/#system-details","title":"System Details","text":"<p>Click on a system to view comprehensive information:</p>"},{"location":"04-systems/#overview-tab","title":"Overview Tab","text":"<ul> <li>Basic Information:</li> <li>System name</li> <li>System type (auto-detected)</li> <li>Status</li> <li>Version</li> <li> <p>Registration timestamp</p> </li> <li> <p>Network Information:</p> </li> <li>FQDN (Fully Qualified Domain Name)</li> <li>IPv4 address</li> <li> <p>IPv6 address</p> </li> <li> <p>Authentication:</p> </li> <li>System key (visible only after registration)</li> <li>Registration status</li> <li> <p>Last authentication time</p> </li> <li> <p>Organization:</p> </li> <li>Customer name</li> <li>Organization type</li> <li> <p>Organization name</p> </li> <li> <p>Heartbeat Status:</p> </li> <li>Current status (active/inactive/unknown)</li> <li>Last heartbeat timestamp</li> <li> <p>Last inventory timestamp</p> </li> <li> <p>Audit Trail:</p> </li> <li>Created by (user name and email)</li> <li>Creation date</li> <li>Deletion date (if soft-deleted)</li> </ul>"},{"location":"04-systems/#inventory-tab","title":"Inventory Tab","text":"<p>View detailed system inventory:</p> <ul> <li>Latest Inventory: Most recent inventory snapshot</li> <li>Inventory History: All historical inventories with pagination</li> <li>Changes: List of detected changes between inventories</li> <li>Diff View: Detailed comparison between inventory versions</li> </ul> <p>See Inventory and Heartbeat for details.</p>"},{"location":"04-systems/#managing-systems","title":"Managing Systems","text":""},{"location":"04-systems/#editing-system-information","title":"Editing System Information","text":"<ol> <li>Navigate to the system page</li> <li>Click Edit</li> <li>Update the fields:</li> <li>Name</li> <li>Organization</li> <li>Notes</li> <li>Click Save systen</li> </ol>"},{"location":"04-systems/#regenerating-system-secret","title":"Regenerating System Secret","text":"<p>If the <code>system_secret</code> is compromised or lost:</p> <ol> <li>Navigate to the system page</li> <li>Click Regenerate Secret (using kebab men\u00f9)</li> <li>Confirm the action</li> <li>Copy the new secret immediately (shown only once)</li> <li>Update the secret on the external system</li> </ol> <p>\u26a0\ufe0f Warning: - Old secret is invalidated immediately - System cannot authenticate until new secret is configured - All inventory and heartbeat will fail until updated - System remains registered (registered_at unchanged)</p> <p>When to regenerate: - Secret is compromised or leaked - Secret is lost (for registered systems) - Security audit requires credential rotation - Migrating system to new hardware</p>"},{"location":"04-systems/#soft-delete","title":"Soft Delete","text":"<p>Soft delete marks a system as deleted without removing data:</p> <ol> <li>Navigate to the system details page</li> <li>Click Delete (using kebab men\u00f9)</li> <li>Confirm the action</li> </ol> <p>Effects: - System marked as \"deleted\" - Cannot send inventory or heartbeat - Hidden from normal views - Can be restored if needed - All historical data is preserved</p> <p>To view deleted systems: 1. Apply filter: Status = \"deleted\" 2. Select the deleted system 3. Click Restore to undelete</p>"},{"location":"04-systems/#permanent-delete","title":"Permanent Delete","text":"<p>\u26a0\ufe0f Warning: This operation is irreversible!</p> <p>To permanently delete: 1. Soft delete the system first 2. Navigate to deleted systems view 3. Select the system 4. Click Permanent Delete 5. Type system name to confirm 6. Click Delete</p> <p>This will remove: - System record - All inventory history - All heartbeat records - All change detection data</p> <p>This will preserve: - Audit logs - User activity logs</p>"},{"location":"04-systems/#system-registration","title":"System Registration","text":"<p>After creating a system, the external system must register itself using the <code>system_secret</code>.</p>"},{"location":"04-systems/#registration-flow","title":"Registration Flow","text":"<ol> <li>Admin creates system \u2192 receives <code>system_secret</code></li> <li>Admin configures external system with the secret</li> <li>External system calls registration API with secret</li> <li>Platform validates and returns <code>system_key</code></li> <li>External system stores both credentials for future use</li> </ol> <p>See System Registration for detailed instructions.</p>"},{"location":"04-systems/#registration-status","title":"Registration Status","text":"<p>Before Registration: <pre><code>{\n  \"system_key\": \"\",  // Hidden\n  \"registered_at\": null,\n  \"status\": \"unknown\"\n}\n</code></pre></p> <p>After Registration: <pre><code>{\n  \"system_key\": \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\",  // Now visible\n  \"registered_at\": \"2025-11-06T10:30:00Z\",\n  \"status\": \"unknown\"  // Will update after first inventory\n}\n</code></pre></p>"},{"location":"04-systems/#system-monitoring","title":"System Monitoring","text":""},{"location":"04-systems/#dashboard-overview","title":"Dashboard Overview","text":"<p>Navigate to Dashboard to see:</p> <ul> <li>Total Systems: Count across accessible organizations</li> <li>System Status: Distribution (unknown/online/offline)</li> <li>Heartbeat Status: Active/inactive/unknown counts</li> <li>Recent Changes: Latest inventory changes</li> <li>Alerts: Systems with issues</li> </ul>"},{"location":"04-systems/#exporting-system-data","title":"Exporting System Data","text":"<p>Export system information for reporting:</p> <ol> <li>Navigate to Systems</li> <li>Apply filters if needed</li> <li>Click Actions &gt; Export</li> <li>Choose format:</li> <li>CSV or PDF</li> <li>Download the file</li> </ol>"},{"location":"04-systems/#best-practices","title":"Best Practices","text":""},{"location":"04-systems/#system-naming","title":"System Naming","text":"<ul> <li>Use descriptive, consistent names</li> <li>Include location if relevant: \"Server Milano Nord\"</li> <li>Include purpose: \"Production Web\", \"Backup Server\"</li> <li>Avoid special characters</li> <li>Keep names under 50 characters</li> </ul>"},{"location":"04-systems/#organization","title":"Organization","text":"<ul> <li>Group systems by customer</li> <li>Use custom data for categorization</li> <li>Tag systems with environment (prod/staging/dev)</li> <li>Document system purpose in notes</li> </ul>"},{"location":"04-systems/#security","title":"Security","text":"<ul> <li>Store secrets securely (password manager, vault)</li> <li>Never share secrets via email</li> <li>Revoke secrets immediately if compromised</li> <li>Monitor failed authentication attempts</li> </ul>"},{"location":"04-systems/#monitoring","title":"Monitoring","text":"<ul> <li>Check heartbeat status daily</li> <li>Review inventory changes weekly</li> <li>Set up alerts for critical systems</li> <li>Monitor system versions for updates</li> </ul>"},{"location":"04-systems/#troubleshooting","title":"Troubleshooting","text":""},{"location":"04-systems/#system-not-appearing-in-list","title":"System Not Appearing in List","text":"<p>Problem: Expected system is not visible</p> <p>Solutions: 1. Check if system belongs to accessible organization 2. Verify system is not soft-deleted (check deleted filter) 3. Confirm you have Support or Admin role 4. Check if filters are applied 5. Refresh the page</p>"},{"location":"04-systems/#cannot-register-system","title":"Cannot Register System","text":"<p>Problem: Registration fails with \"invalid system secret\"</p> <p>Solutions: 1. Verify secret was copied correctly (no extra spaces) 2. Check secret hasn't been regenerated 3. Confirm system is not deleted 4. Ensure system is not already registered 5. See System Registration Troubleshooting</p>"},{"location":"04-systems/#system-shows-as-inactive","title":"System Shows as \"Inactive\"","text":"<p>Problem: System heartbeat status is \"inactive\" (yellow)</p> <p>Solutions: 1. Check if system is actually running 2. Verify network connectivity 3. Check system logs for errors 4. Confirm credentials are correct 5. Test heartbeat endpoint manually 6. See Inventory and Heartbeat</p>"},{"location":"04-systems/#system_key-is-hidden","title":"System_key is Hidden","text":"<p>Problem: Cannot see system_key field</p> <p>Explanation: - system_key is hidden until system is registered - This is expected behavior for unregistered systems - Register the system first to reveal system_key</p> <p>Solution: 1. Use system_secret to register the system 2. After registration, system_key becomes visible 3. See System Registration</p>"},{"location":"04-systems/#lost-system-secret","title":"Lost System Secret","text":"<p>Problem: System secret was not saved during creation</p> <p>Solutions: 1. Regenerate the system secret 2. Configure external system with new secret 3. System must re-register if already registered 4. Old secret becomes invalid immediately</p>"},{"location":"04-systems/#system-type-not-detected","title":"System Type Not Detected","text":"<p>Problem: System type shows as null or unknown</p> <p>Explanation: - System type is auto-detected from first inventory - Shows null until first inventory is received</p> <p>Solution: 1. Ensure system is registered 2. Send first inventory from external system 3. Type will be detected automatically 4. See Inventory and Heartbeat</p>"},{"location":"04-systems/#next-steps","title":"Next Steps","text":"<p>After creating systems:</p> <ul> <li>Register external systems using system_secret</li> <li>Configure inventory collection</li> <li>Set up monitoring and alerts</li> <li>Review system statistics regularly</li> </ul>"},{"location":"04-systems/#related-documentation","title":"Related Documentation","text":"<ul> <li>System Registration</li> <li>Inventory and Heartbeat</li> <li>Organizations Management</li> </ul>"},{"location":"05-system-registration/","title":"System Registration","text":"<p>Learn how external systems register with My platform to enable monitoring and management.</p>"},{"location":"05-system-registration/#overview","title":"Overview","text":"<p>System registration is the process by which an external system (NethServer, NethSecurity, etc.) authenticates itself with My and receives its permanent credentials.</p>"},{"location":"05-system-registration/#why-registration-is-needed","title":"Why Registration is Needed","text":"<ul> <li>Security: Validates the system before allowing data transmission</li> <li>Authentication: Establishes long-term credentials</li> <li>Tracking: Records when a system first connected</li> <li>Visibility: Makes system_key visible to administrators</li> </ul>"},{"location":"05-system-registration/#registration-flow","title":"Registration Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             \u2502  1. Create system                   \u2502              \u2502\n\u2502    Admin    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; \u2502      My      \u2502\n\u2502             \u2502  \u2190 Returns system_secret (1 time)   \u2502   Platform   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                           \u2502\n                                                           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                            \u2502\n\u2502  External   \u2502  2. Configure system_secret                \u2502\n\u2502   System    \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502 (NethServer)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u2502  3. Call registration API\n      \u2502     POST /api/systems/register\n      \u2502     { \"system_secret\": \"my_...\" }\n      \u2502\n      v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      My      \u2502  4. Validate secret\n\u2502   Platform   \u2502     \u2713 Format correct\n\u2502              \u2502     \u2713 Public part exists\n\u2502              \u2502     \u2713 Secret part verified (Argon2id)\n\u2502              \u2502     \u2713 Not deleted\n\u2502              \u2502     \u2713 Not already registered\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u2502  5. Return system_key\n      v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  External   \u2502  6. Store credentials:\n\u2502   System    \u2502     - system_key (username)\n\u2502             \u2502     - system_secret (password)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u2502  7. Ready for inventory &amp; heartbeat!\n      v\n</code></pre>"},{"location":"05-system-registration/#understanding-credentials","title":"Understanding Credentials","text":""},{"location":"05-system-registration/#system_secret-created-at-system-creation","title":"system_secret (Created at System Creation)","text":"<p>Format: <code>my_&lt;public_part&gt;.&lt;secret_part&gt;</code></p> <p>Example: <code>my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0</code></p> <p>Components: - Prefix: <code>my_</code> (identifies token type) - Public part: 20 hex characters (for database lookup) - Separator: <code>.</code> (dot) - Secret part: 40 hex characters (hashed with Argon2id)</p> <p>Characteristics: - Shown only once during system creation - Cannot be retrieved later (regeneration creates new one) - Used for registration (one-time) - Used for all future authentication (inventory, heartbeat)</p>"},{"location":"05-system-registration/#system_key-received-at-registration","title":"system_key (Received at Registration)","text":"<p>Format: <code>NOC-&lt;random_string&gt;</code></p> <p>Example: <code>NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE</code></p> <p>Characteristics: - Generated during system creation - Hidden until system registers - Visible after successful registration - Used as username for HTTP Basic Auth - Never changes (even if secret is regenerated)</p>"},{"location":"05-system-registration/#registration-process","title":"Registration Process","text":""},{"location":"05-system-registration/#step-1-admin-creates-system","title":"Step 1: Admin Creates System","text":"<p>See Systems Management for details.</p> <p>After creation, save the <code>system_secret</code>: <pre><code>{\n  \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n}\n</code></pre></p>"},{"location":"05-system-registration/#step-2-configure-external-system","title":"Step 2: Configure External System","text":"<p>Configure the external system with the <code>system_secret</code>. The exact method depends on the system type:</p>"},{"location":"05-system-registration/#for-nethservernethsecurity","title":"For NethServer/NethSecurity:","text":"<ol> <li>Log in to the system admin interface</li> <li>Navigate to Settings &gt; Subscription</li> <li>Paste the <code>system_secret</code></li> <li>Click Register</li> </ol>"},{"location":"05-system-registration/#for-custom-systems-api","title":"For Custom Systems (API):","text":"<p>Store the secret securely in your application:</p> <p>Configuration file example: <pre><code># /etc/my/config.conf\nMY_PLATFORM_URL=https://my.nethesis.it\nMY_SYSTEM_SECRET=my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\n</code></pre></p> <p>Environment variables: <pre><code>export MY_PLATFORM_URL=\"https://my.nethesis.it\"\nexport MY_SYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n</code></pre></p>"},{"location":"05-system-registration/#step-3-call-registration-api","title":"Step 3: Call Registration API","text":"<p>The external system makes a POST request to register:</p> <p>Endpoint: <code>POST https://my.nethesis.it/api/systems/register</code></p> <p>Headers: <pre><code>Content-Type: application/json\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n}\n</code></pre></p> <p>cURL Example: <pre><code>curl -X POST https://my.nethesis.it/api/systems/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n  }'\n</code></pre></p> <p>Python Example: <pre><code>import requests\n\nurl = \"https://my.nethesis.it/api/systems/register\"\npayload = {\n    \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n}\n\nresponse = requests.post(url, json=payload)\ndata = response.json()\nsystem_key = data[\"data\"][\"system_key\"]\nprint(f\"Registered! system_key: {system_key}\")\n</code></pre></p>"},{"location":"05-system-registration/#step-4-platform-validates","title":"Step 4: Platform Validates","text":"<p>The platform performs several security checks:</p> <ol> <li>Token Format Validation:</li> <li>Splits on <code>.</code> \u2192 must have exactly 2 parts</li> <li>First part must start with <code>my_</code></li> <li> <p>Extracts public and secret parts</p> </li> <li> <p>Database Lookup:</p> </li> <li>Finds system using public part</li> <li> <p>Fast indexed query on <code>system_secret_public</code></p> </li> <li> <p>Security Checks:</p> </li> <li>System is not deleted</li> <li>System is not already registered</li> <li> <p>Public part matches stored value</p> </li> <li> <p>Cryptographic Verification:</p> </li> <li>Verifies secret part against Argon2id hash</li> <li>Constant-time comparison (prevents timing attacks)</li> </ol>"},{"location":"05-system-registration/#step-5-successful-registration","title":"Step 5: Successful Registration","text":"<p>Success Response (HTTP 200): <pre><code>{\n  \"code\": 200,\n  \"message\": \"system registered successfully\",\n  \"data\": {\n    \"system_key\": \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\",\n    \"registered_at\": \"2025-11-06T10:30:00Z\",\n    \"message\": \"system registered successfully\"\n  }\n}\n</code></pre></p> <p>What happens: - <code>registered_at</code> timestamp is recorded in database - <code>system_key</code> becomes visible to administrators - System can now authenticate for inventory and heartbeat</p>"},{"location":"05-system-registration/#step-6-store-credentials","title":"Step 6: Store Credentials","text":"<p>The external system must securely store both credentials:</p> <p>Required for future authentication: - <code>system_key</code>: Username for HTTP Basic Auth - <code>system_secret</code>: Password for HTTP Basic Auth</p> <p>Storage recommendations: <pre><code># Configuration file\nMY_SYSTEM_KEY=NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\nMY_SYSTEM_SECRET=my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\n\n# Or use secure storage:\n# - System keyring\n# - Encrypted configuration\n# - Secret management service (Vault, etc.)\n</code></pre></p>"},{"location":"05-system-registration/#error-responses","title":"Error Responses","text":""},{"location":"05-system-registration/#invalid-token-format","title":"Invalid Token Format","text":"<p>HTTP 400 Bad Request: <pre><code>{\n  \"code\": 400,\n  \"message\": \"invalid system secret format\",\n  \"data\": null\n}\n</code></pre></p> <p>Causes: - Token doesn't contain <code>.</code> separator - Token doesn't start with <code>my_</code> - Token is malformed</p> <p>Solution: - Verify secret was copied correctly - Check for extra spaces or line breaks - Ensure complete token is provided</p>"},{"location":"05-system-registration/#invalid-credentials","title":"Invalid Credentials","text":"<p>HTTP 401 Unauthorized: <pre><code>{\n  \"code\": 401,\n  \"message\": \"invalid system secret\",\n  \"data\": null\n}\n</code></pre></p> <p>Causes: - Public part not found in database - Secret part doesn't match hash - Wrong secret provided</p> <p>Solution: - Verify secret is correct - Check if secret was regenerated - Ensure system was created in My platform</p>"},{"location":"05-system-registration/#system-deleted","title":"System Deleted","text":"<p>HTTP 403 Forbidden: <pre><code>{\n  \"code\": 403,\n  \"message\": \"system has been deleted\",\n  \"data\": null\n}\n</code></pre></p> <p>Causes: - System was soft-deleted by administrator - System marked as deleted in database</p> <p>Solution: - Contact administrator to restore system - Create a new system if needed</p>"},{"location":"05-system-registration/#already-registered","title":"Already Registered","text":"<p>HTTP 409 Conflict: <pre><code>{\n  \"code\": 409,\n  \"message\": \"system is already registered\",\n  \"data\": null\n}\n</code></pre></p> <p>Causes: - System has already completed registration - <code>registered_at</code> field is not null</p> <p>Solution: - System is already registered, proceed to authentication - Use existing <code>system_key</code> and <code>system_secret</code> for authentication - No action needed unless re-registration is required</p>"},{"location":"05-system-registration/#after-registration","title":"After Registration","text":""},{"location":"05-system-registration/#view-registration-status","title":"View Registration Status","text":"<p>Administrators can view registration status:</p> <ol> <li>Navigate to Systems</li> <li>Find the system and click View details</li> <li>Check fields:</li> <li>System_key: Now visible (was hidden before)</li> <li>Subscription: Shows timestamp</li> <li>Status: May still be \"unknown\" until first inventory</li> </ol>"},{"location":"05-system-registration/#next-steps-for-external-system","title":"Next Steps for External System","text":"<p>After successful registration, the system should:</p> <ol> <li>Store credentials securely</li> <li>Send first inventory (see Inventory and Heartbeat)</li> <li>Start heartbeat timer (recommended: every 5 minutes)</li> <li>Monitor authentication failures</li> </ol>"},{"location":"05-system-registration/#re-registration","title":"Re-registration","text":""},{"location":"05-system-registration/#when-is-re-registration-needed","title":"When is Re-registration Needed?","text":"<p>Re-registration is NOT typically needed. A system remains registered unless:</p> <ul> <li>System is deleted and recreated (new system_secret)</li> <li>Administrator explicitly resets registration (manual database operation)</li> </ul>"},{"location":"05-system-registration/#when-is-re-registration-not-needed","title":"When is Re-registration NOT Needed?","text":"<ul> <li>Secret regeneration: System remains registered, just use new secret</li> <li>System reboot: Registration persists</li> <li>Network changes: Registration persists</li> <li>Software updates: Registration persists</li> </ul>"},{"location":"05-system-registration/#security-considerations","title":"Security Considerations","text":""},{"location":"05-system-registration/#token-security","title":"Token Security","text":"<p>Best Practices: - Store tokens in encrypted configuration - Never log tokens in plaintext - Use secure channels (HTTPS only) - Rotate secrets periodically - Revoke compromised secrets immediately</p>"},{"location":"05-system-registration/#authentication-flow","title":"Authentication Flow","text":"<p>How it works: 1. External system splits <code>system_secret</code> into public + secret parts 2. Platform queries database using public part (fast indexed lookup) 3. Platform verifies secret part using Argon2id (memory-hard, GPU-resistant) 4. Platform caches result in Redis (5 minutes TTL)</p> <p>Security benefits: - Fast database queries (indexed public part) - Strong cryptography (Argon2id: 64MB memory, 3 iterations) - Brute-force resistant (memory-hard algorithm) - Industry-standard pattern (GitHub, Stripe, Slack use similar)</p>"},{"location":"05-system-registration/#network-security","title":"Network Security","text":"<p>Requirements: - Always use HTTPS for registration - Verify SSL/TLS certificates - Use secure DNS resolution - Avoid public Wi-Fi for initial registration</p>"},{"location":"05-system-registration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"05-system-registration/#registration-fails-with-network-error","title":"Registration Fails with Network Error","text":"<p>Problem: Cannot connect to registration endpoint</p> <p>Solutions: 1. Check network connectivity: <code>ping my.nethesis.it</code> 2. Verify DNS resolution: <code>nslookup my.nethesis.it</code> 3. Test HTTPS connectivity: <code>curl https://my.nethesis.it/api/health</code> 4. Check firewall rules (allow outbound HTTPS) 5. Verify proxy settings if behind corporate proxy</p>"},{"location":"05-system-registration/#registration-succeeds-but-system_key-not-visible","title":"Registration Succeeds but system_key Not Visible","text":"<p>Problem: Registration response shows success but admin panel doesn't show system_key</p> <p>Solutions: 1. Refresh the admin page (Ctrl+F5) 2. Clear browser cache 3. Wait 30 seconds and refresh (cache propagation) 4. Check different browser 5. Verify you're viewing the correct system</p>"},{"location":"05-system-registration/#lost-system_secret-before-registration","title":"Lost system_secret Before Registration","text":"<p>Problem: System was created but secret was not saved, system not yet registered</p> <p>Solutions: 1. Generate new secret: Click Regenerate Secret in admin panel 2. Copy new secret immediately 3. Configure external system with new secret 4. Proceed with registration</p>"},{"location":"05-system-registration/#lost-system_secret-after-registration","title":"Lost system_secret After Registration","text":"<p>Problem: System is registered but secret was lost</p> <p>Solutions: 1. If system is working: Do nothing, credentials are stored on system 2. If need to reconfigure: Regenerate secret in admin panel 3. Update secret on external system 4. System remains registered (no re-registration needed)</p>"},{"location":"05-system-registration/#registration-with-wrong-secret","title":"Registration with Wrong Secret","text":"<p>Problem: Accidentally registered with wrong system's secret</p> <p>Solutions: 1. This is impossible - each secret is unique per system 2. Platform validates public part matches system record 3. Registration will fail if using wrong system's secret</p>"},{"location":"05-system-registration/#system-shows-as-registered-but-cannot-authenticate","title":"System Shows as Registered but Cannot Authenticate","text":"<p>Problem: Registration succeeded but inventory/heartbeat fails with 401</p> <p>Solutions: 1. Verify both credentials are stored correctly:    - <code>system_key</code> (from registration response)    - <code>system_secret</code> (original from creation) 2. Check HTTP Basic Auth header format 3. Test authentication manually (see Inventory and Heartbeat) 4. Verify no extra spaces in stored credentials 5. Check if secret was regenerated after registration</p>"},{"location":"05-system-registration/#advanced-topics","title":"Advanced Topics","text":""},{"location":"05-system-registration/#automated-registration","title":"Automated Registration","text":"<p>For automated deployments, registration can be scripted:</p> <p>Bash script example: <pre><code>#!/bin/bash\n\nPLATFORM_URL=\"https://my.nethesis.it\"\nSYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\n# Register and extract system_key\nresponse=$(curl -s -X POST \"$PLATFORM_URL/api/systems/register\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"system_secret\\\": \\\"$SYSTEM_SECRET\\\"}\")\n\nsystem_key=$(echo \"$response\" | jq -r '.data.system_key')\n\nif [ \"$system_key\" != \"null\" ] &amp;&amp; [ -n \"$system_key\" ]; then\n  echo \"Registration successful!\"\n  echo \"system_key: $system_key\"\n\n  # Store credentials\n  echo \"MY_SYSTEM_KEY=$system_key\" &gt;&gt; /etc/my/config.conf\n  echo \"MY_SYSTEM_SECRET=$SYSTEM_SECRET\" &gt;&gt; /etc/my/config.conf\n\n  # Start inventory/heartbeat service\n  systemctl start my-agent\nelse\n  echo \"Registration failed!\"\n  echo \"$response\"\n  exit 1\nfi\n</code></pre></p>"},{"location":"05-system-registration/#multiple-registrations-error","title":"Multiple Registrations (Error)","text":"<p>Question: What happens if I register the same system multiple times?</p> <p>Answer: Second and subsequent registration attempts will fail with HTTP 409 (already registered). This is by design to prevent accidental re-registration.</p>"},{"location":"05-system-registration/#unregistering-a-system","title":"Unregistering a System","text":"<p>Question: How do I unregister a system?</p> <p>Answer: There is no \"unregister\" operation. To reset: 1. Delete the system (soft delete) 2. Restore the system 3. System remains registered with same <code>system_key</code> 4. Regenerate secret if needed</p> <p>Or: 1. Delete system (soft delete) 2. Permanently delete system 3. Create new system (new credentials, new registration)</p>"},{"location":"05-system-registration/#next-steps","title":"Next Steps","text":"<p>After successful registration:</p> <ul> <li>Configure inventory collection</li> <li>Set up heartbeat monitoring</li> <li>Test authentication</li> <li>Monitor system status in dashboard</li> </ul>"},{"location":"05-system-registration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Systems Management</li> <li>Inventory and Heartbeat</li> <li>Backend API Documentation</li> </ul>"},{"location":"06-inventory-heartbeat/","title":"Inventory and Heartbeat","text":"<p>Learn how external systems send inventory data and heartbeat signals to My platform.</p>"},{"location":"06-inventory-heartbeat/#overview","title":"Overview","text":"<p>After system registration, external systems communicate with My through two mechanisms:</p> <ol> <li>Inventory: Complete system information snapshot (hardware, software, configuration)</li> <li>Heartbeat: Periodic \"I'm alive\" signal to indicate system is online</li> </ol> <p>Both operations use HTTP Basic Authentication with the registered credentials.</p>"},{"location":"06-inventory-heartbeat/#authentication","title":"Authentication","text":""},{"location":"06-inventory-heartbeat/#credentials","title":"Credentials","text":"<p>Use the credentials obtained during system lifecycle:</p> <ul> <li>Username: <code>system_key</code> (received at registration)</li> <li>Password: <code>system_secret</code> (from system creation)</li> </ul>"},{"location":"06-inventory-heartbeat/#http-basic-auth","title":"HTTP Basic Auth","text":"<p>Header format: <pre><code>Authorization: Basic base64(system_key:system_secret)\n</code></pre></p> <p>Example: <pre><code>system_key: NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\nsystem_secret: my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\n\nBase64 encode: \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE:my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\nAuthorization: Basic bXlfc3lzX2FiYzEyM2RlZjQ1NjpteV9hMWIyYzNkNGU1ZjZnN2g4aTlqMC5rMWwybTNuNG81cDZxN3I4czl0MHUxdjJ3M3g0eTV6NmE3YjhjOWQw\n</code></pre></p> <p>Most HTTP libraries handle this automatically: <pre><code>import requests\n\nrequests.post(url,\n    auth=('NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE', 'my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0'),\n    json=data\n)\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#heartbeat","title":"Heartbeat","text":"<p>Heartbeat is a simple signal to indicate the system is alive and reachable.</p>"},{"location":"06-inventory-heartbeat/#purpose","title":"Purpose","text":"<ul> <li>Detect when systems go offline</li> <li>Trigger alerts for dead systems</li> <li>Monitor system reliability</li> </ul>"},{"location":"06-inventory-heartbeat/#endpoint","title":"Endpoint","text":"<pre><code>POST https://my.nethesis.it/collect/api/systems/heartbeat\n</code></pre> <p>Note: Collect service runs on /collect (different from main backend on /backend)</p>"},{"location":"06-inventory-heartbeat/#request","title":"Request","text":"<p>Headers: <pre><code>Authorization: Basic &lt;credentials&gt;\nContent-Type: application/json\n</code></pre></p> <p>Body: <pre><code>{}\n</code></pre></p> <p>Empty JSON object - no data needed!</p>"},{"location":"06-inventory-heartbeat/#response","title":"Response","text":"<p>Success (HTTP 200): <pre><code>{\n  \"code\": 200,\n  \"message\": \"heartbeat acknowledged\",\n  \"data\": {\n    \"system_key\": \"NOC-80F8-89A4-40B0-4AE9-A670-7C5F-99B3-F3EA\",\n    \"acknowledged\": true,\n    \"last_heartbeat\": \"2025-11-07T10:37:27.360343+01:00\"\n  }\n}\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#frequency","title":"Frequency","text":"<p>Recommended: Every 5 minutes</p> <p>Why 5 minutes? - Platform considers system \"active\" if heartbeat &lt; 15 minutes - 5-minute interval provides 3 missed beats before marking dead - Balance between network traffic and responsiveness</p>"},{"location":"06-inventory-heartbeat/#example-implementation","title":"Example Implementation","text":"<p>Python: <pre><code>import requests\nimport time\n\nCOLLECT_URL = \"https://my.nethesis.it/collect\"\nSYSTEM_KEY = \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET = \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\ndef send_heartbeat():\n    \"\"\"Send heartbeat to My platform\"\"\"\n    try:\n        response = requests.post(\n            f\"{COLLECT_URL}/api/systems/heartbeat\",\n            auth=(SYSTEM_KEY, SYSTEM_SECRET),\n            json={},\n            timeout=10\n        )\n        response.raise_for_status()\n        print(\"Heartbeat sent successfully\")\n        return True\n    except Exception as e:\n        print(f\"Heartbeat failed: {e}\")\n        return False\n\n# Send heartbeat every 5 minutes\nwhile True:\n    send_heartbeat()\n    time.sleep(300)  # 5 minutes\n</code></pre></p> <p>Bash (cron): <pre><code>#!/bin/bash\n# /usr/local/bin/my-heartbeat.sh\n\nCOLLECT_URL=\"https://my.nethesis.it/collect\"\nSYSTEM_KEY=\"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\ncurl -s -X POST \"$COLLECT_URL/api/systems/heartbeat\" \\\n  -u \"$SYSTEM_KEY:$SYSTEM_SECRET\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{}' &gt; /dev/null\n</code></pre></p> <p>Crontab entry (every 5 minutes): <pre><code>*/5 * * * * /usr/local/bin/my-heartbeat.sh\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#heartbeat-status","title":"Heartbeat Status","text":"<p>Systems are classified based on heartbeat:</p> Status Condition Color Meaning Active &lt; 15 minutes \ud83d\udfe2 Green System is healthy Inactive \u2265 15 minutes \ud83d\udfe1 Yellow System is offline Unknown Never sent \u26aa Gray Never communicated"},{"location":"06-inventory-heartbeat/#inventory","title":"Inventory","text":"<p>Inventory is a complete snapshot of system configuration and installed software.</p>"},{"location":"06-inventory-heartbeat/#purpose_1","title":"Purpose","text":"<ul> <li>Track system hardware and software</li> <li>Detect configuration changes</li> <li>Monitor software versions</li> <li>Audit system compliance</li> <li>Track inventory history</li> </ul>"},{"location":"06-inventory-heartbeat/#endpoint_1","title":"Endpoint","text":"<pre><code>POST https://my.nethesis.it/collect/api/systems/inventory\n</code></pre> <p>Note: Same collect service, port 8081</p>"},{"location":"06-inventory-heartbeat/#request_1","title":"Request","text":"<p>Headers: <pre><code>Authorization: Basic &lt;credentials&gt;\nContent-Type: application/json\n</code></pre></p> <p>Body Structure: <pre><code>{\n  \"fqdn\": \"server.example.com\",\n  \"ipv4_address\": \"192.168.1.100\",\n  \"ipv6_address\": \"2001:db8::1\",\n  \"version\": \"8.0.1\",\n  \"os\": {\n    \"name\": \"Rocky Linux\",\n    \"version\": \"9.3\",\n    \"kernel\": \"5.14.0-362.8.1.el9_3.x86_64\"\n  },\n  \"hardware\": {\n    \"cpu_model\": \"Intel Xeon Gold 6248R\",\n    \"cpu_cores\": 8,\n    \"cpu_threads\": 16,\n    \"memory_total_gb\": 32,\n    \"disk_total_gb\": 500\n  },\n  \"network\": {\n    \"hostname\": \"server01\",\n    \"interfaces\": {\n      \"eth0\": {\n        \"ip\": \"192.168.1.100\",\n        \"netmask\": \"255.255.255.0\",\n        \"mac\": \"00:1a:2b:3c:4d:5e\"\n      },\n      \"eth1\": {\n        \"ip\": \"10.0.0.10\",\n        \"netmask\": \"255.255.0.0\",\n        \"mac\": \"00:1a:2b:3c:4d:5f\"\n      }\n    }\n  },\n  \"services\": {\n    \"nginx\": {\n      \"version\": \"1.24.0\",\n      \"status\": \"running\"\n    },\n    \"postgresql\": {\n      \"version\": \"15.5\",\n      \"status\": \"running\"\n    },\n    \"redis\": {\n      \"version\": \"7.2.3\",\n      \"status\": \"running\"\n    }\n  },\n  \"features\": {\n    \"docker\": {\n      \"enabled\": true,\n      \"version\": \"24.0.7\"\n    },\n    \"firewall\": {\n      \"enabled\": true,\n      \"type\": \"nftables\"\n    }\n  },\n  \"custom\": {\n    \"environment\": \"production\",\n    \"datacenter\": \"EU-West-1\",\n    \"backup_enabled\": true\n  }\n}\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#response_1","title":"Response","text":"<p>Success (HTTP 200): <pre><code>{\n  \"code\": 200,\n  \"message\": \"Inventory received and queued for processing\",\n  \"data\": {\n    \"data_size\": 16433,\n    \"message\": \"Your inventory data has been received and will be processed shortly\",\n    \"queue_status\": \"queued\",\n    \"system_id\": \"0a98637c-077b-428a-8e57-c2fbb892051a\",\n    \"timestamp\": \"2025-11-07T10:39:05.897352+01:00\"\n  }\n}\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#frequency_1","title":"Frequency","text":"<p>Recommended: Every 6 hours (4 times per day)</p> <p>Why 6 hours? - Balance between freshness and network/storage load - Captures daily changes - Reduces database growth - Sufficient for most monitoring needs</p> <p>Special cases: - After system changes: Send immediately - During updates: Send before and after - On-demand: Admin can trigger via API</p>"},{"location":"06-inventory-heartbeat/#inventory-schema","title":"Inventory Schema","text":""},{"location":"06-inventory-heartbeat/#required-fields","title":"Required Fields","text":"<p>Minimum required data: <pre><code>{\n  \"fqdn\": \"server.example.com\",\n  \"ipv4_address\": \"192.168.1.100\",\n  \"os\": {\n    \"name\": \"NethSec\",\n    \"type\": \"nethsecurity\",\n    \"family\": \"OpenWRT\",\n    \"release\": {\n        \"full\": \"8.6.0-dev+43d54cd33.20251020175318\",\n        \"major\": 7\n    }\n  }\n}\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#optional-sections","title":"Optional Sections","text":"<p>All other sections are optional but recommended:</p> <ul> <li><code>os</code>: Operating system information</li> <li><code>hardware</code>: Physical/virtual hardware specs</li> <li><code>network</code>: Network configuration</li> <li><code>services</code>: Installed services and versions</li> <li><code>features</code>: Enabled features and capabilities</li> <li><code>custom</code>: Any custom data (free-form)</li> </ul>"},{"location":"06-inventory-heartbeat/#auto-detection","title":"Auto-Detection","text":"<p>Some fields are auto-detected by platform:</p> <ul> <li>System Type: Detected from inventory data (ns8, nsec, etc.)</li> <li>Status: Auto-updated based on heartbeat</li> <li>Last Update: Timestamp of inventory receipt</li> </ul>"},{"location":"06-inventory-heartbeat/#example-implementation_1","title":"Example Implementation","text":"<p>Python: <pre><code>import requests\nimport platform\nimport psutil\nimport json\n\nCOLLECT_URL = \"https://my.nethesis.it/collect\"\nSYSTEM_KEY = \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET = \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\ndef collect_inventory():\n    \"\"\"Collect system inventory\"\"\"\n    return {\n        \"fqdn\": platform.node(),\n        \"ipv4_address\": get_primary_ip(),  # Your implementation\n        \"version\": \"8.0.1\",\n        \"os\": {\n            \"name\": platform.system(),\n            \"version\": platform.release(),\n            \"kernel\": platform.version()\n        },\n        \"hardware\": {\n            \"cpu_cores\": psutil.cpu_count(logical=False),\n            \"cpu_threads\": psutil.cpu_count(logical=True),\n            \"memory_total_gb\": round(psutil.virtual_memory().total / (1024**3), 2)\n        },\n        \"services\": collect_services(),  # Your implementation\n        \"features\": collect_features(),  # Your implementation\n    }\n\ndef send_inventory():\n    \"\"\"Send inventory to My platform\"\"\"\n    try:\n        inventory = collect_inventory()\n\n        response = requests.post(\n            f\"{COLLECT_URL}/api/systems/inventory\",\n            auth=(SYSTEM_KEY, SYSTEM_SECRET),\n            json=inventory,\n            timeout=30\n        )\n        response.raise_for_status()\n\n        data = response.json()\n        print(f\"Inventory sent successfully\")\n        print(f\"Changes detected: {data['data']['changes_detected']}\")\n        return True\n\n    except Exception as e:\n        print(f\"Inventory send failed: {e}\")\n        return False\n\n# Send inventory every 6 hours\nimport time\nwhile True:\n    send_inventory()\n    time.sleep(21600)  # 6 hours\n</code></pre></p> <p>Bash: <pre><code>#!/bin/bash\n# /usr/local/bin/my-inventory.sh\n\nCOLLECT_URL=\"https://my.nethesis.it/collect\"\nSYSTEM_KEY=\"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\n# Collect inventory (example - customize for your system)\nINVENTORY=$(cat &lt;&lt;EOF\n{\n  \"fqdn\": \"$(hostname -f)\",\n  \"ipv4_address\": \"$(hostname -I | awk '{print $1}')\",\n  \"version\": \"8.0.1\",\n  \"os\": {\n    \"name\": \"$(uname -s)\",\n    \"version\": \"$(uname -r)\"\n  },\n  \"hardware\": {\n    \"cpu_cores\": $(nproc),\n    \"memory_total_gb\": $(free -g | awk '/^Mem:/{print $2}')\n  }\n}\nEOF\n)\n\n# Send to platform\ncurl -X POST \"$COLLECT_URL/api/systems/inventory\" \\\n  -u \"$SYSTEM_KEY:$SYSTEM_SECRET\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"$INVENTORY\"\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#change-detection","title":"Change Detection","text":"<p>My automatically detects changes between inventory snapshots.</p>"},{"location":"06-inventory-heartbeat/#what-is-tracked","title":"What is Tracked","text":"<ul> <li>Hardware changes (CPU, memory, disk)</li> <li>Software version changes</li> <li>Service additions/removals</li> <li>Network configuration changes</li> <li>Feature toggles</li> <li>Custom field modifications</li> </ul>"},{"location":"06-inventory-heartbeat/#change-categories","title":"Change Categories","text":"<p>Changes are categorized by type:</p> <ul> <li>OS: Operating system and kernel</li> <li>Hardware: Physical/virtual hardware</li> <li>Network: Network interfaces and configuration</li> <li>Features: Enabled features and capabilities</li> <li>Services: Installed services</li> <li>System: General system settings</li> </ul>"},{"location":"06-inventory-heartbeat/#change-severity","title":"Change Severity","text":"<p>Each change has a severity level:</p> <ul> <li>Critical: Requires immediate attention (e.g., hardware failure)</li> <li>High: Important changes (e.g., OS upgrade)</li> <li>Medium: Notable changes (e.g., service update)</li> <li>Low: Minor changes (e.g., metrics update)</li> </ul>"},{"location":"06-inventory-heartbeat/#viewing-changes","title":"Viewing Changes","text":"<p>In Admin Panel: 1. Navigate to Systems &gt; System Details 2. Click Inventory tab 3. View Changes section 4. See detailed diff between versions</p> <p>Change types: - \ud83d\udfe2 Create: New field added - \ud83d\udfe1 Update: Field value changed - \ud83d\udd34 Delete: Field removed</p> <p>Example change log: <pre><code>[2025-11-06 10:30] OS Version updated\n  - Old: Rocky Linux 9.2\n  - New: Rocky Linux 9.3\n  - Severity: High\n  - Category: OS\n\n[2025-11-06 10:30] Nginx version updated\n  - Old: 1.23.0\n  - New: 1.24.0\n  - Severity: Medium\n  - Category: Services\n\n[2025-11-06 10:30] New feature enabled: Docker\n  - Value: 24.0.7\n  - Severity: Medium\n  - Category: Features\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#monitoring-in-admin-panel","title":"Monitoring in Admin Panel","text":""},{"location":"06-inventory-heartbeat/#real-time-status","title":"Real-time Status","text":"<p>Dashboard view: - Total systems count - Active / Inactive / Unknown breakdown - Recent inventory changes - Systems requiring attention</p> <p>System list: - Heartbeat status indicator (\ud83d\udfe2\ud83d\udfe1\u26aa) - Last heartbeat time - Last inventory time - Change notifications</p>"},{"location":"06-inventory-heartbeat/#alerts-if-configured","title":"Alerts (if configured)","text":"<p>Automatic alerts for: - System goes offline (no heartbeat for 15+ minutes) - Critical changes detected in inventory - New system registered - System version mismatch - Security vulnerabilities detected</p>"},{"location":"06-inventory-heartbeat/#system-health","title":"System Health","text":"<p>Health score based on: - Heartbeat reliability (% uptime) - Inventory freshness - Number of changes - Critical issues count</p>"},{"location":"06-inventory-heartbeat/#troubleshooting","title":"Troubleshooting","text":""},{"location":"06-inventory-heartbeat/#authentication-fails-http-401","title":"Authentication Fails (HTTP 401)","text":"<p>Problem: \"Invalid system credentials\" or \"Unauthorized\"</p> <p>Solutions: 1. Verify credentials are correct:    <pre><code>echo -n \"system_key:system_secret\" | base64\n</code></pre> 2. Check for extra spaces in credentials 3. Ensure system is registered 4. Verify secret wasn't regenerated 5. Test with curl:    <pre><code>curl -v -u \"system_key:system_secret\" \\\n  https://my.nethesis.it/collect/api/systems/heartbeat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{}'\n</code></pre></p>"},{"location":"06-inventory-heartbeat/#connection-timeout","title":"Connection Timeout","text":"<p>Problem: Request times out, no response</p> <p>Solutions: 1. Check network connectivity:    <pre><code>ping my.nethesis.it\n</code></pre> 2. Verify port 8081 is accessible:    <pre><code>telnet my.nethesis.it 8081\n</code></pre> 3. Check firewall rules (allow outbound to port 8081) 4. Verify DNS resolution 5. Test from different network</p>"},{"location":"06-inventory-heartbeat/#inventory-not-updating","title":"Inventory Not Updating","text":"<p>Problem: Inventory sent successfully but not visible in admin panel</p> <p>Solutions: 1. Wait 60 seconds and refresh (cache propagation) 2. Verify you're viewing the correct system 3. Check inventory was sent to correct endpoint (port 8081) 4. Verify system is not deleted 5. Check system logs for errors</p>"},{"location":"06-inventory-heartbeat/#heartbeat-shows-as-dead","title":"Heartbeat Shows as \"Dead\"","text":"<p>Problem: System shows red/dead status despite sending heartbeat</p> <p>Solutions: 1. Check heartbeat frequency (must be &lt; 15 minutes) 2. Verify heartbeat is reaching platform:    <pre><code>curl -v https://my.nethesis.it/collect/api/systems/heartbeat \\\n  -u \"key:secret\" -H \"Content-Type: application/json\" -d '{}'\n</code></pre> 3. Check system time is synchronized (NTP) 4. Verify no clock drift 5. Review collect service logs (admin only)</p>"},{"location":"06-inventory-heartbeat/#changes-not-detected","title":"Changes Not Detected","text":"<p>Problem: Inventory sent but no changes shown</p> <p>Solutions: 1. Verify actual data changed between inventories 2. Check that changed fields are supported 3. Small numerical changes may not trigger detection 4. Custom fields are tracked for changes 5. Wait for next inventory and compare</p>"},{"location":"06-inventory-heartbeat/#best-practices","title":"Best Practices","text":""},{"location":"06-inventory-heartbeat/#heartbeat_1","title":"Heartbeat","text":"<ul> <li>Send every 5 minutes consistently</li> <li>Use scheduled task (cron, systemd timer)</li> <li>Log heartbeat failures for debugging</li> <li>Implement retry logic (exponential backoff)</li> <li>Monitor heartbeat success rate</li> </ul>"},{"location":"06-inventory-heartbeat/#inventory_1","title":"Inventory","text":"<ul> <li>Send complete inventory every time</li> <li>Don't send partial updates</li> <li>Include all relevant data</li> <li>Use consistent field names</li> <li>Validate JSON before sending</li> <li>Send immediately after significant changes</li> </ul>"},{"location":"06-inventory-heartbeat/#error-handling","title":"Error Handling","text":"<ul> <li>Implement retry logic for network failures</li> <li>Log all errors with context</li> <li>Don't retry authentication errors (401)</li> <li>Use exponential backoff for retries</li> <li>Alert on repeated failures</li> </ul>"},{"location":"06-inventory-heartbeat/#security","title":"Security","text":"<ul> <li>Store credentials securely</li> <li>Never log credentials</li> <li>Use HTTPS only</li> <li>Verify SSL certificates</li> <li>Rotate credentials periodically</li> <li>Monitor for authentication failures</li> </ul>"},{"location":"06-inventory-heartbeat/#performance","title":"Performance","text":"<ul> <li>Compress large inventories</li> <li>Batch data collection</li> <li>Avoid unnecessary inventory sends</li> <li>Use efficient data structures</li> <li>Monitor network bandwidth</li> </ul>"},{"location":"06-inventory-heartbeat/#related-documentation","title":"Related Documentation","text":"<ul> <li>System Registration</li> <li>Systems Management</li> <li>Backend API</li> <li>Collect Service</li> </ul>"},{"location":"07-impersonation/","title":"User Impersonation","text":"<p>Learn how to use the impersonation feature to troubleshoot user issues while respecting privacy and consent.</p>"},{"location":"07-impersonation/#what-is-user-impersonation","title":"What is User Impersonation?","text":"<p>User impersonation allows authorized administrators to temporarily access My platform as another user. This feature is useful for:</p> <ul> <li>Troubleshooting: Reproduce issues users are experiencing</li> <li>Support: Help users with complex operations</li> <li>Training: Demonstrate features to users</li> <li>Testing: Verify permissions and access controls</li> </ul>"},{"location":"07-impersonation/#key-features","title":"Key Features","text":""},{"location":"07-impersonation/#privacy-focused-design","title":"\ud83d\udd12 Privacy-Focused Design","text":"<ul> <li>User Consent Required: Users must explicitly enable impersonation</li> <li>Time-Limited: Users control how long impersonation is allowed (1-168 hours)</li> <li>Complete Transparency: All actions logged and visible to the user</li> <li>Easy Revocation: Users can disable consent at any time</li> </ul>"},{"location":"07-impersonation/#security-controls","title":"\ud83d\udee1\ufe0f Security Controls","text":"<ul> <li>Permission-Based: Only Super Admin or Owner organization users can impersonate</li> <li>No Self-Impersonation: Cannot impersonate your own account</li> <li>No Chaining: Cannot impersonate while already impersonating another user</li> <li>Automatic Expiration: Consent automatically expires after user-defined duration</li> <li>Session Tracking: Each impersonation session has unique ID for audit</li> </ul>"},{"location":"07-impersonation/#complete-audit-trail","title":"\ud83d\udcca Complete Audit Trail","text":"<ul> <li>Every API call during impersonation is logged</li> <li>Users can view all actions performed during impersonation</li> <li>Sensitive data automatically redacted from logs</li> <li>Session-based organization for easy review</li> </ul>"},{"location":"07-impersonation/#who-can-impersonate","title":"Who Can Impersonate?","text":""},{"location":"07-impersonation/#required-permissions","title":"Required Permissions","text":"<p>Super Admin Role: - Users with Super Admin role have <code>impersonate:users</code> permission - Can impersonate any user (with their consent) - Assigned by Owner organization users only</p> <p>Owner Organization Users: - Automatically have impersonation capability - Can impersonate users in their organization hierarchy - No additional role assignment needed</p> <p>Everyone Else: - Cannot see impersonation features - Cannot impersonate any user</p>"},{"location":"07-impersonation/#impersonation-workflow","title":"Impersonation Workflow","text":""},{"location":"07-impersonation/#step-1-user-enables-consent","title":"Step 1: User Enables Consent","text":"<p>Before impersonation can occur, the target user must enable consent.</p> <p>For Users:</p> <ol> <li>Log in to your account</li> <li>Navigate to Account Settings &gt; Impersonation</li> <li>Find Consent to Impersonation section</li> <li>Click Enable Impersonation</li> <li>Set duration (1-168 hours)</li> <li>Click Save</li> </ol> <p>What happens: - Consent is recorded with timestamp - Administrator is notified consent is available - Expires automatically after duration - Can be revoked at any time</p> <p>Duration Options: - 1-24 hours: Short-term troubleshooting - 24-72 hours: Multi-day support - 72-168 hours: Extended access (max 1 week)</p>"},{"location":"07-impersonation/#step-2-administrator-impersonates-user","title":"Step 2: Administrator Impersonates User","text":"<p>For Administrators (Super Admin or Owner):</p> <ol> <li>Navigate to Users</li> <li>Find the target user</li> <li>Check if Impersonate user is available (using kebab men\u00f9)</li> <li>Click Impersonate User</li> <li>Confirm the action</li> <li>You are now acting as that user</li> </ol> <p>During Impersonation:</p> <p>You will see: - Banner at top: \"You are impersonating [User Name]\" - Exit button: Click to return to your account - All features: Exactly as the user sees them - User's permissions: Filtered by their actual permissions</p>"},{"location":"07-impersonation/#step-3-perform-support-actions","title":"Step 3: Perform Support Actions","text":"<p>While impersonating:</p> <ul> <li>Navigate the platform as the user would</li> <li>Reproduce reported issues</li> <li>Perform actions on behalf of the user</li> <li>Test features and permissions</li> <li>Document findings</li> </ul> <p>Remember: - All actions are logged - User can see everything you do - Treat user data with respect - Exit impersonation when done</p>"},{"location":"07-impersonation/#step-4-exit-impersonation","title":"Step 4: Exit Impersonation","text":"<p>To exit impersonation:</p> <ol> <li>Click Exit Impersonation button in banner</li> <li>You return to your original account</li> <li>Impersonation session is closed</li> </ol> <p>Automatic Exit: - Session expires after user's consent duration - If user revokes consent during impersonation - If token expires (follows consent duration)</p>"},{"location":"07-impersonation/#for-users-managing-consent","title":"For Users: Managing Consent","text":""},{"location":"07-impersonation/#enabling-impersonation-consent","title":"Enabling Impersonation Consent","text":"<p>When to enable: - When you have an issue and need support - When requesting help from administrator - Before training session - When administrator asks for consent</p> <p>How to enable:</p> <ol> <li>Go to Account Settings &gt; Impersonation</li> <li>Click Consent to Impersonation</li> <li>Choose duration:    <pre><code>\u25cb 1 hour   - Quick support\n\u25cb 24 hours - Same day support\n\u25cb 72 hours - Multi-day issue\n\u25cb Custom   - Specify hours (max 168)\n</code></pre></li> <li>Click Enable</li> </ol> <p>Confirmation: <pre><code>\u2713 Impersonation consent enabled\n  Expires: [Date and time]\n  Duration: [X] hours\n</code></pre></p>"},{"location":"07-impersonation/#checking-consent-status","title":"Checking Consent Status","text":"<p>To check if consent is active:</p> <ol> <li>Go to Account Settings &gt; Impersonation</li> <li>View Impersonation Consent section:    <pre><code>Status: Active\nExpires: 2025-11-07 10:30:00 UTC\n</code></pre></li> </ol>"},{"location":"07-impersonation/#revoking-consent","title":"Revoking Consent","text":"<p>To disable consent:</p> <ol> <li>Go to Account Settings &gt; Impersonation</li> <li>Click Revoke Consent</li> <li>Confirm the action</li> </ol> <p>Effects: - Consent immediately disabled - Active impersonation sessions terminated - Administrator can no longer impersonate - Can be re-enabled anytime</p>"},{"location":"07-impersonation/#viewing-impersonation-audit","title":"Viewing Impersonation Audit","text":"<p>To see who impersonated you:</p> <ol> <li>Go to Account Settings &gt; Impersonation</li> <li>Under Sessions</li> <li> <p>See complete history:    <pre><code>Started: 2025-11-06 10:00:00 UTC\nEnded: 2025-11-06 11:30:00 UTC\nDuration: 1.5 hours\nImpersonator: John Admin (john@example.com)\nStatus: Ongoing\n</code></pre></p> </li> <li> <p>Click Show audit log to see all actions</p> </li> </ol> <p>Audit Information: - Date and time of each action - API endpoint called - Sensitive data automatically redacted - Result (success/failure)</p>"},{"location":"07-impersonation/#for-administrators-using-impersonation","title":"For Administrators: Using Impersonation","text":""},{"location":"07-impersonation/#checking-impersonation-availability","title":"Checking Impersonation Availability","text":"<p>In user list:</p> <p>Users with active consent show: - Impersonate user status enabled - Consent expiration time - Click to impersonate</p> <p>Users without consent: - Impersonate user status disabled</p>"},{"location":"07-impersonation/#starting-impersonation","title":"Starting Impersonation","text":"<p>Requirements: - User has active consent - You have Super Admin role or Owner organization role - User is not deleted or suspended - You are not already impersonating someone</p> <p>Steps:</p> <ol> <li>Find User:</li> <li>Navigate to Users</li> <li> <p>Search for target user</p> </li> <li> <p>Verify Consent:</p> </li> <li>Check Impersonate user status enabled</li> <li>Check consent expiration time</li> <li> <p>Ensure sufficient time for your needs</p> </li> <li> <p>Initiate Impersonation:</p> </li> <li>Click Impersonate User (using kebab men\u00f9)</li> <li> <p>Confirm dialog:      <pre><code>You will temporarily act as user Edoardo Spadoni and have their permissions.\n\n To return to your account, click the close icon on the impersonation badge in the top bar.\n\n[Cancel] [Impersonate user]\n</code></pre></p> </li> <li> <p>Confirmation:</p> </li> <li>You are now impersonating the user</li> <li>Banner appears at top</li> <li>Session starts</li> </ol>"},{"location":"07-impersonation/#during-impersonation-session","title":"During Impersonation Session","text":"<p>Visual Indicators:</p> <p>Banner at top of every page:</p> <p>What You See: - Exact same interface as user - User's permissions (may be more restrictive than yours) - User's organization and data - User's customizations and preferences</p> <p>What You Can Do: - Navigate all pages user can access - Perform any action user can perform - Create/edit/delete based on user permissions - Test features and reproduce issues</p> <p>What You Cannot Do: - Access features user cannot access - Bypass user's permission restrictions - Impersonate another user while impersonating - Modify your own account</p> <p>Best Practices: - Document your actions - Minimize time in impersonation - Only perform necessary actions - Inform user what you did - Exit when finished</p>"},{"location":"07-impersonation/#exiting-impersonation","title":"Exiting Impersonation","text":"<p>Normal Exit:</p> <ul> <li>Click X button in banner</li> <li>Return to your account</li> </ul> <p>Automatic Exit:</p> <p>Impersonation automatically ends when: - Consent duration expires - User revokes consent - Session token expires - You log out - User is suspended/deleted</p>"},{"location":"07-impersonation/#security-and-privacy","title":"Security and Privacy","text":""},{"location":"07-impersonation/#what-is-logged","title":"What is Logged","text":"<p>Logged Information: - Timestamp of each action - API endpoint and method (GET, POST, etc.) - HTTP status code (200, 404, etc.) - Request parameters (sensitive data redacted) - Response status (sensitive data redacted)</p> <p>Automatically Redacted: - Passwords - Authentication tokens - System secrets - Any field containing \"password\", \"secret\", \"token\"</p> <p>Example Log Entry: <pre><code>{\n  \"timestamp\": \"2025-11-06T10:15:23Z\",\n  \"session_id\": \"imp_abc123\",\n  \"impersonator\": \"admin@example.com\",\n  \"impersonated_user\": \"user@example.com\",\n  \"method\": \"POST\",\n  \"endpoint\": \"/api/users\",\n  \"status\": 201,\n  \"request_body\": {\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"password\": \"[REDACTED]\"\n  }\n}\n</code></pre></p>"},{"location":"07-impersonation/#data-protection","title":"Data Protection","text":"<p>User Control: - Users choose when to enable consent - Users control duration - Users can revoke at any time - Users see complete audit trail</p> <p>Platform Protection: - No access without consent - Automatic expiration - Complete logging - Sensitive data redaction</p> <p>Compliance: - Audit trail for regulatory requirements - Consent-based access model - User visibility and control - Data privacy respected</p>"},{"location":"07-impersonation/#common-use-cases","title":"Common Use Cases","text":""},{"location":"07-impersonation/#troubleshooting-user-issues","title":"Troubleshooting User Issues","text":"<p>Scenario: User reports they cannot see a feature</p> <p>Workflow: 1. User enables impersonation consent (1 hour) 2. Administrator impersonates user 3. Administrator navigates to reported area 4. Reproduces issue 5. Identifies permission/configuration problem 6. Exits impersonation 7. Fixes issue in user's settings 8. User confirms fix</p>"},{"location":"07-impersonation/#training-new-users","title":"Training New Users","text":"<p>Scenario: Training user on complex workflow</p> <p>Workflow: 1. User enables impersonation (24 hours) 2. Administrator impersonates 3. Performs workflow steps 4. Documents each action 5. Exits impersonation 6. Shares audit with user 7. User reviews actions performed 8. User practices independently</p>"},{"location":"07-impersonation/#permission-verification","title":"Permission Verification","text":"<p>Scenario: Verify user has correct permissions</p> <p>Workflow: 1. User enables impersonation (1 hour) 2. Administrator impersonates 3. Tests access to various features 4. Documents what is visible/accessible 5. Exits impersonation 6. Adjusts permissions if needed</p>"},{"location":"07-impersonation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"07-impersonation/#cannot-impersonate-user","title":"Cannot Impersonate User","text":"<p>Problem: Impersonate button is disabled</p> <p>Solutions: 1. Check user has enabled consent:    - Ask user to enable in Profile &gt; Security    - Verify consent hasn't expired 2. Verify you have permissions:    - Super Admin role OR    - Owner organization role 3. Check user status:    - User is not suspended    - User is not deleted 4. Verify not already impersonating:    - Exit current impersonation first</p>"},{"location":"07-impersonation/#consent-not-showing","title":"Consent Not Showing","text":"<p>Problem: User enabled consent but administrator doesn't see it</p> <p>Solutions: 1. Refresh the page (Ctrl+F5) 2. Wait 30 seconds (cache propagation) 3. Check consent expiration time 4. Verify user saved the consent 5. Check user didn't accidentally revoke</p>"},{"location":"07-impersonation/#impersonation-session-ends-unexpectedly","title":"Impersonation Session Ends Unexpectedly","text":"<p>Problem: Kicked out of impersonation session</p> <p>Possible Causes: - User revoked consent - Consent duration expired - Token expired - User was suspended - Network interruption</p> <p>Solutions: 1. Check if consent is still active 2. Ask user to re-enable consent 3. Check consent expiration time 4. Verify your network connection</p>"},{"location":"07-impersonation/#cannot-see-users-data","title":"Cannot See User's Data","text":"<p>Problem: During impersonation, cannot see expected data</p> <p>Explanation: - You see exactly what user sees - User may have restricted permissions - Organization access may be limited - This is expected behavior</p> <p>Solutions: 1. Verify user's assigned roles 2. Check user's organization membership 3. Review hierarchical permissions 4. Adjust user permissions if needed</p>"},{"location":"07-impersonation/#best-practices","title":"Best Practices","text":""},{"location":"07-impersonation/#for-users","title":"For Users","text":"<p>Enabling Consent: - Only enable when requested or needed - Set minimum necessary duration - Revoke when support is complete - Review audit trail after impersonation</p> <p>Privacy: - Trust your administrators - Consent is entirely voluntary - You control when and how long - You can see everything they did</p>"},{"location":"07-impersonation/#for-administrators","title":"For Administrators","text":"<p>Before Impersonating: - Have clear purpose for impersonation - Request user enable consent - Plan what you need to do - Estimate time needed</p> <p>During Impersonation: - Work efficiently - Document your actions - Only perform necessary operations - Respect user's privacy - Exit promptly when done</p> <p>After Impersonation: - Inform user what was done - Document findings - Share audit if requested - Follow up on issues found</p>"},{"location":"07-impersonation/#for-organizations","title":"For Organizations","text":"<p>Policy: - Define when impersonation is appropriate - Document approval process - Train administrators - Review audit trails regularly</p> <p>Security: - Limit Super Admin role assignment - Monitor impersonation usage - Review audit logs - Investigate unusual patterns</p>"},{"location":"07-impersonation/#related-documentation","title":"Related Documentation","text":"<ul> <li>Users Management</li> <li>Authentication Guide</li> <li>Backend API Documentation</li> </ul>"},{"location":"CONTRIBUTING/","title":"Contributing to My Documentation","text":"<p>Thank you for your interest in improving the My documentation!</p>"},{"location":"CONTRIBUTING/#documentation-structure","title":"Documentation Structure","text":"<pre><code>docs/\n\u251c\u2500\u2500 index.md                    # Home page\n\u251c\u2500\u2500 01-authentication.md        # Authentication guide\n\u251c\u2500\u2500 02-organizations.md         # Organizations guide\n\u251c\u2500\u2500 03-users.md                 # Users management guide\n\u251c\u2500\u2500 04-systems.md               # Systems management guide\n\u251c\u2500\u2500 05-system-registration.md   # Registration workflow\n\u251c\u2500\u2500 06-inventory-heartbeat.md   # Monitoring guide\n\u251c\u2500\u2500 07-impersonation.md         # User impersonation guide\n\u251c\u2500\u2500 stylesheets/                # Custom CSS\n\u251c\u2500\u2500 javascripts/                # Custom JS\n\u2514\u2500\u2500 images/                     # Images and diagrams\n</code></pre>"},{"location":"CONTRIBUTING/#writing-guidelines","title":"Writing Guidelines","text":""},{"location":"CONTRIBUTING/#style-guide","title":"Style Guide","text":"<ul> <li>Tone: Clear, professional, helpful</li> <li>Audience: End users and administrators (non-technical)</li> <li>Language: Simple, avoiding jargon when possible</li> <li>Examples: Always include practical examples</li> </ul>"},{"location":"CONTRIBUTING/#formatting","title":"Formatting","text":"<ul> <li>Headers: Use <code>##</code> for main sections, <code>###</code> for subsections</li> <li>Code blocks: Always specify language (bash, json, python, etc.)</li> <li>Lists: Use <code>-</code> for unordered lists, <code>1.</code> for ordered</li> <li>Emphasis: Use bold for important terms, italic for emphasis</li> <li>Links: Use descriptive text, not \"click here\"</li> </ul>"},{"location":"CONTRIBUTING/#example-structure","title":"Example Structure","text":"<pre><code># Page Title\n\nBrief introduction explaining what this page covers.\n\n## Main Section\n\nDetailed explanation with examples.\n\n### Subsection\n\nSpecific details or procedures.\n\n**Example:**\n\\`\\`\\`bash\ncommand --flag value\n\\`\\`\\`\n\n## Troubleshooting\n\nCommon problems and solutions.\n\n## Related Documentation\n\n- [Link to related page](other-page.md)\n</code></pre>"},{"location":"CONTRIBUTING/#building-locally","title":"Building Locally","text":""},{"location":"CONTRIBUTING/#prerequisites","title":"Prerequisites","text":"<pre><code># Install Python 3.x\npython3 --version\n\n# Install dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"CONTRIBUTING/#local-development","title":"Local Development","text":"<pre><code># Start local server with hot reload\nmkdocs serve\n\n# Open in browser\nopen http://localhost:8000\n</code></pre> <p>The documentation will automatically reload when you save changes.</p>"},{"location":"CONTRIBUTING/#building","title":"Building","text":"<pre><code># Build static site\nmkdocs build\n\n# Output will be in site/ directory\n</code></pre>"},{"location":"CONTRIBUTING/#making-changes","title":"Making Changes","text":""},{"location":"CONTRIBUTING/#1-edit-documentation","title":"1. Edit Documentation","text":"<p>Edit the relevant <code>.md</code> file in the <code>docs/</code> directory.</p>"},{"location":"CONTRIBUTING/#2-preview-locally","title":"2. Preview Locally","text":"<pre><code>mkdocs serve\n</code></pre> <p>Check your changes at http://localhost:8000</p>"},{"location":"CONTRIBUTING/#3-check-links","title":"3. Check Links","text":"<p>Ensure all internal links work: - Relative links to other docs: <code>[text](other-file.md)</code> - Links to sections: <code>[text](other-file.md#section-name)</code> - External links: Full URL</p>"},{"location":"CONTRIBUTING/#4-add-images","title":"4. Add Images","text":"<p>If adding images:</p> <ol> <li>Place image in <code>docs/images/</code></li> <li>Use relative path: <code>![Alt text](images/filename.png)</code></li> <li>Optimize image size (max 1MB)</li> </ol>"},{"location":"CONTRIBUTING/#5-test-build","title":"5. Test Build","text":"<pre><code># Test that build succeeds\nmkdocs build --strict\n\n# This will fail if there are warnings\n</code></pre>"},{"location":"CONTRIBUTING/#adding-new-pages","title":"Adding New Pages","text":""},{"location":"CONTRIBUTING/#1-create-file","title":"1. Create File","text":"<p>Create new <code>.md</code> file in <code>docs/</code> directory:</p> <pre><code>touch docs/07-new-feature.md\n</code></pre>"},{"location":"CONTRIBUTING/#2-add-to-navigation","title":"2. Add to Navigation","text":"<p>Edit <code>mkdocs.yml</code> and add to navigation:</p> <pre><code>nav:\n  - User Guide:\n      - New Feature: 07-new-feature.md\n</code></pre>"},{"location":"CONTRIBUTING/#3-link-from-other-pages","title":"3. Link from Other Pages","text":"<p>Add links from relevant pages:</p> <pre><code>See also: [New Feature Guide](07-new-feature.md)\n</code></pre>"},{"location":"CONTRIBUTING/#mkdocs-features","title":"MkDocs Features","text":""},{"location":"CONTRIBUTING/#admonitions","title":"Admonitions","text":"<pre><code>!!! note \"Title\"\n    Content here\n\n!!! warning\n    Warning content\n\n!!! danger\n    Danger content\n\n!!! tip\n    Tip content\n</code></pre>"},{"location":"CONTRIBUTING/#code-blocks-with-highlighting","title":"Code Blocks with Highlighting","text":"<pre><code>```python title=\"example.py\" linenums=\"1\"\ndef hello():\n    print(\"Hello, World!\")\n```\n</code></pre>"},{"location":"CONTRIBUTING/#tabs","title":"Tabs","text":"<pre><code>=== \"Tab 1\"\n    Content for tab 1\n\n=== \"Tab 2\"\n    Content for tab 2\n</code></pre>"},{"location":"CONTRIBUTING/#task-lists","title":"Task Lists","text":"<pre><code>- [x] Completed task\n- [ ] Incomplete task\n</code></pre>"},{"location":"CONTRIBUTING/#deployment","title":"Deployment","text":"<p>Documentation is automatically deployed when you push to <code>main</code>:</p> <ol> <li>GitHub Actions runs on push</li> <li>MkDocs builds the site</li> <li>Site is deployed to GitHub Pages</li> <li>Available at: https://nethesis.github.io/my/</li> </ol> <p>You can also deploy manually:</p> <pre><code>mkdocs gh-deploy\n</code></pre>"},{"location":"CONTRIBUTING/#review-process","title":"Review Process","text":"<ol> <li>Make your changes in a feature branch</li> <li>Test locally with <code>mkdocs serve</code></li> <li>Ensure build passes: <code>mkdocs build --strict</code></li> <li>Create Pull Request</li> <li>Documentation will be reviewed</li> <li>Once approved, merge to main</li> <li>Automatic deployment to GitHub Pages</li> </ol>"},{"location":"CONTRIBUTING/#common-tasks","title":"Common Tasks","text":""},{"location":"CONTRIBUTING/#update-home-page","title":"Update Home Page","text":"<p>Edit <code>docs/index.md</code></p>"},{"location":"CONTRIBUTING/#add-faq-section","title":"Add FAQ Section","text":"<p>Create <code>docs/faq.md</code> and add to navigation in <code>mkdocs.yml</code></p>"},{"location":"CONTRIBUTING/#fix-broken-link","title":"Fix Broken Link","text":"<ol> <li>Search for the link: <code>grep -r \"broken-link\" docs/</code></li> <li>Update all occurrences</li> <li>Test with <code>mkdocs serve</code></li> </ol>"},{"location":"CONTRIBUTING/#add-external-resource","title":"Add External Resource","text":"<p>Add to <code>mkdocs.yml</code> under <code>extra</code>:</p> <pre><code>extra:\n  social:\n    - icon: fontawesome/brands/github\n      link: https://github.com/example\n</code></pre>"},{"location":"CONTRIBUTING/#style-and-conventions","title":"Style and Conventions","text":""},{"location":"CONTRIBUTING/#command-examples","title":"Command Examples","text":"<p>Always show complete commands:</p> <pre><code># Good\ncurl -X POST https://api.example.com/endpoint \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"key\": \"value\"}'\n\n# Bad\ncurl endpoint\n</code></pre>"},{"location":"CONTRIBUTING/#file-paths","title":"File Paths","text":"<p>Use absolute paths from project root:</p> <pre><code># Good\n/Users/edospadoni/Workspace/my/backend/main.go\n\n# Bad\n../backend/main.go\n</code></pre>"},{"location":"CONTRIBUTING/#api-examples","title":"API Examples","text":"<p>Show both request and response:</p> <pre><code># Request\ncurl -X GET https://api.example.com/resource\n\n# Response (HTTP 200)\n{\n  \"code\": 200,\n  \"message\": \"success\",\n  \"data\": {}\n}\n</code></pre>"},{"location":"CONTRIBUTING/#getting-help","title":"Getting Help","text":"<ul> <li>Check existing documentation for examples</li> <li>Review MkDocs documentation</li> <li>Check Material theme docs</li> <li>Ask in project discussions</li> </ul>"},{"location":"CONTRIBUTING/#license","title":"License","text":"<p>Documentation contributions are covered by the same license as the project (AGPL-3.0-or-later).</p>"},{"location":"it/","title":"Benvenuto nella Documentazione My","text":"<p>Documentazione completa per utenti e sviluppatori di My - la piattaforma di gestione centralizzata.</p>"},{"location":"it/#cose-my","title":"Cos'\u00e8 My?","text":"<p>My \u00e8 una piattaforma di gestione completa che fornisce:</p> <ul> <li>Autenticazione Centralizzata usando Logto come Identity Provider</li> <li>Gestione Organizzativa Gerarchica (Owner, Distributore, Rivenditore, Cliente)</li> <li>Controllo Accessi Basato su Ruoli (RBAC) con sistema a doppio ruolo</li> <li>Monitoraggio Sistemi con inventario in tempo reale e tracking heartbeat</li> <li>Gestione Utenti con email di benvenuto automatiche e funzionalit\u00e0 self-service</li> </ul>"},{"location":"it/#struttura-documentazione","title":"Struttura Documentazione","text":""},{"location":"it/#guida-utente","title":"\ud83d\udcda Guida Utente","text":"<p>Guide complete per utenti finali e amministratori:</p> <ul> <li> <p> Per Iniziare</p> <p>Impara come accedere, gestire il tuo profilo e comprendere i ruoli utente.</p> <p> Guida Autenticazione</p> </li> <li> <p> Organizzazioni</p> <p>Crea e gestisci la gerarchia aziendale: Distributori, Rivenditori e Clienti.</p> <p> Guida Organizzazioni</p> </li> <li> <p> Utenti</p> <p>Crea utenti, assegna ruoli e gestisci i permessi della tua organizzazione.</p> <p> Guida Utenti</p> </li> <li> <p> Sistemi</p> <p>Crea e monitora sistemi, visualizza lo stato e gestisci le credenziali.</p> <p> Guida Sistemi</p> </li> <li> <p> Registrazione</p> <p>Registra sistemi esterni con la piattaforma My usando i system secret.</p> <p> Guida Registrazione</p> </li> <li> <p> Monitoraggio</p> <p>Configura la raccolta inventario e il monitoraggio heartbeat per i tuoi sistemi.</p> <p> Inventario &amp; Heartbeat</p> </li> </ul>"},{"location":"it/#documentazione-sviluppatori","title":"\ud83d\udcbb Documentazione Sviluppatori","text":"<p>Documentazione tecnica per sviluppatori e integratori:</p> <ul> <li>API Backend - Server API REST Go con autenticazione JWT</li> <li>Servizio Collect - Servizio raccolta inventario e heartbeat</li> <li>Tool Sync - Tool CLI per sincronizzazione RBAC</li> <li>Panoramica Progetto - Documentazione completa del progetto e architettura</li> </ul>"},{"location":"it/#guida-rapida","title":"Guida Rapida","text":""},{"location":"it/#per-utenti-finali","title":"\ud83e\uddd1 Per Utenti Finali","text":"<ol> <li>Accedi con le tue credenziali</li> <li>Crea organizzazioni in base alla tua gerarchia aziendale</li> <li>Aggiungi utenti e assegna i ruoli appropriati</li> <li>Crea sistemi per i tuoi clienti</li> <li>Registra sistemi per abilitare il monitoraggio</li> </ol>"},{"location":"it/#per-sviluppatori","title":"\ud83e\uddd1\u200d\ud83d\udcbb Per Sviluppatori","text":"<ol> <li>Clona il repository</li> <li>Leggi la Documentazione del progetto</li> <li>Configura il tuo ambiente di sviluppo</li> <li>Segui la guida configurazione RBAC</li> </ol>"},{"location":"it/#funzionalita-principali","title":"Funzionalit\u00e0 Principali","text":""},{"location":"it/#sicurezza-prima-di-tutto","title":"\ud83d\udd10 Sicurezza Prima di Tutto","text":"<ul> <li>Argon2id hashing dei secret (memory-hard, resistente GPU)</li> <li>Token Split Pattern per credenziali di sistema</li> <li>Autenticazione basata su JWT con blacklist token</li> <li>RBAC con permessi gerarchici</li> </ul>"},{"location":"it/#gerarchia-aziendale","title":"\ud83c\udfe2 Gerarchia Aziendale","text":"<pre><code>Owner (Nethesis)\n    \u2193\nDistributori\n    \u2193\nRivenditori\n    \u2193\nClienti\n</code></pre> <p>Ogni livello gestisce solo le organizzazioni sottostanti.</p>"},{"location":"it/#sistema-a-doppio-ruolo","title":"\ud83d\udc65 Sistema a Doppio Ruolo","text":"<p>Ruoli Organizzazione (gerarchia aziendale): - Owner, Distributore, Rivenditore, Cliente</p> <p>Ruoli Utente (capacit\u00e0 tecniche): - Admin, Support, e altri</p> <p>Permessi effettivi = Ruolo Organizzazione + Ruolo Utente</p>"},{"location":"it/#monitoraggio-in-tempo-reale","title":"\ud83d\udcca Monitoraggio in Tempo Reale","text":"<ul> <li>Tracking heartbeat ogni 5 minuti</li> <li>Raccolta inventario ogni 6 ore</li> <li>Rilevamento automatico modifiche con analisi diff</li> <li>Indicatori stato: Attivo \ud83d\udfe2 / Inattivo \ud83d\udfe1 / Sconosciuto \u26aa / Eliminato \ud83d\udd34</li> </ul>"},{"location":"it/#ciclo-di-vita-sistema","title":"\ud83d\udd04 Ciclo di Vita Sistema","text":"<pre><code>graph LR\n    A[Crea Sistema] --&gt; B[Ricevi secret]\n    B --&gt; C[Registra Sistema]\n    C --&gt; D[Ottieni system_key]\n    D --&gt; E[Invia Inventario]\n    D --&gt; F[Invia Heartbeat]\n    E --&gt; G[Monitorato]\n    F --&gt; G</code></pre>"},{"location":"it/#ottenere-aiuto","title":"Ottenere Aiuto","text":""},{"location":"it/#per-utenti","title":"Per Utenti","text":"<ul> <li>Esplora le sezioni della Guida Utente</li> <li>Controlla le sezioni troubleshooting in ogni guida</li> <li>Contatta il tuo amministratore di sistema</li> </ul>"},{"location":"it/#per-sviluppatori_1","title":"Per Sviluppatori","text":"<ul> <li>Leggi i README specifici dei componenti</li> <li>Consulta la documentazione API</li> <li>Rivedi la documentazione architettura in DESIGN.md</li> <li>Apri un issue su GitHub</li> </ul>"},{"location":"it/#stack-tecnologico","title":"Stack Tecnologico","text":"<ul> <li>Backend: Go 1.24+ con framework Gin</li> <li>Database: PostgreSQL con migrazioni</li> <li>Cache: Redis per caching ad alte prestazioni</li> <li>Identity: Logto per autenticazione e RBAC</li> <li>Frontend: Vue.js 3 (vedi repository separato)</li> </ul>"},{"location":"it/#informazioni-versione","title":"Informazioni Versione","text":"<p>Versione corrente: 0.3.0 (Pre-produzione)</p> <p>Questa documentazione viene aggiornata continuamente. Ultimo aggiornamento: 2025-11-07</p> <ul> <li> <p> Pronto per Iniziare?</p> <p>Inizia con la guida autenticazione per accedere ed esplorare My.</p> <p> Inizia</p> </li> <li> <p> Contribuisci</p> <p>My \u00e8 open source. Contribuisci su GitHub!</p> <p> Repository GitHub</p> </li> </ul>"},{"location":"it/01-authentication/","title":"Per Iniziare - Autenticazione","text":"<p>Impara come accedere alla piattaforma My e gestire il tuo account.</p>"},{"location":"it/01-authentication/#primo-accesso","title":"Primo Accesso","text":"<p>Quando il tuo account viene creato da un amministratore, riceverai un'email di benvenuto contenente:</p> <ul> <li>Il tuo nome utente (indirizzo email)</li> <li>Una password temporanea</li> <li>Un link diretto alla pagina di login</li> </ul>"},{"location":"it/01-authentication/#effettuare-laccesso","title":"Effettuare l'Accesso","text":"<ol> <li>Apri l'URL di login fornito nell'email di benvenuto</li> <li>Inserisci il tuo indirizzo email</li> <li>Inserisci la password temporanea</li> <li>Clicca Accedi</li> </ol>"},{"location":"it/01-authentication/#cambio-password-al-primo-accesso","title":"Cambio Password al Primo Accesso","text":"<p>Al primo accesso con la password temporanea, dovrai:</p> <ol> <li>Inserire la password corrente (temporanea)</li> <li>Creare una nuova password sicura</li> <li>Confermare la nuova password</li> </ol> <p>Requisiti della Password:</p> <ul> <li>Minimo 8 caratteri</li> <li>Almeno una lettera maiuscola</li> <li>Almeno una lettera minuscola</li> <li>Almeno un numero</li> <li>Almeno un carattere speciale</li> </ul>"},{"location":"it/01-authentication/#gestione-del-profilo","title":"Gestione del Profilo","text":""},{"location":"it/01-authentication/#cambiare-la-password","title":"Cambiare la Password","text":"<p>Per cambiare la password in qualsiasi momento:</p> <ol> <li>Clicca sull'icona del profilo in alto a destra</li> <li>Seleziona Impostazioni Account</li> <li>Clicca Cambia Password</li> <li>Inserisci la password corrente</li> <li>Inserisci la nuova password</li> <li>Conferma la nuova password</li> <li>Clicca Salva Modifiche</li> </ol>"},{"location":"it/01-authentication/#aggiornare-le-informazioni-del-profilo","title":"Aggiornare le Informazioni del Profilo","text":"<p>Puoi aggiornare le informazioni del profilo:</p> <ol> <li>Clicca sull'icona del profilo in alto a destra</li> <li>Seleziona Impostazioni Account</li> <li>Aggiorna i seguenti campi:</li> <li>Nome Completo: Il tuo nome visualizzato</li> <li>Email: Il tuo indirizzo email (anche il tuo nome utente)</li> <li>Numero di Telefono: Numero di contatto opzionale</li> <li>Clicca Salva profilo</li> </ol> <p>Nota: Le modifiche all'email potrebbero richiedere una nuova autenticazione.</p>"},{"location":"it/01-authentication/#funzionalita-di-sicurezza","title":"Funzionalit\u00e0 di Sicurezza","text":""},{"location":"it/01-authentication/#sicurezza-della-password","title":"Sicurezza della Password","text":"<ul> <li>La tua password non viene mai memorizzata in chiaro</li> <li>Le password temporanee scadono dopo il primo utilizzo</li> </ul>"},{"location":"it/01-authentication/#gestione-delle-sessioni","title":"Gestione delle Sessioni","text":"<ul> <li>Le sessioni scadono dopo 24 ore di inattivit\u00e0</li> <li>I token di aggiornamento sono validi per 7 giorni</li> <li>Il logout invalida immediatamente la sessione</li> </ul>"},{"location":"it/01-authentication/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"it/01-authentication/#password-dimenticata","title":"Password Dimenticata","text":"<p>Se dimentichi la password:</p> <ol> <li>Usa il link \"Hai dimenticato la password?\" nella pagina di Login</li> </ol>"},{"location":"it/01-authentication/#account-bloccato","title":"Account Bloccato","text":"<p>Se il tuo account \u00e8 sospeso:</p> <ul> <li>Vedrai un messaggio di errore \"Account sospeso\"</li> <li>Contatta il tuo amministratore di sistema per riattivare l'account</li> <li>Solo gli amministratori possono sospendere/riattivare gli account</li> </ul>"},{"location":"it/01-authentication/#sessione-scaduta","title":"Sessione Scaduta","text":"<p>Se la sessione scade:</p> <ol> <li>Verrai automaticamente reindirizzato alla pagina di login</li> <li>Accedi nuovamente con le tue credenziali</li> <li>Il lavoro precedente non viene salvato durante la scadenza della sessione</li> </ol>"},{"location":"it/01-authentication/#autenticazione-multi-fattore-mfa","title":"Autenticazione Multi-Fattore (MFA)","text":"<p>Attualmente, My utilizza Logto come provider di identit\u00e0. Le impostazioni MFA sono gestite tramite Logto:</p> <ul> <li>Contatta il tuo amministratore per abilitare l'MFA</li> <li>L'MFA pu\u00f2 essere configurata a livello di organizzazione</li> <li>Metodi supportati: App di autenticazione, SMS (se configurato)</li> </ul>"},{"location":"it/01-authentication/#prossimi-passi","title":"Prossimi Passi","text":"<p>Una volta effettuato l'accesso, puoi:</p> <ul> <li>Gestire Organizzazioni (se hai i permessi appropriati)</li> <li>Gestire Utenti (utenti Admin o Support)</li> <li>Gestire Sistemi (utenti Support)</li> <li>Visualizzare la dashboard e le statistiche</li> </ul>"},{"location":"it/01-authentication/#ruoli-utente","title":"Ruoli Utente","text":"<p>I tuoi permessi dipendono dai ruoli assegnati:</p>"},{"location":"it/01-authentication/#ruoli-organizzazione-gerarchia-aziendale","title":"Ruoli Organizzazione (Gerarchia Aziendale)","text":"<ul> <li>Owner: Accesso completo alla piattaforma (Nethesis)</li> <li>Distributore: Pu\u00f2 gestire rivenditori e clienti</li> <li>Rivenditore: Pu\u00f2 gestire clienti</li> <li>Cliente: Pu\u00f2 visualizzare i dati della propria organizzazione</li> </ul>"},{"location":"it/01-authentication/#ruoli-utente-capacita-tecniche","title":"Ruoli Utente (Capacit\u00e0 Tecniche)","text":"<ul> <li>Super Admin: Amministrazione completa della piattaforma</li> <li>Admin: Amministrazione organizzazione, gestione utenti</li> <li>Support: Gestione sistemi, operazioni tecniche</li> <li>Backoffice: Gestione utenti, operazioni di backoffice</li> <li>Reader: Modalit\u00e0 lettura</li> </ul> <p>I tuoi permessi effettivi sono la combinazione di entrambi i tipi di ruolo.</p>"},{"location":"it/02-organizations/","title":"Gestione Organizzazioni","text":"<p>Impara a gestire la gerarchia aziendale nella piattaforma My.</p>"},{"location":"it/02-organizations/#comprendere-la-gerarchia-delle-organizzazioni","title":"Comprendere la Gerarchia delle Organizzazioni","text":"<p>My utilizza una struttura organizzativa gerarchica che riflette le relazioni aziendali:</p> <pre><code>Owner (Nethesis)\n    \u2193\nDistributori\n    \u2193\nRivenditori\n    \u2193\nClienti\n</code></pre>"},{"location":"it/02-organizations/#tipi-di-organizzazioni","title":"Tipi di Organizzazioni","text":"<p>Owner (Nethesis) - Organizzazione di livello superiore - Controllo completo della piattaforma - Pu\u00f2 gestire tutti i distributori, rivenditori e clienti - Esiste una sola organizzazione Owner</p> <p>Distributori - Creati da Owner - Possono gestire i propri rivenditori e clienti - Non possono vedere i dati di altri distributori - Controllo completo sul proprio ramo della gerarchia</p> <p>Rivenditori - Creati da Owner o Distributori - Possono gestire i propri clienti - Non possono vedere i dati di altri rivenditori - Operano all'interno del distributore assegnato</p> <p>Clienti - Creati da Owner, Distributori o Rivenditori - Organizzazioni utente finale - Possono visualizzare solo i propri dati - Non possono creare sotto-organizzazioni</p>"},{"location":"it/02-organizations/#permessi-per-tipo-di-organizzazione","title":"Permessi per Tipo di Organizzazione","text":"Azione Owner Distributore Rivenditore Cliente Crea Distributori \u2705 \u274c \u274c \u274c Gestisci Distributori \u2705 \u274c \u274c \u274c Crea Rivenditori \u2705 \u2705 \u274c \u274c Gestisci Rivenditori \u2705 \u2705 (propri) \u274c \u274c Crea Clienti \u2705 \u2705 \u2705 \u274c Gestisci Clienti \u2705 \u2705 (propri) \u2705 (propri) \u274c Visualizza Tutti i Dati \u2705 \u274c \u274c \u274c"},{"location":"it/02-organizations/#creazione-organizzazioni","title":"Creazione Organizzazioni","text":""},{"location":"it/02-organizations/#prerequisiti","title":"Prerequisiti","text":"<ul> <li>Devi essere autenticato con i permessi appropriati</li> <li>Gli utenti Owner possono creare tutti i tipi di organizzazione</li> <li>Gli utenti Distributore possono creare rivenditori e clienti</li> <li>Gli utenti Rivenditore possono creare solo clienti</li> </ul>"},{"location":"it/02-organizations/#creazione-di-un-distributore","title":"Creazione di un Distributore","text":"<p>Ruolo Richiesto: Membro organizzazione Owner</p> <ol> <li>Naviga su Organizzazioni &gt; Distributori</li> <li>Clicca Crea distributore</li> <li>Compila il modulo:</li> <li>Nome azienda: Nome azienda del distributore (es. \"ACME Distribution Ltd\")</li> <li>Descrizione (opzionale): Informazioni aggiuntive</li> <li>Partita IVA: Identificazione IVA univoca per l'azienda</li> <li>Clicca Crea distributore</li> </ol> <p>Esempio: <pre><code>Nome: ACME Distribution Europe\nDescrizione: Distributore principale per il mercato europeo\nPartita IVA: 12345678901\n</code></pre></p>"},{"location":"it/02-organizations/#creazione-di-un-rivenditore","title":"Creazione di un Rivenditore","text":"<p>Ruolo Richiesto: Membro organizzazione Owner o Distributore</p> <ol> <li>Naviga su Organizzazioni &gt; Rivenditori</li> <li>Clicca Crea rivenditore</li> <li>Compila il modulo:</li> <li>Nome azienda: Nome azienda del rivenditore (es. \"ACME Distribution Ltd\")</li> <li>Descrizione (opzionale): Informazioni aggiuntive</li> <li>Partita IVA: Identificazione IVA univoca per l'azienda</li> <li>Clicca Crea rivenditore</li> </ol> <p>Esempio: <pre><code>Nome: Tech Solutions Italia\nDescrizione: Fornitore di soluzioni IT per il mercato PMI\nPartita IVA: 12345678901\n</code></pre></p> <p>Nota: Se sei autenticato come Distributore, puoi creare rivenditori solo nella tua organizzazione.</p>"},{"location":"it/02-organizations/#creazione-di-un-cliente","title":"Creazione di un Cliente","text":"<p>Ruolo Richiesto: Membro organizzazione Owner, Distributore o Rivenditore</p> <ol> <li>Naviga su Organizzazioni &gt; Clienti</li> <li>Clicca Crea cliente</li> <li>Compila il modulo:</li> <li>Nome azienda: Nome azienda del cliente (es. \"ACME Distribution Ltd\")</li> <li>Descrizione (opzionale): Informazioni aggiuntive</li> <li>Partita IVA: Identificazione IVA univoca per l'azienda</li> <li>Clicca Crea cliente</li> </ol> <p>Esempio: <pre><code>Nome: Pizza Express Milano\nDescrizione: Catena di ristoranti con 5 sedi\nPartita IVA: 12345678901\n</code></pre></p>"},{"location":"it/02-organizations/#visualizzazione-organizzazioni","title":"Visualizzazione Organizzazioni","text":""},{"location":"it/02-organizations/#elenco-organizzazioni","title":"Elenco Organizzazioni","text":"<p>Ogni tipo di organizzazione ha la propria vista elenco:</p> <ol> <li>Naviga su [Tipo] (Distributori/Rivenditori/Clienti)</li> <li>Visualizza l'elenco con le seguenti informazioni:</li> <li>Nome organizzazione</li> <li>Descrizione</li> <li>Numero di utenti</li> <li>Numero di sistemi</li> <li>Data di creazione</li> </ol>"},{"location":"it/02-organizations/#filtri-e-ricerca","title":"Filtri e Ricerca","text":"<p>Utilizza le opzioni di filtro per trovare organizzazioni specifiche:</p> <ul> <li>Ricerca per nome: Digita nella casella di ricerca</li> <li>Ordina per: Nome, descrizione</li> </ul>"},{"location":"it/02-organizations/#dettagli-organizzazione","title":"Dettagli Organizzazione","text":"<p>Clicca su un'organizzazione per visualizzare informazioni dettagliate:</p> <ul> <li>Panoramica: Nome, descrizione, data di creazione</li> <li>Utenti: Tutti gli utenti appartenenti a questa organizzazione</li> <li>Sistemi: Sistemi associati a questa organizzazione (se applicabile)</li> <li>Statistiche: Metriche di utilizzo e attivit\u00e0</li> </ul>"},{"location":"it/02-organizations/#gestione-organizzazioni_1","title":"Gestione Organizzazioni","text":""},{"location":"it/02-organizations/#modifica-informazioni-organizzazione","title":"Modifica Informazioni Organizzazione","text":"<ol> <li>Naviga alla pagina dei dettagli dell'organizzazione</li> <li>Clicca Modifica</li> <li>Aggiorna i campi:</li> <li>Nome azienda</li> <li>Descrizione</li> <li>Partita IVA</li> <li>Clicca Salva [Tipo]</li> </ol>"},{"location":"it/02-organizations/#eliminazione-organizzazioni","title":"Eliminazione Organizzazioni","text":"<p>\u26a0\ufe0f Attenzione: L'eliminazione di un'organizzazione \u00e8 permanente e comporter\u00e0: - Rimozione di tutti gli utenti in quell'organizzazione - Eliminazione di tutti i sistemi associati - Rimozione di tutte le organizzazioni figlie (eliminazione a cascata)</p> <p>Per eliminare un'organizzazione:</p> <ol> <li>Naviga alla pagina dell'organizzazione</li> <li>Clicca Elimina (usa il menu kebab)</li> <li>Clicca Elimina</li> </ol>"},{"location":"it/02-organizations/#sospensione-organizzazioni","title":"Sospensione Organizzazioni","text":"<p>Invece di eliminare, puoi sospendere un'organizzazione:</p> <ol> <li>Naviga alla pagina dell'organizzazione</li> <li>Clicca Sospendi</li> <li>Conferma l'azione</li> </ol> <p>Effetti della sospensione: - Gli utenti non possono accedere - I sistemi non possono inviare dati - Pu\u00f2 essere riattivata in seguito</p> <p>Per riattivare: 1. Filtra per stato \"Sospeso\" 2. Seleziona l'organizzazione 3. Clicca Riattiva</p>"},{"location":"it/02-organizations/#statistiche-organizzazioni","title":"Statistiche Organizzazioni","text":""},{"location":"it/02-organizations/#visualizzazione-statistiche","title":"Visualizzazione Statistiche","text":"<p>Naviga su Dashboard per vedere:</p> <ul> <li>Panoramica Distributori:</li> <li>Numero totale di distributori</li> <li>Attivi vs. sospesi</li> <li> <p>Grafico andamento (ultimi 30/60/90 giorni)</p> </li> <li> <p>Panoramica Rivenditori:</p> </li> <li>Totale rivenditori per distributore</li> <li>Attivi vs. sospesi</li> <li> <p>Grafico andamento</p> </li> <li> <p>Panoramica Clienti:</p> </li> <li>Totale clienti</li> <li>Distribuzione per rivenditore/distributore</li> <li>Trend di crescita</li> </ul>"},{"location":"it/02-organizations/#esportazione-dati","title":"Esportazione Dati","text":"<p>Esporta i dati delle organizzazioni per reportistica:</p> <ol> <li>Naviga all'elenco organizzazioni</li> <li>Applica i filtri se necessario</li> <li>Clicca Esporta</li> <li>Scegli il formato: CSV o PDF</li> <li>Scarica il file</li> </ol>"},{"location":"it/02-organizations/#best-practice","title":"Best Practice","text":""},{"location":"it/02-organizations/#convenzioni-di-denominazione","title":"Convenzioni di Denominazione","text":"<ul> <li>Usa nomi chiari e descrittivi</li> <li>Includi informazioni geografiche se rilevanti (es. \"ACME Europe\", \"Tech Solutions Italia\")</li> <li>Evita caratteri speciali nei nomi</li> <li>Mantieni i nomi concisi ma significativi</li> </ul>"},{"location":"it/02-organizations/#struttura-organizzativa","title":"Struttura Organizzativa","text":"<ul> <li>Pianifica la gerarchia prima di creare organizzazioni</li> <li>Mantieni la struttura semplice e logica</li> <li>Evita di creare livelli intermedi non necessari</li> <li>Documenta le relazioni aziendali</li> </ul>"},{"location":"it/02-organizations/#controllo-accessi","title":"Controllo Accessi","text":"<ul> <li>Assegna gli utenti all'organizzazione corretta</li> <li>Rivedi regolarmente l'appartenenza alle organizzazioni</li> <li>Usa nomi organizzazione descrittivi per chiarezza</li> <li>Mantieni aggiornate le informazioni di contatto</li> </ul>"},{"location":"it/02-organizations/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"it/02-organizations/#impossibile-creare-organizzazione","title":"Impossibile Creare Organizzazione","text":"<p>Problema: Errore \"Accesso negato\" durante la creazione di un'organizzazione</p> <p>Soluzioni: - Verifica di avere il ruolo corretto (Owner/Distributore/Rivenditore) - Controlla di stare cercando di creare il tipo di organizzazione corretto - Assicurati che la tua appartenenza all'organizzazione sia corretta - Contatta il tuo amministratore</p>"},{"location":"it/02-organizations/#impossibile-vedere-organizzazione","title":"Impossibile Vedere Organizzazione","text":"<p>Problema: L'organizzazione prevista non \u00e8 visibile nell'elenco</p> <p>Soluzioni: - Controlla se l'organizzazione \u00e8 sospesa (usa i filtri) - Verifica di avere il permesso di visualizzare quel tipo di organizzazione - Assicurati di visualizzare il livello di organizzazione corretto - Controlla se l'organizzazione appartiene al tuo ramo gerarchico</p>"},{"location":"it/02-organizations/#impossibile-eliminare-organizzazione","title":"Impossibile Eliminare Organizzazione","text":"<p>Problema: Il pulsante Elimina \u00e8 disabilitato o mostra un errore</p> <p>Soluzioni: - Rimuovi prima tutti i sistemi dall'organizzazione - Elimina prima tutte le organizzazioni figlie - Controlla se hai il permesso di eliminare - Assicurati che l'organizzazione non sia l'organizzazione Owner</p>"},{"location":"it/02-organizations/#prossimi-passi","title":"Prossimi Passi","text":"<p>Dopo aver creato le organizzazioni:</p> <ul> <li>Crea utenti e assegnali alle organizzazioni</li> <li>Crea sistemi associati alle organizzazioni clienti</li> <li>Imposta i permessi appropriati per ogni utente</li> </ul>"},{"location":"it/02-organizations/#documentazione-correlata","title":"Documentazione Correlata","text":"<ul> <li>Gestione Utenti</li> <li>Gestione Sistemi</li> </ul>"},{"location":"it/03-users/","title":"Gestione Utenti","text":"<p>Impara a creare e gestire gli utenti nella piattaforma My.</p>"},{"location":"it/03-users/#comprendere-i-ruoli-utente","title":"Comprendere i Ruoli Utente","text":"<p>My utilizza un sistema a doppio ruolo che combina gerarchia aziendale e capacit\u00e0 tecniche.</p>"},{"location":"it/03-users/#ruoli-organizzazione-gerarchia-aziendale","title":"Ruoli Organizzazione (Gerarchia Aziendale)","text":"<p>Ereditati automaticamente dall'organizzazione dell'utente:</p> <ul> <li>Owner: Accesso completo alla piattaforma (solo Nethesis)</li> <li>Distributore: Gestisce rivenditori e clienti</li> <li>Rivenditore: Gestisce clienti</li> <li>Cliente: Visualizza i dati della propria organizzazione</li> </ul>"},{"location":"it/03-users/#ruoli-utente-capacita-tecniche","title":"Ruoli Utente (Capacit\u00e0 Tecniche)","text":"<p>Assegnati manualmente agli utenti in base alla loro funzione lavorativa:</p> <ul> <li>Super Admin: Amministrazione completa della piattaforma con impersonificazione</li> <li>Tutte le capacit\u00e0 Admin</li> <li>Impersonificazione utente per troubleshooting</li> <li>Operazioni di sistema avanzate</li> <li> <p>Controllo completo della piattaforma</p> </li> <li> <p>Admin: Amministrazione piattaforma</p> </li> <li>Gestione utenti</li> <li>Gestione organizzazioni</li> <li>Configurazione sistema</li> <li> <p>Operazioni pericolose (elimina, sospendi)</p> </li> <li> <p>Backoffice: Operazioni amministrative e reportistica</p> </li> <li>Visualizzazione utenti e organizzazioni</li> <li>Monitoraggio e reportistica sistemi</li> <li>Analisi e statistiche</li> <li> <p>Nessuna operazione distruttiva</p> </li> <li> <p>Support: Operazioni tecniche</p> </li> <li>Gestione sistemi</li> <li>Visualizzazione inventario</li> <li>Monitoraggio heartbeat</li> <li> <p>Operazioni standard</p> </li> <li> <p>Reader: Accesso in sola lettura</p> </li> <li>Visualizza utenti e organizzazioni</li> <li>Visualizza sistemi e stato</li> <li>Visualizza inventario e heartbeat</li> <li>Nessuna capacit\u00e0 di modifica</li> </ul>"},{"location":"it/03-users/#permessi-combinati","title":"Permessi Combinati","text":"<p>I permessi finali di un utente sono la combinazione di entrambi i tipi di ruolo:</p> <p>Esempio 1: <pre><code>Organizzazione: Cliente (Pizza Express)\nRuolo Utente: Admin\n\u2192 Pu\u00f2 gestire utenti solo nell'organizzazione Pizza Express\n\u2192 Pu\u00f2 gestire sistemi solo per Pizza Express\n</code></pre></p> <p>Esempio 2: <pre><code>Organizzazione: Distributore (ACME Distribution)\nRuolo Utente: Support\n\u2192 Pu\u00f2 visualizzare rivenditori e clienti sotto ACME\n\u2192 Pu\u00f2 gestire sistemi per tutti i clienti sotto ACME\n\u2192 Non pu\u00f2 gestire utenti (richiede ruolo Admin)\n</code></pre></p>"},{"location":"it/03-users/#creazione-utenti","title":"Creazione Utenti","text":""},{"location":"it/03-users/#prerequisiti","title":"Prerequisiti","text":"<ul> <li>Devi avere il ruolo Admin</li> <li>Puoi creare utenti solo per le organizzazioni che puoi gestire</li> <li>Indirizzo email valido per il nuovo utente</li> </ul>"},{"location":"it/03-users/#crea-un-nuovo-utente","title":"Crea un Nuovo Utente","text":"<ol> <li>Naviga su Utenti</li> <li>Clicca Crea utente</li> <li>Compila il modulo:</li> <li>Nome: Nome visualizzato dell'utente (es. \"Mario Rossi\")</li> <li>Email: Indirizzo email dell'utente (sar\u00e0 il loro username)</li> <li>Organizzazione: Seleziona l'organizzazione</li> <li>Ruoli: Seleziona uno o pi\u00f9 ruoli (Super Admin, Admin, Backoffice, Support, Reader)</li> <li>Numero di Telefono (opzionale): Telefono di contatto</li> <li>Clicca Crea utente</li> </ol> <p>Esempio: <pre><code>Nome Completo: Mario Rossi\nEmail: mario.rossi@techsolutions.it\nOrganizzazione: Tech Solutions Italia (Rivenditore)\nRuoli Utente: Admin, Support\nTelefono: +39 02 1234567\n</code></pre></p>"},{"location":"it/03-users/#cosa-succede-dopo-la-creazione","title":"Cosa Succede Dopo la Creazione","text":"<ol> <li>L'account utente viene creato in Logto</li> <li>Una password temporanea viene generata automaticamente</li> <li>Viene inviata un'email di benvenuto all'utente contenente:</li> <li>Password temporanea</li> <li>URL di login</li> <li>Istruzioni per il cambio password</li> <li>L'utente deve cambiare la password al primo accesso</li> </ol> <p>\u26a0\ufe0f Importante: La password temporanea \u00e8 mostrata una sola volta durante la creazione. Assicurati che l'utente riceva l'email di benvenuto.</p>"},{"location":"it/03-users/#gestione-utenti_1","title":"Gestione Utenti","text":""},{"location":"it/03-users/#visualizzazione-elenco-utenti","title":"Visualizzazione Elenco Utenti","text":"<p>Naviga su Utenti per vedere:</p> <ul> <li>Nome utente ed email</li> <li>Organizzazione</li> <li>Ruoli utente</li> <li>Ruolo organizzazione (derivato dall'organizzazione)</li> <li>Stato (attivo/sospeso)</li> </ul>"},{"location":"it/03-users/#filtri-e-ricerca","title":"Filtri e Ricerca","text":"<p>Usa i filtri per trovare utenti specifici:</p> <ul> <li>Ricerca per nome o email: Digita nella casella di ricerca</li> <li>Ricerca per organizzazione: Seleziona una o pi\u00f9 organizzazioni</li> <li>Ricerca per ruolo: Super Admin, Admin, Backoffice, Support, Reader</li> <li>Ordina per: Nome, email, organizzazione</li> </ul>"},{"location":"it/03-users/#dettagli-utente","title":"Dettagli Utente","text":"<p>Clicca su un utente per visualizzare informazioni dettagliate:</p> <ul> <li>Informazioni Profilo:</li> <li>Nome completo</li> <li>Indirizzo email</li> <li>Numero di telefono</li> <li> <p>Immagine profilo (se configurata tramite Logto)</p> </li> <li> <p>Appartenenza Organizzazione:</p> </li> <li>Organizzazione primaria</li> <li> <p>Ruolo organizzazione (Owner/Distributore/Rivenditore/Cliente)</p> </li> <li> <p>Ruoli e Permessi:</p> </li> <li>Ruoli utente assegnati (Admin, Support)</li> <li> <p>Elenco permessi effettivi</p> </li> <li> <p>Attivit\u00e0:</p> </li> <li>Data e ora ultimo accesso</li> <li>Data creazione account</li> <li> <p>Ultimo cambio password</p> </li> <li> <p>Stato:</p> </li> <li>Attivo o sospeso</li> <li>Motivo sospensione (se applicabile)</li> </ul>"},{"location":"it/03-users/#modifica-utenti","title":"Modifica Utenti","text":""},{"location":"it/03-users/#aggiorna-informazioni-utente","title":"Aggiorna Informazioni Utente","text":"<ol> <li>Naviga alla pagina dei dettagli utente</li> <li>Clicca Modifica</li> <li>Aggiorna i campi:</li> <li>Nome</li> <li>Indirizzo email</li> <li>Organizzazione</li> <li>Ruoli</li> <li>Numero di telefono</li> <li>Clicca Salva utente</li> </ol> <p>Nota: - Almeno un ruolo deve essere selezionato - Non puoi modificare il tuo account tramite questa interfaccia (usa Impostazioni Profilo invece)</p>"},{"location":"it/03-users/#reimposta-password-utente","title":"Reimposta Password Utente","text":"<p>Come Admin, puoi reimpostare la password di un utente:</p> <ol> <li>Naviga alla pagina dell'utente</li> <li>Clicca Reimposta Password (usando il menu kebab)</li> <li>Conferma l'azione</li> <li>Viene generata una nuova password temporanea</li> <li>Copia la password e inviala all'utente</li> </ol> <p>Casi d'Uso: - Utente ha dimenticato la password - Incidente di sicurezza che richiede reset password - Recupero account</p>"},{"location":"it/03-users/#gestione-stato-utente","title":"Gestione Stato Utente","text":""},{"location":"it/03-users/#sospensione-di-un-utente","title":"Sospensione di un Utente","text":"<p>Disabilita temporaneamente un account utente:</p> <ol> <li>Naviga alla pagina dell'utente</li> <li>Clicca Sospendi (usando il menu kebab)</li> <li>Clicca Sospendi</li> </ol> <p>Effetti della sospensione: - L'utente non pu\u00f2 accedere - Le sessioni attive vengono immediatamente invalidate - I token utente vengono inseriti in blacklist - L'utente appare come \"Sospeso\" negli elenchi</p>"},{"location":"it/03-users/#riattivazione-di-un-utente","title":"Riattivazione di un Utente","text":"<p>Riabilita un account sospeso:</p> <ol> <li>Filtra gli utenti per stato \"Sospeso\"</li> <li>Seleziona l'utente sospeso</li> <li>Clicca Riattiva (usando il menu kebab)</li> <li>Conferma l'azione</li> </ol> <p>Effetti della riattivazione: - L'utente pu\u00f2 accedere nuovamente - L'utente deve usare la password esistente - I permessi precedenti vengono ripristinati</p>"},{"location":"it/03-users/#eliminazione-di-un-utente","title":"Eliminazione di un Utente","text":"<p>\u26a0\ufe0f Attenzione: L'eliminazione dell'utente \u00e8 permanente e non pu\u00f2 essere annullata.</p> <p>Per eliminare un utente:</p> <ol> <li>Naviga alla pagina dei dettagli utente</li> <li>Clicca Elimina (usando il menu kebab)</li> <li>Clicca Elimina</li> </ol> <p>Effetti dell'eliminazione: - L'account utente viene rimosso permanentemente da Logto - Tutti i log di audit vengono preservati - I sistemi creati da questo utente rimangono</p> <p>Prerequisiti: - Non puoi eliminare il tuo account - L'utente deve essere prima sospeso (misura di sicurezza) - Devi avere il ruolo Admin</p>"},{"location":"it/03-users/#funzionalita-self-service","title":"Funzionalit\u00e0 Self-Service","text":"<p>Gli utenti possono gestire alcuni aspetti del proprio account:</p>"},{"location":"it/03-users/#cambia-propria-password","title":"Cambia Propria Password","text":"<ol> <li>Clicca icona profilo &gt; Impostazioni Profilo</li> <li>Clicca Cambia Password</li> <li>Inserisci password corrente</li> <li>Inserisci nuova password (due volte)</li> <li>Clicca Salva</li> </ol>"},{"location":"it/03-users/#aggiorna-proprio-profilo","title":"Aggiorna Proprio Profilo","text":"<ol> <li>Clicca icona profilo &gt; Impostazioni Profilo</li> <li>Aggiorna:</li> <li>Nome</li> <li>Indirizzo email</li> <li>Numero di telefono</li> <li>Clicca Salva</li> </ol> <p>Nota: Le modifiche email potrebbero richiedere riautenticazione.</p>"},{"location":"it/03-users/#riferimento-permessi","title":"Riferimento Permessi","text":""},{"location":"it/03-users/#permessi-ruolo-super-admin","title":"Permessi Ruolo Super Admin","text":"<p>\u2705 Pu\u00f2 eseguire: - Tutte le capacit\u00e0 Admin - Impersonificazione utente per troubleshooting - Operazioni di sistema avanzate - Configurazione a livello piattaforma - Accesso completo alla traccia di audit - Operazioni di emergenza</p> <p>\u274c Non pu\u00f2 eseguire: - Modificare lo stato del proprio account - Eliminare il proprio account - Bypassare il logging di audit</p>"},{"location":"it/03-users/#permessi-ruolo-admin","title":"Permessi Ruolo Admin","text":"<p>\u2705 Pu\u00f2 eseguire: - Creare utenti - Modificare utenti - Reimpostare password utenti - Sospendere/riattivare utenti - Eliminare utenti (con restrizioni) - Gestire organizzazioni (basato sulla gerarchia) - Visualizzare tutti i log di audit - Configurare impostazioni piattaforma</p> <p>\u274c Non pu\u00f2 eseguire: - Impersonificazione utente - Modificare lo stato del proprio account - Eliminare il proprio account - Bypassare restrizioni gerarchiche</p>"},{"location":"it/03-users/#permessi-ruolo-backoffice","title":"Permessi Ruolo Backoffice","text":"<p>\u2705 Pu\u00f2 eseguire: - Visualizzare utenti e organizzazioni - Visualizzare sistemi e inventario - Generare report e analisi - Visualizzare statistiche e dashboard - Esportare dati - Visualizzare log di audit</p> <p>\u274c Non pu\u00f2 eseguire: - Creare o modificare utenti - Gestire organizzazioni - Creare o modificare sistemi - Eliminare qualsiasi risorsa - Sospendere utenti - Reimpostare password</p>"},{"location":"it/03-users/#permessi-ruolo-support","title":"Permessi Ruolo Support","text":"<p>\u2705 Pu\u00f2 eseguire: - Creare sistemi - Visualizzare sistemi - Modificare sistemi - Rigenerare segreti sistema - Visualizzare inventario - Visualizzare stato heartbeat - Visualizzare statistiche sistema</p> <p>\u274c Non pu\u00f2 eseguire: - Gestire utenti - Gestire organizzazioni - Eliminare sistemi - Accedere a operazioni pericolose</p>"},{"location":"it/03-users/#permessi-ruolo-reader","title":"Permessi Ruolo Reader","text":"<p>\u2705 Pu\u00f2 eseguire: - Visualizzare utenti (informazioni di base) - Visualizzare organizzazioni - Visualizzare sistemi e stato - Visualizzare dati inventario - Visualizzare stato heartbeat - Visualizzare statistiche di base</p> <p>\u274c Non pu\u00f2 eseguire: - Creare, modificare o eliminare qualsiasi risorsa - Accedere a dati utente sensibili - Visualizzare log di audit - Generare report - Esportare dati</p>"},{"location":"it/03-users/#restrizioni-gerarchiche","title":"Restrizioni Gerarchiche","text":"<p>Gli utenti possono gestire altri utenti solo nell'ambito della propria organizzazione:</p> <p>Utenti Owner: - Possono gestire tutti gli utenti in tutte le organizzazioni</p> <p>Utenti Distributore: - Possono gestire utenti nei propri rivenditori e clienti - Non possono gestire utenti in altri distributori</p> <p>Utenti Rivenditore: - Possono gestire utenti solo nei propri clienti - Non possono gestire utenti nel proprio distributore o altri rivenditori</p> <p>Utenti Cliente: - Possono gestire utenti solo nella propria organizzazione</p>"},{"location":"it/03-users/#statistiche-utenti","title":"Statistiche Utenti","text":""},{"location":"it/03-users/#metriche-dashboard","title":"Metriche Dashboard","text":"<p>Naviga su Dashboard per visualizzare:</p> <ul> <li>Totale Utenti: Conteggio in tutte le organizzazioni accessibili</li> <li>Utenti Attivi: Utenti che hanno effettuato l'accesso di recente</li> <li>Utenti per Organizzazione: Grafico di distribuzione</li> <li>Utenti per Ruolo: Conteggio Super Admin, Admin, Backoffice, Support, Reader</li> <li>Trend di Crescita: Trend creazione utenti (ultimi 30/60/90 giorni)</li> </ul>"},{"location":"it/03-users/#report-utenti","title":"Report Utenti","text":"<p>Genera report:</p> <ol> <li>Naviga su Utenti</li> <li>Scegli i filtri (organizzazione, ruolo, stato)</li> <li>Clicca Azioni &gt; Esporta</li> <li>Esporta come CSV o PDF</li> </ol>"},{"location":"it/03-users/#best-practice","title":"Best Practice","text":""},{"location":"it/03-users/#gestione-account-utente","title":"Gestione Account Utente","text":"<ul> <li>Crea utenti solo quando necessario</li> <li>Usa nomi completi descrittivi</li> <li>Verifica sempre gli indirizzi email</li> <li>Documenta le responsabilit\u00e0 degli utenti</li> <li>Rivedi regolarmente gli account utente</li> <li>Rimuovi prontamente gli utenti inattivi</li> </ul>"},{"location":"it/03-users/#assegnazione-ruoli","title":"Assegnazione Ruoli","text":"<ul> <li>Assegna i ruoli minimi richiesti (principio del privilegio minimo)</li> <li>Documenta perch\u00e9 gli utenti hanno ruoli specifici</li> <li>Rivedi le assegnazioni dei ruoli trimestralmente</li> <li>Usa il ruolo Super Admin solo per amministratori di piattaforma</li> <li>Usa il ruolo Admin con parsimonia per esigenze di gestione utenti</li> <li>Usa il ruolo Backoffice per personale di reportistica e analisi</li> <li>Usa il ruolo Support per la maggior parte delle operazioni tecniche</li> <li>Usa il ruolo Reader per accesso in sola visualizzazione (revisori, stakeholder)</li> </ul>"},{"location":"it/03-users/#sicurezza","title":"Sicurezza","text":"<ul> <li>Forza il cambio password per incidenti di sicurezza</li> <li>Sospendi gli utenti immediatamente alla cessazione</li> <li>Rivedi regolarmente le sessioni attive</li> <li>Monitora i tentativi di accesso falliti</li> <li>Mantieni aggiornate le informazioni di contatto</li> </ul>"},{"location":"it/03-users/#assegnazione-organizzazione","title":"Assegnazione Organizzazione","text":"<ul> <li>Assegna gli utenti all'organizzazione corretta</li> <li>Verifica la gerarchia organizzativa</li> <li>Aggiorna l'appartenenza all'organizzazione quando la struttura cambia</li> <li>Non creare utenti nelle organizzazioni sbagliate</li> </ul>"},{"location":"it/03-users/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"it/03-users/#lutente-non-puo-accedere","title":"L'Utente Non Pu\u00f2 Accedere","text":"<p>Problema: L'utente riferisce di non poter accedere alla piattaforma</p> <p>Soluzioni: 1. Verifica che l'account utente non sia sospeso 2. Controlla se la password temporanea \u00e8 stata cambiata 3. Conferma che l'indirizzo email sia corretto 4. Reimposta la password se necessario 5. Controlla lo stato del servizio Logto</p>"},{"location":"it/03-users/#lutente-ha-permessi-errati","title":"L'Utente Ha Permessi Errati","text":"<p>Problema: L'utente non pu\u00f2 accedere alle funzionalit\u00e0 previste</p> <p>Soluzioni: 1. Verifica che i ruoli utente siano assegnati correttamente 2. Controlla che l'appartenenza all'organizzazione sia corretta 3. Conferma che la gerarchia organizzativa sia corretta 4. Rivedi i permessi combinati (ruolo org + ruolo utente) 5. Controlla se le modifiche ai ruoli recenti si sono propagate</p>"},{"location":"it/03-users/#impossibile-creare-utente","title":"Impossibile Creare Utente","text":"<p>Problema: \"Accesso negato\" durante la creazione dell'utente</p> <p>Soluzioni: 1. Verifica di avere il ruolo Admin 2. Controlla che l'organizzazione di destinazione sia nella tua gerarchia 3. Conferma che l'indirizzo email non sia gi\u00e0 utilizzato 4. Assicurati che l'organizzazione non sia sospesa</p>"},{"location":"it/03-users/#email-di-benvenuto-non-ricevuta","title":"Email di Benvenuto Non Ricevuta","text":"<p>Problema: Il nuovo utente non ha ricevuto l'email di benvenuto</p> <p>Soluzioni: 1. Controlla la cartella spam dell'utente 2. Verifica che l'indirizzo email sia corretto 3. Controlla la configurazione SMTP (solo admin) 4. Condividi manualmente la password temporanea in modo sicuro 5. Reimposta la password per inviare una nuova email</p>"},{"location":"it/03-users/#prossimi-passi","title":"Prossimi Passi","text":"<p>Dopo aver creato gli utenti:</p> <ul> <li>Crea sistemi per le organizzazioni clienti</li> <li>Configura i permessi utente in modo appropriato</li> <li>Forma gli utenti sull'utilizzo della piattaforma</li> <li>Imposta monitoraggio e avvisi</li> </ul>"},{"location":"it/03-users/#documentazione-correlata","title":"Documentazione Correlata","text":"<ul> <li>Guida Autenticazione</li> <li>Gestione Organizzazioni</li> <li>Gestione Sistemi</li> </ul>"},{"location":"it/04-systems/","title":"Gestione Sistemi","text":"<p>Scopri come creare e gestire i sistemi nella piattaforma My.</p>"},{"location":"it/04-systems/#comprendere-i-sistemi","title":"Comprendere i Sistemi","text":"<p>Un sistema in My rappresenta un server o dispositivo gestito (NethServer o NethSecurity) che:</p> <ul> <li>Appartiene a un'organizzazione</li> <li>Invia dati di inventario automaticamente</li> <li>Invia segnali di heartbeat per indicare che \u00e8 attivo</li> <li>Pu\u00f2 essere monitorato e gestito da remoto</li> </ul>"},{"location":"it/04-systems/#ciclo-di-vita-del-sistema","title":"Ciclo di Vita del Sistema","text":"<pre><code>1. Creato da Admin/Support \u2192 riceve system_secret\n2. Non ancora registrato \u2192 system_key \u00e8 nascosto\n3. Sistema esterno si registra \u2192 system_key diventa visibile\n4. Sistema invia inventario e heartbeat \u2192 stato monitorato\n</code></pre>"},{"location":"it/04-systems/#stato-del-sistema","title":"Stato del Sistema","text":"<ul> <li>Unknown: Stato predefinito, nessun inventario ricevuto ancora</li> <li>Active: Sistema sta inviando heartbeat attivamente (&lt; 15 minuti)</li> <li>Inactive: Sistema ha smesso di inviare heartbeat (&gt; 15 minuti)</li> <li>Deleted: Sistema \u00e8 stato eliminato in modo soft</li> </ul>"},{"location":"it/04-systems/#creazione-sistemi","title":"Creazione Sistemi","text":""},{"location":"it/04-systems/#prerequisiti","title":"Prerequisiti","text":"<ul> <li>Devi avere il ruolo Support o Admin</li> <li>Hai bisogno di un'organizzazione cliente a cui associare il sistema</li> <li>Il sistema verr\u00e0 creato nello stato \"non registrato\"</li> </ul>"},{"location":"it/04-systems/#creare-un-nuovo-sistema","title":"Creare un Nuovo Sistema","text":"<ol> <li>Naviga su Sistemi</li> <li>Clicca Crea sistema</li> <li>Compila il modulo:</li> <li>Nome: Nome descrittivo per il sistema (es. \"Server Produzione Milano\")</li> <li>Organizzazione: Seleziona l'organizzazione cliente</li> <li>Note (opzionale): Informazioni aggiuntive</li> <li>Clicca Crea sistema</li> </ol> <p>Esempio: <pre><code>Nome: Server Web Produzione Milano\nOrganizzazione: Pizza Express Milano (Cliente)\nNote: Server di produzione principale per le sedi di Milano\n</code></pre></p>"},{"location":"it/04-systems/#secret-del-sistema","title":"Secret del Sistema","text":"<p>Dopo la creazione, vedrai:</p> <pre><code>{\n  \"id\": \"sys_abc123\",\n  \"name\": \"Server Web Produzione Milano\",\n  \"system_key\": \"\",  // \u2190 NASCOSTO fino alla registrazione\n  \"system_secret\": \"my_a1b2c3.k1l2m3...\",  // \u2190 SALVALO! Mostrato solo una volta\n  \"status\": \"unknown\",\n  \"registered_at\": null,\n  \"organization\": \"Pizza Express Milano\"\n}\n</code></pre> <p>\u26a0\ufe0f CRITICO: - Il <code>system_secret</code> viene mostrato solo una volta durante la creazione - Copialo e salvalo immediatamente - Ne avrai bisogno per registrare il sistema - Se lo perdi, devi rigenerarlo (invalida il secret precedente)</p>"},{"location":"it/04-systems/#visualizzazione-sistemi","title":"Visualizzazione Sistemi","text":""},{"location":"it/04-systems/#elenco-sistemi","title":"Elenco Sistemi","text":"<p>Naviga su Sistemi per vedere:</p> <ul> <li>Nome del sistema</li> <li>Tipo (ns8, nsec, ecc.)</li> <li>Versione</li> <li>FQDN e indirizzi IP</li> <li>Organizzazione</li> <li>Creato da</li> <li>Stato (unknown, online, offline)</li> <li>Stato registrazione</li> </ul>"},{"location":"it/04-systems/#filtraggio-e-ricerca","title":"Filtraggio e Ricerca","text":"<p>Usa i filtri per trovare sistemi specifici:</p> <ul> <li>Cerca: Per nome o system_key</li> <li>Prodotto: Filtra per tipo (NethServer o NethSecurity)</li> <li>Versione: Filtra per versione del sistema</li> <li>Organizzazione: Filtra per organizzazione cliente</li> <li>Creato da: Filtra per utente che ha creato il sistema</li> <li>Stato: unknown, online, offline, deleted</li> <li>Ordina per: Nome, versione, FQDN/indirizzo IP, Organizzazione, Creato da, Stato</li> </ul>"},{"location":"it/04-systems/#dettagli-sistema","title":"Dettagli Sistema","text":"<p>Clicca su un sistema per visualizzare informazioni complete:</p>"},{"location":"it/04-systems/#tab-panoramica","title":"Tab Panoramica","text":"<ul> <li>Informazioni di Base:</li> <li>Nome del sistema</li> <li>Tipo del sistema (auto-rilevato)</li> <li>Stato</li> <li>Versione</li> <li> <p>Timestamp registrazione</p> </li> <li> <p>Informazioni di Rete:</p> </li> <li>FQDN (Fully Qualified Domain Name)</li> <li>Indirizzo IPv4</li> <li> <p>Indirizzo IPv6</p> </li> <li> <p>Autenticazione:</p> </li> <li>System key (visibile solo dopo la registrazione)</li> <li>Stato registrazione</li> <li> <p>Ultimo timestamp di autenticazione</p> </li> <li> <p>Organizzazione:</p> </li> <li>Nome cliente</li> <li>Tipo organizzazione</li> <li> <p>Nome organizzazione</p> </li> <li> <p>Stato Heartbeat:</p> </li> <li>Stato corrente (active/inactive/unknown)</li> <li>Ultimo timestamp heartbeat</li> <li> <p>Ultimo timestamp inventario</p> </li> <li> <p>Traccia Audit:</p> </li> <li>Creato da (nome utente e email)</li> <li>Data creazione</li> <li>Data eliminazione (se eliminato in modo soft)</li> </ul>"},{"location":"it/04-systems/#tab-inventario","title":"Tab Inventario","text":"<p>Visualizza l'inventario dettagliato del sistema:</p> <ul> <li>Ultimo Inventario: Snapshot pi\u00f9 recente dell'inventario</li> <li>Storico Inventario: Tutti gli inventari storici con paginazione</li> <li>Modifiche: Elenco delle modifiche rilevate tra gli inventari</li> <li>Vista Diff: Confronto dettagliato tra versioni dell'inventario</li> </ul> <p>Vedi Inventario e Heartbeat per i dettagli.</p>"},{"location":"it/04-systems/#gestione-sistemi_1","title":"Gestione Sistemi","text":""},{"location":"it/04-systems/#modifica-informazioni-sistema","title":"Modifica Informazioni Sistema","text":"<ol> <li>Naviga alla pagina del sistema</li> <li>Clicca Modifica</li> <li>Aggiorna i campi:</li> <li>Nome</li> <li>Organizzazione</li> <li>Note</li> <li>Clicca Salva sistema</li> </ol>"},{"location":"it/04-systems/#rigenerazione-secret-sistema","title":"Rigenerazione Secret Sistema","text":"<p>Se il <code>system_secret</code> \u00e8 compromesso o perso:</p> <ol> <li>Naviga alla pagina del sistema</li> <li>Clicca Rigenera Secret (usando il menu kebab)</li> <li>Conferma l'azione</li> <li>Copia immediatamente il nuovo secret (mostrato solo una volta)</li> <li>Aggiorna il secret sul sistema esterno</li> </ol> <p>\u26a0\ufe0f Attenzione: - Il vecchio secret viene invalidato immediatamente - Il sistema non pu\u00f2 autenticarsi fino alla configurazione del nuovo secret - Tutti gli inventari e heartbeat falliranno fino all'aggiornamento - Il sistema rimane registrato (registered_at invariato)</p> <p>Quando rigenerare: - Il secret \u00e8 compromesso o divulgato - Il secret \u00e8 perso (per sistemi registrati) - Un audit di sicurezza richiede la rotazione delle credenziali - Migrazione del sistema a nuovo hardware</p>"},{"location":"it/04-systems/#eliminazione-soft","title":"Eliminazione Soft","text":"<p>L'eliminazione soft contrassegna un sistema come eliminato senza rimuovere i dati:</p> <ol> <li>Naviga alla pagina dei dettagli del sistema</li> <li>Clicca Elimina (usando il menu kebab)</li> <li>Conferma l'azione</li> </ol> <p>Effetti: - Sistema contrassegnato come \"deleted\" - Non pu\u00f2 inviare inventario o heartbeat - Nascosto dalle viste normali - Pu\u00f2 essere ripristinato se necessario - Tutti i dati storici sono preservati</p> <p>Per visualizzare i sistemi eliminati: 1. Applica filtro: Stato = \"deleted\" 2. Seleziona il sistema eliminato 3. Clicca Ripristina per annullare l'eliminazione</p>"},{"location":"it/04-systems/#eliminazione-permanente","title":"Eliminazione Permanente","text":"<p>\u26a0\ufe0f Attenzione: Questa operazione \u00e8 irreversibile!</p> <p>Per eliminare permanentemente: 1. Elimina prima il sistema in modo soft 2. Naviga alla vista dei sistemi eliminati 3. Seleziona il sistema 4. Clicca Eliminazione Permanente 5. Digita il nome del sistema per confermare 6. Clicca Elimina</p> <p>Questo rimuover\u00e0: - Record del sistema - Tutto lo storico dell'inventario - Tutti i record di heartbeat - Tutti i dati di rilevamento modifiche</p> <p>Questo preserver\u00e0: - Log di audit - Log di attivit\u00e0 utente</p>"},{"location":"it/04-systems/#registrazione-sistema","title":"Registrazione Sistema","text":"<p>Dopo aver creato un sistema, il sistema esterno deve registrarsi usando il <code>system_secret</code>.</p>"},{"location":"it/04-systems/#flusso-di-registrazione","title":"Flusso di Registrazione","text":"<ol> <li>Admin crea sistema \u2192 riceve <code>system_secret</code></li> <li>Admin configura sistema esterno con il secret</li> <li>Sistema esterno chiama API di registrazione con il secret</li> <li>Piattaforma valida e restituisce <code>system_key</code></li> <li>Sistema esterno memorizza entrambe le credenziali per uso futuro</li> </ol> <p>Vedi Registrazione Sistema per istruzioni dettagliate.</p>"},{"location":"it/04-systems/#stato-registrazione","title":"Stato Registrazione","text":"<p>Prima della Registrazione: <pre><code>{\n  \"system_key\": \"\",  // Nascosto\n  \"registered_at\": null,\n  \"status\": \"unknown\"\n}\n</code></pre></p> <p>Dopo la Registrazione: <pre><code>{\n  \"system_key\": \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\",  // Ora visibile\n  \"registered_at\": \"2025-11-06T10:30:00Z\",\n  \"status\": \"unknown\"  // Si aggiorner\u00e0 dopo il primo inventario\n}\n</code></pre></p>"},{"location":"it/04-systems/#monitoraggio-sistema","title":"Monitoraggio Sistema","text":""},{"location":"it/04-systems/#panoramica-dashboard","title":"Panoramica Dashboard","text":"<p>Naviga su Dashboard per vedere:</p> <ul> <li>Sistemi Totali: Conteggio tra le organizzazioni accessibili</li> <li>Stato Sistema: Distribuzione (unknown/online/offline)</li> <li>Stato Heartbeat: Conteggi active/inactive/unknown</li> <li>Modifiche Recenti: Ultime modifiche dell'inventario</li> <li>Avvisi: Sistemi con problemi</li> </ul>"},{"location":"it/04-systems/#esportazione-dati-sistema","title":"Esportazione Dati Sistema","text":"<p>Esporta le informazioni del sistema per reportistica:</p> <ol> <li>Naviga su Sistemi</li> <li>Applica filtri se necessario</li> <li>Clicca Azioni &gt; Esporta</li> <li>Scegli il formato:</li> <li>CSV o PDF</li> <li>Scarica il file</li> </ol>"},{"location":"it/04-systems/#best-practice","title":"Best Practice","text":""},{"location":"it/04-systems/#denominazione-sistemi","title":"Denominazione Sistemi","text":"<ul> <li>Usa nomi descrittivi e coerenti</li> <li>Includi la posizione se rilevante: \"Server Milano Nord\"</li> <li>Includi lo scopo: \"Web Produzione\", \"Server Backup\"</li> <li>Evita caratteri speciali</li> <li>Mantieni i nomi sotto i 50 caratteri</li> </ul>"},{"location":"it/04-systems/#organizzazione","title":"Organizzazione","text":"<ul> <li>Raggruppa i sistemi per cliente</li> <li>Usa dati personalizzati per la categorizzazione</li> <li>Etichetta i sistemi con l'ambiente (prod/staging/dev)</li> <li>Documenta lo scopo del sistema nelle note</li> </ul>"},{"location":"it/04-systems/#sicurezza","title":"Sicurezza","text":"<ul> <li>Memorizza i secret in modo sicuro (password manager, vault)</li> <li>Non condividere mai i secret via email</li> <li>Revoca immediatamente i secret se compromessi</li> <li>Monitora i tentativi di autenticazione falliti</li> </ul>"},{"location":"it/04-systems/#monitoraggio","title":"Monitoraggio","text":"<ul> <li>Controlla lo stato heartbeat quotidianamente</li> <li>Rivedi le modifiche dell'inventario settimanalmente</li> <li>Configura avvisi per i sistemi critici</li> <li>Monitora le versioni dei sistemi per gli aggiornamenti</li> </ul>"},{"location":"it/04-systems/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"it/04-systems/#sistema-non-appare-nellelenco","title":"Sistema Non Appare nell'Elenco","text":"<p>Problema: Il sistema atteso non \u00e8 visibile</p> <p>Soluzioni: 1. Controlla se il sistema appartiene a un'organizzazione accessibile 2. Verifica che il sistema non sia eliminato in modo soft (controlla il filtro deleted) 3. Conferma di avere il ruolo Support o Admin 4. Controlla se sono applicati filtri 5. Aggiorna la pagina</p>"},{"location":"it/04-systems/#impossibile-registrare-sistema","title":"Impossibile Registrare Sistema","text":"<p>Problema: La registrazione fallisce con \"invalid system secret\"</p> <p>Soluzioni: 1. Verifica che il secret sia stato copiato correttamente (senza spazi extra) 2. Controlla che il secret non sia stato rigenerato 3. Conferma che il sistema non sia eliminato 4. Assicurati che il sistema non sia gi\u00e0 registrato 5. Vedi Risoluzione Problemi Registrazione Sistema</p>"},{"location":"it/04-systems/#sistema-mostra-come-inactive","title":"Sistema Mostra come \"Inactive\"","text":"<p>Problema: Lo stato heartbeat del sistema \u00e8 \"inactive\" (giallo)</p> <p>Soluzioni: 1. Controlla se il sistema \u00e8 effettivamente in esecuzione 2. Verifica la connettivit\u00e0 di rete 3. Controlla i log del sistema per errori 4. Conferma che le credenziali siano corrette 5. Testa manualmente l'endpoint heartbeat 6. Vedi Inventario e Heartbeat</p>"},{"location":"it/04-systems/#system_key-e-nascosto","title":"System_key \u00e8 Nascosto","text":"<p>Problema: Impossibile vedere il campo system_key</p> <p>Spiegazione: - system_key \u00e8 nascosto fino alla registrazione del sistema - Questo \u00e8 il comportamento previsto per sistemi non registrati - Registra prima il sistema per rivelare system_key</p> <p>Soluzione: 1. Usa system_secret per registrare il sistema 2. Dopo la registrazione, system_key diventa visibile 3. Vedi Registrazione Sistema</p>"},{"location":"it/04-systems/#secret-sistema-perso","title":"Secret Sistema Perso","text":"<p>Problema: Il secret del sistema non \u00e8 stato salvato durante la creazione</p> <p>Soluzioni: 1. Rigenera il secret del sistema 2. Configura il sistema esterno con il nuovo secret 3. Il sistema deve ri-registrarsi se gi\u00e0 registrato 4. Il vecchio secret diventa invalido immediatamente</p>"},{"location":"it/04-systems/#tipo-sistema-non-rilevato","title":"Tipo Sistema Non Rilevato","text":"<p>Problema: Il tipo di sistema mostra come null o unknown</p> <p>Spiegazione: - Il tipo di sistema \u00e8 auto-rilevato dal primo inventario - Mostra null fino alla ricezione del primo inventario</p> <p>Soluzione: 1. Assicurati che il sistema sia registrato 2. Invia il primo inventario dal sistema esterno 3. Il tipo verr\u00e0 rilevato automaticamente 4. Vedi Inventario e Heartbeat</p>"},{"location":"it/04-systems/#prossimi-passi","title":"Prossimi Passi","text":"<p>Dopo aver creato i sistemi:</p> <ul> <li>Registra sistemi esterni usando system_secret</li> <li>Configura la raccolta inventario</li> <li>Configura monitoraggio e avvisi</li> <li>Rivedi regolarmente le statistiche del sistema</li> </ul>"},{"location":"it/04-systems/#documentazione-correlata","title":"Documentazione Correlata","text":"<ul> <li>Registrazione Sistema</li> <li>Inventario e Heartbeat</li> <li>Gestione Organizzazioni</li> </ul>"},{"location":"it/05-system-registration/","title":"Registrazione Sistema","text":"<p>Scopri come i sistemi esterni si registrano con la piattaforma My per abilitare monitoraggio e gestione.</p>"},{"location":"it/05-system-registration/#panoramica","title":"Panoramica","text":"<p>La registrazione del sistema \u00e8 il processo mediante il quale un sistema esterno (NethServer, NethSecurity, ecc.) si autentica con My e riceve le sue credenziali permanenti.</p>"},{"location":"it/05-system-registration/#perche-e-necessaria-la-registrazione","title":"Perch\u00e9 \u00e8 Necessaria la Registrazione","text":"<ul> <li>Sicurezza: Valida il sistema prima di consentire la trasmissione dati</li> <li>Autenticazione: Stabilisce credenziali a lungo termine</li> <li>Tracciamento: Registra quando un sistema si \u00e8 connesso per la prima volta</li> <li>Visibilit\u00e0: Rende system_key visibile agli amministratori</li> </ul>"},{"location":"it/05-system-registration/#flusso-di-registrazione","title":"Flusso di Registrazione","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             \u2502  1. Crea sistema                       \u2502              \u2502\n\u2502    Admin    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; \u2502      My      \u2502\n\u2502             \u2502  \u2190 Restituisce system_secret (1 volta) \u2502   Platform   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                           \u2502\n                                                           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                            \u2502\n\u2502   Sistema   \u2502  2. Configura system_secret                \u2502\n\u2502   Esterno   \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502 (NethServer)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u2502  3. Chiama API registrazione\n      \u2502     POST /api/systems/register\n      \u2502     { \"system_secret\": \"my_...\" }\n      \u2502\n      v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      My      \u2502  4. Valida secret\n\u2502   Platform   \u2502     \u2713 Formato corretto\n\u2502              \u2502     \u2713 Parte pubblica esiste\n\u2502              \u2502     \u2713 Parte secret verificata (Argon2id)\n\u2502              \u2502     \u2713 Non eliminato\n\u2502              \u2502     \u2713 Non gi\u00e0 registrato\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u2502  5. Restituisce system_key\n      v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Sistema   \u2502  6. Memorizza credenziali:\n\u2502   Esterno   \u2502     - system_key (username)\n\u2502             \u2502     - system_secret (password)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u2502  7. Pronto per inventario e heartbeat!\n      v\n</code></pre>"},{"location":"it/05-system-registration/#comprendere-le-credenziali","title":"Comprendere le Credenziali","text":""},{"location":"it/05-system-registration/#system_secret-creato-alla-creazione-sistema","title":"system_secret (Creato alla Creazione Sistema)","text":"<p>Formato: <code>my_&lt;parte_pubblica&gt;.&lt;parte_secret&gt;</code></p> <p>Esempio: <code>my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0</code></p> <p>Componenti: - Prefisso: <code>my_</code> (identifica il tipo di token) - Parte pubblica: 20 caratteri esadecimali (per ricerca nel database) - Separatore: <code>.</code> (punto) - Parte secret: 40 caratteri esadecimali (hash con Argon2id)</p> <p>Caratteristiche: - Mostrato solo una volta durante la creazione del sistema - Non pu\u00f2 essere recuperato successivamente (la rigenerazione ne crea uno nuovo) - Usato per la registrazione (una sola volta) - Usato per tutta l'autenticazione futura (inventario, heartbeat)</p>"},{"location":"it/05-system-registration/#system_key-ricevuto-alla-registrazione","title":"system_key (Ricevuto alla Registrazione)","text":"<p>Formato: <code>NOC-&lt;stringa_casuale&gt;</code></p> <p>Esempio: <code>NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE</code></p> <p>Caratteristiche: - Generato durante la creazione del sistema - Nascosto fino alla registrazione del sistema - Visibile dopo registrazione riuscita - Usato come username per HTTP Basic Auth - Non cambia mai (anche se il secret viene rigenerato)</p>"},{"location":"it/05-system-registration/#processo-di-registrazione","title":"Processo di Registrazione","text":""},{"location":"it/05-system-registration/#passo-1-admin-crea-sistema","title":"Passo 1: Admin Crea Sistema","text":"<p>Vedi Gestione Sistemi per i dettagli.</p> <p>Dopo la creazione, salva il <code>system_secret</code>: <pre><code>{\n  \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n}\n</code></pre></p>"},{"location":"it/05-system-registration/#passo-2-configura-sistema-esterno","title":"Passo 2: Configura Sistema Esterno","text":"<p>Configura il sistema esterno con il <code>system_secret</code>. Il metodo esatto dipende dal tipo di sistema:</p>"},{"location":"it/05-system-registration/#per-nethservernethsecurity","title":"Per NethServer/NethSecurity:","text":"<ol> <li>Accedi all'interfaccia di amministrazione del sistema</li> <li>Naviga su Impostazioni &gt; Sottoscrizione</li> <li>Incolla il <code>system_secret</code></li> <li>Clicca Registra</li> </ol>"},{"location":"it/05-system-registration/#per-sistemi-personalizzati-api","title":"Per Sistemi Personalizzati (API):","text":"<p>Memorizza il secret in modo sicuro nella tua applicazione:</p> <p>Esempio file di configurazione: <pre><code># /etc/my/config.conf\nMY_PLATFORM_URL=https://my.nethesis.it\nMY_SYSTEM_SECRET=my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\n</code></pre></p> <p>Variabili d'ambiente: <pre><code>export MY_PLATFORM_URL=\"https://my.nethesis.it\"\nexport MY_SYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n</code></pre></p>"},{"location":"it/05-system-registration/#passo-3-chiama-api-registrazione","title":"Passo 3: Chiama API Registrazione","text":"<p>Il sistema esterno effettua una richiesta POST per registrarsi:</p> <p>Endpoint: <code>POST https://my.nethesis.it/api/systems/register</code></p> <p>Headers: <pre><code>Content-Type: application/json\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n}\n</code></pre></p> <p>Esempio cURL: <pre><code>curl -X POST https://my.nethesis.it/api/systems/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n  }'\n</code></pre></p> <p>Esempio Python: <pre><code>import requests\n\nurl = \"https://my.nethesis.it/api/systems/register\"\npayload = {\n    \"system_secret\": \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n}\n\nresponse = requests.post(url, json=payload)\ndata = response.json()\nsystem_key = data[\"data\"][\"system_key\"]\nprint(f\"Registrato! system_key: {system_key}\")\n</code></pre></p>"},{"location":"it/05-system-registration/#passo-4-piattaforma-valida","title":"Passo 4: Piattaforma Valida","text":"<p>La piattaforma esegue diversi controlli di sicurezza:</p> <ol> <li>Validazione Formato Token:</li> <li>Divide su <code>.</code> \u2192 deve avere esattamente 2 parti</li> <li>La prima parte deve iniziare con <code>my_</code></li> <li> <p>Estrae parti pubblica e secret</p> </li> <li> <p>Ricerca Database:</p> </li> <li>Trova il sistema usando la parte pubblica</li> <li> <p>Query indicizzata veloce su <code>system_secret_public</code></p> </li> <li> <p>Controlli di Sicurezza:</p> </li> <li>Il sistema non \u00e8 eliminato</li> <li>Il sistema non \u00e8 gi\u00e0 registrato</li> <li> <p>La parte pubblica corrisponde al valore memorizzato</p> </li> <li> <p>Verifica Crittografica:</p> </li> <li>Verifica la parte secret contro l'hash Argon2id</li> <li>Confronto a tempo costante (previene attacchi timing)</li> </ol>"},{"location":"it/05-system-registration/#passo-5-registrazione-riuscita","title":"Passo 5: Registrazione Riuscita","text":"<p>Risposta di Successo (HTTP 200): <pre><code>{\n  \"code\": 200,\n  \"message\": \"sistema registrato con successo\",\n  \"data\": {\n    \"system_key\": \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\",\n    \"registered_at\": \"2025-11-06T10:30:00Z\",\n    \"message\": \"sistema registrato con successo\"\n  }\n}\n</code></pre></p> <p>Cosa accade: - Il timestamp <code>registered_at</code> viene registrato nel database - <code>system_key</code> diventa visibile agli amministratori - Il sistema pu\u00f2 ora autenticarsi per inventario e heartbeat</p>"},{"location":"it/05-system-registration/#passo-6-memorizza-credenziali","title":"Passo 6: Memorizza Credenziali","text":"<p>Il sistema esterno deve memorizzare in modo sicuro entrambe le credenziali:</p> <p>Necessarie per l'autenticazione futura: - <code>system_key</code>: Username per HTTP Basic Auth - <code>system_secret</code>: Password per HTTP Basic Auth</p> <p>Raccomandazioni di memorizzazione: <pre><code># File di configurazione\nMY_SYSTEM_KEY=NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\nMY_SYSTEM_SECRET=my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\n\n# O usa memorizzazione sicura:\n# - Portachiavi di sistema\n# - Configurazione crittografata\n# - Servizio di gestione secret (Vault, ecc.)\n</code></pre></p>"},{"location":"it/05-system-registration/#risposte-di-errore","title":"Risposte di Errore","text":""},{"location":"it/05-system-registration/#formato-token-non-valido","title":"Formato Token Non Valido","text":"<p>HTTP 400 Bad Request: <pre><code>{\n  \"code\": 400,\n  \"message\": \"formato system secret non valido\",\n  \"data\": null\n}\n</code></pre></p> <p>Cause: - Il token non contiene il separatore <code>.</code> - Il token non inizia con <code>my_</code> - Il token \u00e8 malformato</p> <p>Soluzione: - Verifica che il secret sia stato copiato correttamente - Controlla spazi extra o interruzioni di riga - Assicurati che sia fornito il token completo</p>"},{"location":"it/05-system-registration/#credenziali-non-valide","title":"Credenziali Non Valide","text":"<p>HTTP 401 Unauthorized: <pre><code>{\n  \"code\": 401,\n  \"message\": \"system secret non valido\",\n  \"data\": null\n}\n</code></pre></p> <p>Cause: - Parte pubblica non trovata nel database - Parte secret non corrisponde all'hash - Secret sbagliato fornito</p> <p>Soluzione: - Verifica che il secret sia corretto - Controlla se il secret \u00e8 stato rigenerato - Assicurati che il sistema sia stato creato nella piattaforma My</p>"},{"location":"it/05-system-registration/#sistema-eliminato","title":"Sistema Eliminato","text":"<p>HTTP 403 Forbidden: <pre><code>{\n  \"code\": 403,\n  \"message\": \"il sistema \u00e8 stato eliminato\",\n  \"data\": null\n}\n</code></pre></p> <p>Cause: - Il sistema \u00e8 stato eliminato in modo soft dall'amministratore - Sistema contrassegnato come eliminato nel database</p> <p>Soluzione: - Contatta l'amministratore per ripristinare il sistema - Crea un nuovo sistema se necessario</p>"},{"location":"it/05-system-registration/#gia-registrato","title":"Gi\u00e0 Registrato","text":"<p>HTTP 409 Conflict: <pre><code>{\n  \"code\": 409,\n  \"message\": \"il sistema \u00e8 gi\u00e0 registrato\",\n  \"data\": null\n}\n</code></pre></p> <p>Cause: - Il sistema ha gi\u00e0 completato la registrazione - Il campo <code>registered_at</code> non \u00e8 null</p> <p>Soluzione: - Il sistema \u00e8 gi\u00e0 registrato, procedi con l'autenticazione - Usa <code>system_key</code> e <code>system_secret</code> esistenti per l'autenticazione - Nessuna azione necessaria a meno che non sia richiesta una ri-registrazione</p>"},{"location":"it/05-system-registration/#dopo-la-registrazione","title":"Dopo la Registrazione","text":""},{"location":"it/05-system-registration/#visualizza-stato-registrazione","title":"Visualizza Stato Registrazione","text":"<p>Gli amministratori possono visualizzare lo stato di registrazione:</p> <ol> <li>Naviga su Sistemi</li> <li>Trova il sistema e clicca Visualizza dettagli</li> <li>Controlla i campi:</li> <li>System_key: Ora visibile (era nascosto prima)</li> <li>Sottoscrizione: Mostra il timestamp</li> <li>Stato: Potrebbe ancora essere \"unknown\" fino al primo inventario</li> </ol>"},{"location":"it/05-system-registration/#prossimi-passi-per-sistema-esterno","title":"Prossimi Passi per Sistema Esterno","text":"<p>Dopo la registrazione riuscita, il sistema dovrebbe:</p> <ol> <li>Memorizzare le credenziali in modo sicuro</li> <li>Inviare il primo inventario (vedi Inventario e Heartbeat)</li> <li>Avviare il timer heartbeat (raccomandato: ogni 5 minuti)</li> <li>Monitorare i fallimenti di autenticazione</li> </ol>"},{"location":"it/05-system-registration/#ri-registrazione","title":"Ri-registrazione","text":""},{"location":"it/05-system-registration/#quando-e-necessaria-la-ri-registrazione","title":"Quando \u00e8 Necessaria la Ri-registrazione?","text":"<p>La ri-registrazione NON \u00e8 tipicamente necessaria. Un sistema rimane registrato a meno che:</p> <ul> <li>Il sistema venga eliminato e ricreato (nuovo system_secret)</li> <li>L'amministratore resetti esplicitamente la registrazione (operazione manuale del database)</li> </ul>"},{"location":"it/05-system-registration/#quando-non-e-necessaria-la-ri-registrazione","title":"Quando NON \u00e8 Necessaria la Ri-registrazione?","text":"<ul> <li>Rigenerazione secret: Il sistema rimane registrato, usa solo il nuovo secret</li> <li>Riavvio sistema: La registrazione persiste</li> <li>Modifiche di rete: La registrazione persiste</li> <li>Aggiornamenti software: La registrazione persiste</li> </ul>"},{"location":"it/05-system-registration/#considerazioni-sulla-sicurezza","title":"Considerazioni sulla Sicurezza","text":""},{"location":"it/05-system-registration/#sicurezza-token","title":"Sicurezza Token","text":"<p>Best Practice: - Memorizza i token in configurazione crittografata - Non loggare mai i token in chiaro - Usa canali sicuri (solo HTTPS) - Ruota i secret periodicamente - Revoca immediatamente i secret compromessi</p>"},{"location":"it/05-system-registration/#flusso-di-autenticazione","title":"Flusso di Autenticazione","text":"<p>Come funziona: 1. Il sistema esterno divide <code>system_secret</code> in parti pubblica + secret 2. La piattaforma interroga il database usando la parte pubblica (ricerca indicizzata veloce) 3. La piattaforma verifica la parte secret usando Argon2id (memory-hard, resistente GPU) 4. La piattaforma memorizza in cache il risultato in Redis (TTL 5 minuti)</p> <p>Benefici di sicurezza: - Query database veloci (parte pubblica indicizzata) - Crittografia forte (Argon2id: 64MB memoria, 3 iterazioni) - Resistente al brute-force (algoritmo memory-hard) - Pattern standard dell'industria (GitHub, Stripe, Slack usano pattern simili)</p>"},{"location":"it/05-system-registration/#sicurezza-di-rete","title":"Sicurezza di Rete","text":"<p>Requisiti: - Usa sempre HTTPS per la registrazione - Verifica certificati SSL/TLS - Usa risoluzione DNS sicura - Evita Wi-Fi pubblico per la registrazione iniziale</p>"},{"location":"it/05-system-registration/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"it/05-system-registration/#registrazione-fallisce-con-errore-di-rete","title":"Registrazione Fallisce con Errore di Rete","text":"<p>Problema: Impossibile connettersi all'endpoint di registrazione</p> <p>Soluzioni: 1. Controlla connettivit\u00e0 di rete: <code>ping my.nethesis.it</code> 2. Verifica risoluzione DNS: <code>nslookup my.nethesis.it</code> 3. Testa connettivit\u00e0 HTTPS: <code>curl https://my.nethesis.it/api/health</code> 4. Controlla regole firewall (consenti HTTPS in uscita) 5. Verifica impostazioni proxy se dietro proxy aziendale</p>"},{"location":"it/05-system-registration/#registrazione-riesce-ma-system_key-non-visibile","title":"Registrazione Riesce ma system_key Non Visibile","text":"<p>Problema: La risposta di registrazione mostra successo ma il pannello admin non mostra system_key</p> <p>Soluzioni: 1. Aggiorna la pagina admin (Ctrl+F5) 2. Cancella cache del browser 3. Attendi 30 secondi e aggiorna (propagazione cache) 4. Controlla browser diverso 5. Verifica che stai visualizzando il sistema corretto</p>"},{"location":"it/05-system-registration/#system_secret-perso-prima-della-registrazione","title":"system_secret Perso Prima della Registrazione","text":"<p>Problema: Il sistema \u00e8 stato creato ma il secret non \u00e8 stato salvato, sistema non ancora registrato</p> <p>Soluzioni: 1. Genera nuovo secret: Clicca Rigenera Secret nel pannello admin 2. Copia immediatamente il nuovo secret 3. Configura il sistema esterno con il nuovo secret 4. Procedi con la registrazione</p>"},{"location":"it/05-system-registration/#system_secret-perso-dopo-la-registrazione","title":"system_secret Perso Dopo la Registrazione","text":"<p>Problema: Il sistema \u00e8 registrato ma il secret \u00e8 stato perso</p> <p>Soluzioni: 1. Se il sistema funziona: Non fare nulla, le credenziali sono memorizzate sul sistema 2. Se serve riconfigurare: Rigenera secret nel pannello admin 3. Aggiorna secret sul sistema esterno 4. Il sistema rimane registrato (nessuna ri-registrazione necessaria)</p>"},{"location":"it/05-system-registration/#registrazione-con-secret-sbagliato","title":"Registrazione con Secret Sbagliato","text":"<p>Problema: Registrato accidentalmente con il secret del sistema sbagliato</p> <p>Soluzioni: 1. Questo \u00e8 impossibile - ogni secret \u00e8 unico per sistema 2. La piattaforma valida che la parte pubblica corrisponda al record del sistema 3. La registrazione fallir\u00e0 se si usa il secret del sistema sbagliato</p>"},{"location":"it/05-system-registration/#sistema-mostra-come-registrato-ma-non-puo-autenticarsi","title":"Sistema Mostra come Registrato ma Non Pu\u00f2 Autenticarsi","text":"<p>Problema: La registrazione \u00e8 riuscita ma inventario/heartbeat fallisce con 401</p> <p>Soluzioni: 1. Verifica che entrambe le credenziali siano memorizzate correttamente:    - <code>system_key</code> (dalla risposta di registrazione)    - <code>system_secret</code> (originale dalla creazione) 2. Controlla formato header HTTP Basic Auth 3. Testa l'autenticazione manualmente (vedi Inventario e Heartbeat) 4. Verifica nessuno spazio extra nelle credenziali memorizzate 5. Controlla se il secret \u00e8 stato rigenerato dopo la registrazione</p>"},{"location":"it/05-system-registration/#argomenti-avanzati","title":"Argomenti Avanzati","text":""},{"location":"it/05-system-registration/#registrazione-automatizzata","title":"Registrazione Automatizzata","text":"<p>Per deployment automatizzati, la registrazione pu\u00f2 essere scriptata:</p> <p>Esempio script Bash: <pre><code>#!/bin/bash\n\nPLATFORM_URL=\"https://my.nethesis.it\"\nSYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\n# Registra ed estrai system_key\nresponse=$(curl -s -X POST \"$PLATFORM_URL/api/systems/register\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"system_secret\\\": \\\"$SYSTEM_SECRET\\\"}\")\n\nsystem_key=$(echo \"$response\" | jq -r '.data.system_key')\n\nif [ \"$system_key\" != \"null\" ] &amp;&amp; [ -n \"$system_key\" ]; then\n  echo \"Registrazione riuscita!\"\n  echo \"system_key: $system_key\"\n\n  # Memorizza credenziali\n  echo \"MY_SYSTEM_KEY=$system_key\" &gt;&gt; /etc/my/config.conf\n  echo \"MY_SYSTEM_SECRET=$SYSTEM_SECRET\" &gt;&gt; /etc/my/config.conf\n\n  # Avvia servizio inventario/heartbeat\n  systemctl start my-agent\nelse\n  echo \"Registrazione fallita!\"\n  echo \"$response\"\n  exit 1\nfi\n</code></pre></p>"},{"location":"it/05-system-registration/#registrazioni-multiple-errore","title":"Registrazioni Multiple (Errore)","text":"<p>Domanda: Cosa succede se registro lo stesso sistema pi\u00f9 volte?</p> <p>Risposta: Il secondo e successivi tentativi di registrazione falliranno con HTTP 409 (gi\u00e0 registrato). Questo \u00e8 per design per prevenire ri-registrazione accidentale.</p>"},{"location":"it/05-system-registration/#annullare-registrazione-sistema","title":"Annullare Registrazione Sistema","text":"<p>Domanda: Come annullo la registrazione di un sistema?</p> <p>Risposta: Non esiste un'operazione \"annulla registrazione\". Per resettare: 1. Elimina il sistema (eliminazione soft) 2. Ripristina il sistema 3. Il sistema rimane registrato con lo stesso <code>system_key</code> 4. Rigenera secret se necessario</p> <p>Oppure: 1. Elimina sistema (eliminazione soft) 2. Elimina permanentemente sistema 3. Crea nuovo sistema (nuove credenziali, nuova registrazione)</p>"},{"location":"it/05-system-registration/#prossimi-passi","title":"Prossimi Passi","text":"<p>Dopo la registrazione riuscita:</p> <ul> <li>Configura la raccolta inventario</li> <li>Configura monitoraggio heartbeat</li> <li>Testa l'autenticazione</li> <li>Monitora lo stato del sistema nella dashboard</li> </ul>"},{"location":"it/05-system-registration/#documentazione-correlata","title":"Documentazione Correlata","text":"<ul> <li>Gestione Sistemi</li> <li>Inventario e Heartbeat</li> <li>Documentazione API Backend</li> </ul>"},{"location":"it/06-inventory-heartbeat/","title":"Inventario e Heartbeat","text":"<p>Scopri come i sistemi esterni inviano dati di inventario e segnali di heartbeat alla piattaforma My.</p>"},{"location":"it/06-inventory-heartbeat/#panoramica","title":"Panoramica","text":"<p>Dopo la registrazione del sistema, i sistemi esterni comunicano con My attraverso due meccanismi:</p> <ol> <li>Inventario: Snapshot completo delle informazioni del sistema (hardware, software, configurazione)</li> <li>Heartbeat: Segnale periodico \"Sono vivo\" per indicare che il sistema \u00e8 online</li> </ol> <p>Entrambe le operazioni usano HTTP Basic Authentication con le credenziali registrate.</p>"},{"location":"it/06-inventory-heartbeat/#autenticazione","title":"Autenticazione","text":""},{"location":"it/06-inventory-heartbeat/#credenziali","title":"Credenziali","text":"<p>Usa le credenziali ottenute durante il ciclo di vita del sistema:</p> <ul> <li>Username: <code>system_key</code> (ricevuto alla registrazione)</li> <li>Password: <code>system_secret</code> (dalla creazione del sistema)</li> </ul>"},{"location":"it/06-inventory-heartbeat/#http-basic-auth","title":"HTTP Basic Auth","text":"<p>Formato header: <pre><code>Authorization: Basic base64(system_key:system_secret)\n</code></pre></p> <p>Esempio: <pre><code>system_key: NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\nsystem_secret: my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\n\nBase64 encode: \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE:my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\nAuthorization: Basic bXlfc3lzX2FiYzEyM2RlZjQ1NjpteV9hMWIyYzNkNGU1ZjZnN2g4aTlqMC5rMWwybTNuNG81cDZxN3I4czl0MHUxdjJ3M3g0eTV6NmE3YjhjOWQw\n</code></pre></p> <p>La maggior parte delle librerie HTTP gestisce questo automaticamente: <pre><code>import requests\n\nrequests.post(url,\n    auth=('NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE', 'my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0'),\n    json=data\n)\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#heartbeat","title":"Heartbeat","text":"<p>L'heartbeat \u00e8 un semplice segnale per indicare che il sistema \u00e8 vivo e raggiungibile.</p>"},{"location":"it/06-inventory-heartbeat/#scopo","title":"Scopo","text":"<ul> <li>Rilevare quando i sistemi vanno offline</li> <li>Attivare avvisi per sistemi morti</li> <li>Monitorare l'affidabilit\u00e0 del sistema</li> </ul>"},{"location":"it/06-inventory-heartbeat/#endpoint","title":"Endpoint","text":"<pre><code>POST https://my.nethesis.it/collect/api/systems/heartbeat\n</code></pre> <p>Nota: Il servizio Collect \u00e8 su /collect (diverso dal backend principale su /backend)</p>"},{"location":"it/06-inventory-heartbeat/#richiesta","title":"Richiesta","text":"<p>Headers: <pre><code>Authorization: Basic &lt;credentials&gt;\nContent-Type: application/json\n</code></pre></p> <p>Body: <pre><code>{}\n</code></pre></p> <p>Oggetto JSON vuoto - nessun dato necessario!</p>"},{"location":"it/06-inventory-heartbeat/#risposta","title":"Risposta","text":"<p>Successo (HTTP 200): <pre><code>{\n  \"code\": 200,\n  \"message\": \"heartbeat riconosciuto\",\n  \"data\": {\n    \"system_key\": \"NOC-80F8-89A4-40B0-4AE9-A670-7C5F-99B3-F3EA\",\n    \"acknowledged\": true,\n    \"last_heartbeat\": \"2025-11-07T10:37:27.360343+01:00\"\n  }\n}\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#frequenza","title":"Frequenza","text":"<p>Raccomandato: Ogni 5 minuti</p> <p>Perch\u00e9 5 minuti? - La piattaforma considera il sistema \"active\" se heartbeat &lt; 15 minuti - Intervallo di 5 minuti fornisce 3 battiti mancati prima di contrassegnare come morto - Equilibrio tra traffico di rete e reattivit\u00e0</p>"},{"location":"it/06-inventory-heartbeat/#esempio-di-implementazione","title":"Esempio di Implementazione","text":"<p>Python: <pre><code>import requests\nimport time\n\nCOLLECT_URL = \"https://my.nethesis.it/collect\"\nSYSTEM_KEY = \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET = \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\ndef send_heartbeat():\n    \"\"\"Invia heartbeat alla piattaforma My\"\"\"\n    try:\n        response = requests.post(\n            f\"{COLLECT_URL}/api/systems/heartbeat\",\n            auth=(SYSTEM_KEY, SYSTEM_SECRET),\n            json={},\n            timeout=10\n        )\n        response.raise_for_status()\n        print(\"Heartbeat inviato con successo\")\n        return True\n    except Exception as e:\n        print(f\"Heartbeat fallito: {e}\")\n        return False\n\n# Invia heartbeat ogni 5 minuti\nwhile True:\n    send_heartbeat()\n    time.sleep(300)  # 5 minuti\n</code></pre></p> <p>Bash (cron): <pre><code>#!/bin/bash\n# /usr/local/bin/my-heartbeat.sh\n\nCOLLECT_URL=\"https://my.nethesis.it/collect\"\nSYSTEM_KEY=\"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\ncurl -s -X POST \"$COLLECT_URL/api/systems/heartbeat\" \\\n  -u \"$SYSTEM_KEY:$SYSTEM_SECRET\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{}' &gt; /dev/null\n</code></pre></p> <p>Entry Crontab (ogni 5 minuti): <pre><code>*/5 * * * * /usr/local/bin/my-heartbeat.sh\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#stato-heartbeat","title":"Stato Heartbeat","text":"<p>I sistemi sono classificati in base all'heartbeat:</p> Stato Condizione Colore Significato Active &lt; 15 minuti \ud83d\udfe2 Verde Il sistema \u00e8 sano Inactive \u2265 15 minuti \ud83d\udfe1 Giallo Il sistema \u00e8 offline Unknown Mai inviato \u26aa Grigio Mai comunicato"},{"location":"it/06-inventory-heartbeat/#inventario","title":"Inventario","text":"<p>L'inventario \u00e8 uno snapshot completo della configurazione del sistema e del software installato.</p>"},{"location":"it/06-inventory-heartbeat/#scopo_1","title":"Scopo","text":"<ul> <li>Tracciare hardware e software del sistema</li> <li>Rilevare modifiche alla configurazione</li> <li>Monitorare versioni software</li> <li>Audit della conformit\u00e0 del sistema</li> <li>Tracciare lo storico dell'inventario</li> </ul>"},{"location":"it/06-inventory-heartbeat/#endpoint_1","title":"Endpoint","text":"<pre><code>POST https://my.nethesis.it/collect/api/systems/inventory\n</code></pre> <p>Nota: Stesso servizio collect, porta 8081</p>"},{"location":"it/06-inventory-heartbeat/#richiesta_1","title":"Richiesta","text":"<p>Headers: <pre><code>Authorization: Basic &lt;credentials&gt;\nContent-Type: application/json\n</code></pre></p> <p>Struttura Body: <pre><code>{\n  \"fqdn\": \"server.example.com\",\n  \"ipv4_address\": \"192.168.1.100\",\n  \"ipv6_address\": \"2001:db8::1\",\n  \"version\": \"8.0.1\",\n  \"os\": {\n    \"name\": \"Rocky Linux\",\n    \"version\": \"9.3\",\n    \"kernel\": \"5.14.0-362.8.1.el9_3.x86_64\"\n  },\n  \"hardware\": {\n    \"cpu_model\": \"Intel Xeon Gold 6248R\",\n    \"cpu_cores\": 8,\n    \"cpu_threads\": 16,\n    \"memory_total_gb\": 32,\n    \"disk_total_gb\": 500\n  },\n  \"network\": {\n    \"hostname\": \"server01\",\n    \"interfaces\": {\n      \"eth0\": {\n        \"ip\": \"192.168.1.100\",\n        \"netmask\": \"255.255.255.0\",\n        \"mac\": \"00:1a:2b:3c:4d:5e\"\n      },\n      \"eth1\": {\n        \"ip\": \"10.0.0.10\",\n        \"netmask\": \"255.255.0.0\",\n        \"mac\": \"00:1a:2b:3c:4d:5f\"\n      }\n    }\n  },\n  \"services\": {\n    \"nginx\": {\n      \"version\": \"1.24.0\",\n      \"status\": \"running\"\n    },\n    \"postgresql\": {\n      \"version\": \"15.5\",\n      \"status\": \"running\"\n    },\n    \"redis\": {\n      \"version\": \"7.2.3\",\n      \"status\": \"running\"\n    }\n  },\n  \"features\": {\n    \"docker\": {\n      \"enabled\": true,\n      \"version\": \"24.0.7\"\n    },\n    \"firewall\": {\n      \"enabled\": true,\n      \"type\": \"nftables\"\n    }\n  },\n  \"custom\": {\n    \"environment\": \"production\",\n    \"datacenter\": \"EU-West-1\",\n    \"backup_enabled\": true\n  }\n}\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#risposta_1","title":"Risposta","text":"<p>Successo (HTTP 200): <pre><code>{\n  \"code\": 200,\n  \"message\": \"Inventario ricevuto e messo in coda per l'elaborazione\",\n  \"data\": {\n    \"data_size\": 16433,\n    \"message\": \"I dati del tuo inventario sono stati ricevuti e saranno elaborati a breve\",\n    \"queue_status\": \"queued\",\n    \"system_id\": \"0a98637c-077b-428a-8e57-c2fbb892051a\",\n    \"timestamp\": \"2025-11-07T10:39:05.897352+01:00\"\n  }\n}\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#frequenza_1","title":"Frequenza","text":"<p>Raccomandato: Ogni 6 ore (4 volte al giorno)</p> <p>Perch\u00e9 6 ore? - Equilibrio tra freschezza e carico rete/storage - Cattura modifiche giornaliere - Riduce la crescita del database - Sufficiente per la maggior parte delle esigenze di monitoraggio</p> <p>Casi speciali: - Dopo modifiche al sistema: Invia immediatamente - Durante aggiornamenti: Invia prima e dopo - On-demand: L'admin pu\u00f2 attivare via API</p>"},{"location":"it/06-inventory-heartbeat/#schema-inventario","title":"Schema Inventario","text":""},{"location":"it/06-inventory-heartbeat/#campi-obbligatori","title":"Campi Obbligatori","text":"<p>Dati minimi richiesti: <pre><code>{\n  \"fqdn\": \"server.example.com\",\n  \"ipv4_address\": \"192.168.1.100\",\n  \"os\": {\n    \"name\": \"NethSec\",\n    \"type\": \"nethsecurity\",\n    \"family\": \"OpenWRT\",\n    \"release\": {\n        \"full\": \"8.6.0-dev+43d54cd33.20251020175318\",\n        \"major\": 7\n    }\n  }\n}\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#sezioni-opzionali","title":"Sezioni Opzionali","text":"<p>Tutte le altre sezioni sono opzionali ma raccomandate:</p> <ul> <li><code>os</code>: Informazioni sistema operativo</li> <li><code>hardware</code>: Specifiche hardware fisico/virtuale</li> <li><code>network</code>: Configurazione di rete</li> <li><code>services</code>: Servizi installati e versioni</li> <li><code>features</code>: Funzionalit\u00e0 abilitate e capacit\u00e0</li> <li><code>custom</code>: Qualsiasi dato personalizzato (forma libera)</li> </ul>"},{"location":"it/06-inventory-heartbeat/#auto-rilevamento","title":"Auto-Rilevamento","text":"<p>Alcuni campi sono auto-rilevati dalla piattaforma:</p> <ul> <li>Tipo Sistema: Rilevato dai dati dell'inventario (ns8, nsec, ecc.)</li> <li>Stato: Auto-aggiornato in base all'heartbeat</li> <li>Ultimo Aggiornamento: Timestamp ricezione inventario</li> </ul>"},{"location":"it/06-inventory-heartbeat/#esempio-di-implementazione_1","title":"Esempio di Implementazione","text":"<p>Python: <pre><code>import requests\nimport platform\nimport psutil\nimport json\n\nCOLLECT_URL = \"https://my.nethesis.it/collect\"\nSYSTEM_KEY = \"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET = \"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\ndef collect_inventory():\n    \"\"\"Raccoglie inventario del sistema\"\"\"\n    return {\n        \"fqdn\": platform.node(),\n        \"ipv4_address\": get_primary_ip(),  # Tua implementazione\n        \"version\": \"8.0.1\",\n        \"os\": {\n            \"name\": platform.system(),\n            \"version\": platform.release(),\n            \"kernel\": platform.version()\n        },\n        \"hardware\": {\n            \"cpu_cores\": psutil.cpu_count(logical=False),\n            \"cpu_threads\": psutil.cpu_count(logical=True),\n            \"memory_total_gb\": round(psutil.virtual_memory().total / (1024**3), 2)\n        },\n        \"services\": collect_services(),  # Tua implementazione\n        \"features\": collect_features(),  # Tua implementazione\n    }\n\ndef send_inventory():\n    \"\"\"Invia inventario alla piattaforma My\"\"\"\n    try:\n        inventory = collect_inventory()\n\n        response = requests.post(\n            f\"{COLLECT_URL}/api/systems/inventory\",\n            auth=(SYSTEM_KEY, SYSTEM_SECRET),\n            json=inventory,\n            timeout=30\n        )\n        response.raise_for_status()\n\n        data = response.json()\n        print(f\"Inventario inviato con successo\")\n        print(f\"Modifiche rilevate: {data['data']['changes_detected']}\")\n        return True\n\n    except Exception as e:\n        print(f\"Invio inventario fallito: {e}\")\n        return False\n\n# Invia inventario ogni 6 ore\nimport time\nwhile True:\n    send_inventory()\n    time.sleep(21600)  # 6 ore\n</code></pre></p> <p>Bash: <pre><code>#!/bin/bash\n# /usr/local/bin/my-inventory.sh\n\nCOLLECT_URL=\"https://my.nethesis.it/collect\"\nSYSTEM_KEY=\"NOC-F64B-A989-C9E7-45B9-A55D-59EC-6545-40EE\"\nSYSTEM_SECRET=\"my_a1b2c3d4e5f6g7h8i9j0.k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0\"\n\n# Raccoglie inventario (esempio - personalizza per il tuo sistema)\nINVENTORY=$(cat &lt;&lt;EOF\n{\n  \"fqdn\": \"$(hostname -f)\",\n  \"ipv4_address\": \"$(hostname -I | awk '{print $1}')\",\n  \"version\": \"8.0.1\",\n  \"os\": {\n    \"name\": \"$(uname -s)\",\n    \"version\": \"$(uname -r)\"\n  },\n  \"hardware\": {\n    \"cpu_cores\": $(nproc),\n    \"memory_total_gb\": $(free -g | awk '/^Mem:/{print $2}')\n  }\n}\nEOF\n)\n\n# Invia alla piattaforma\ncurl -X POST \"$COLLECT_URL/api/systems/inventory\" \\\n  -u \"$SYSTEM_KEY:$SYSTEM_SECRET\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"$INVENTORY\"\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#rilevamento-modifiche","title":"Rilevamento Modifiche","text":"<p>My rileva automaticamente le modifiche tra gli snapshot dell'inventario.</p>"},{"location":"it/06-inventory-heartbeat/#cosa-viene-tracciato","title":"Cosa viene Tracciato","text":"<ul> <li>Modifiche hardware (CPU, memoria, disco)</li> <li>Modifiche versione software</li> <li>Aggiunte/rimozioni servizi</li> <li>Modifiche configurazione di rete</li> <li>Toggle funzionalit\u00e0</li> <li>Modifiche campi personalizzati</li> </ul>"},{"location":"it/06-inventory-heartbeat/#categorie-di-modifiche","title":"Categorie di Modifiche","text":"<p>Le modifiche sono categorizzate per tipo:</p> <ul> <li>OS: Sistema operativo e kernel</li> <li>Hardware: Hardware fisico/virtuale</li> <li>Network: Interfacce di rete e configurazione</li> <li>Features: Funzionalit\u00e0 abilitate e capacit\u00e0</li> <li>Services: Servizi installati</li> <li>System: Impostazioni generali di sistema</li> </ul>"},{"location":"it/06-inventory-heartbeat/#severita-modifiche","title":"Severit\u00e0 Modifiche","text":"<p>Ogni modifica ha un livello di severit\u00e0:</p> <ul> <li>Critical: Richiede attenzione immediata (es. guasto hardware)</li> <li>High: Modifiche importanti (es. aggiornamento OS)</li> <li>Medium: Modifiche notevoli (es. aggiornamento servizio)</li> <li>Low: Modifiche minori (es. aggiornamento metriche)</li> </ul>"},{"location":"it/06-inventory-heartbeat/#visualizzazione-modifiche","title":"Visualizzazione Modifiche","text":"<p>Nel Pannello Admin: 1. Naviga su Sistemi &gt; Dettagli Sistema 2. Clicca tab Inventario 3. Visualizza sezione Modifiche 4. Vedi diff dettagliato tra versioni</p> <p>Tipi di modifica: - \ud83d\udfe2 Create: Nuovo campo aggiunto - \ud83d\udfe1 Update: Valore campo modificato - \ud83d\udd34 Delete: Campo rimosso</p> <p>Esempio log modifiche: <pre><code>[2025-11-06 10:30] Versione OS aggiornata\n  - Vecchio: Rocky Linux 9.2\n  - Nuovo: Rocky Linux 9.3\n  - Severit\u00e0: High\n  - Categoria: OS\n\n[2025-11-06 10:30] Versione Nginx aggiornata\n  - Vecchio: 1.23.0\n  - Nuovo: 1.24.0\n  - Severit\u00e0: Medium\n  - Categoria: Services\n\n[2025-11-06 10:30] Nuova funzionalit\u00e0 abilitata: Docker\n  - Valore: 24.0.7\n  - Severit\u00e0: Medium\n  - Categoria: Features\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#monitoraggio-nel-pannello-admin","title":"Monitoraggio nel Pannello Admin","text":""},{"location":"it/06-inventory-heartbeat/#stato-real-time","title":"Stato Real-time","text":"<p>Vista dashboard: - Conteggio sistemi totali - Ripartizione Active / Inactive / Unknown - Modifiche inventario recenti - Sistemi che richiedono attenzione</p> <p>Elenco sistemi: - Indicatore stato heartbeat (\ud83d\udfe2\ud83d\udfe1\u26aa) - Ultimo tempo heartbeat - Ultimo tempo inventario - Notifiche modifiche</p>"},{"location":"it/06-inventory-heartbeat/#avvisi-se-configurati","title":"Avvisi (se configurati)","text":"<p>Avvisi automatici per: - Sistema va offline (nessun heartbeat per 15+ minuti) - Modifiche critiche rilevate nell'inventario - Nuovo sistema registrato - Discordanza versione sistema - Vulnerabilit\u00e0 di sicurezza rilevate</p>"},{"location":"it/06-inventory-heartbeat/#salute-sistema","title":"Salute Sistema","text":"<p>Punteggio salute basato su: - Affidabilit\u00e0 heartbeat (% uptime) - Freschezza inventario - Numero di modifiche - Conteggio problemi critici</p>"},{"location":"it/06-inventory-heartbeat/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"it/06-inventory-heartbeat/#autenticazione-fallisce-http-401","title":"Autenticazione Fallisce (HTTP 401)","text":"<p>Problema: \"Credenziali sistema non valide\" o \"Non autorizzato\"</p> <p>Soluzioni: 1. Verifica che le credenziali siano corrette:    <pre><code>echo -n \"system_key:system_secret\" | base64\n</code></pre> 2. Controlla spazi extra nelle credenziali 3. Assicurati che il sistema sia registrato 4. Verifica che il secret non sia stato rigenerato 5. Testa con curl:    <pre><code>curl -v -u \"system_key:system_secret\" \\\n  https://my.nethesis.it/collect/api/systems/heartbeat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{}'\n</code></pre></p>"},{"location":"it/06-inventory-heartbeat/#timeout-connessione","title":"Timeout Connessione","text":"<p>Problema: Timeout richiesta, nessuna risposta</p> <p>Soluzioni: 1. Controlla connettivit\u00e0 di rete:    <pre><code>ping my.nethesis.it\n</code></pre> 2. Verifica che la porta 8081 sia accessibile:    <pre><code>telnet my.nethesis.it 8081\n</code></pre> 3. Controlla regole firewall (consenti uscita verso porta 8081) 4. Verifica risoluzione DNS 5. Testa da rete diversa</p>"},{"location":"it/06-inventory-heartbeat/#inventario-non-si-aggiorna","title":"Inventario Non si Aggiorna","text":"<p>Problema: Inventario inviato con successo ma non visibile nel pannello admin</p> <p>Soluzioni: 1. Attendi 60 secondi e aggiorna (propagazione cache) 2. Verifica che stai visualizzando il sistema corretto 3. Controlla che l'inventario sia stato inviato all'endpoint corretto (porta 8081) 4. Verifica che il sistema non sia eliminato 5. Controlla log sistema per errori</p>"},{"location":"it/06-inventory-heartbeat/#heartbeat-mostra-come-dead","title":"Heartbeat Mostra come \"Dead\"","text":"<p>Problema: Il sistema mostra stato rosso/morto nonostante invii heartbeat</p> <p>Soluzioni: 1. Controlla frequenza heartbeat (deve essere &lt; 15 minuti) 2. Verifica che l'heartbeat raggiunga la piattaforma:    <pre><code>curl -v https://my.nethesis.it/collect/api/systems/heartbeat \\\n  -u \"key:secret\" -H \"Content-Type: application/json\" -d '{}'\n</code></pre> 3. Controlla che l'ora di sistema sia sincronizzata (NTP) 4. Verifica nessuna deriva del clock 5. Rivedi log servizio collect (solo admin)</p>"},{"location":"it/06-inventory-heartbeat/#modifiche-non-rilevate","title":"Modifiche Non Rilevate","text":"<p>Problema: Inventario inviato ma nessuna modifica mostrata</p> <p>Soluzioni: 1. Verifica che i dati siano effettivamente cambiati tra inventari 2. Controlla che i campi modificati siano supportati 3. Le piccole modifiche numeriche potrebbero non attivare il rilevamento 4. I campi personalizzati sono tracciati per modifiche 5. Attendi il prossimo inventario e confronta</p>"},{"location":"it/06-inventory-heartbeat/#best-practice","title":"Best Practice","text":""},{"location":"it/06-inventory-heartbeat/#heartbeat_1","title":"Heartbeat","text":"<ul> <li>Invia ogni 5 minuti in modo consistente</li> <li>Usa task schedulato (cron, systemd timer)</li> <li>Logga i fallimenti heartbeat per debug</li> <li>Implementa logica di retry (exponential backoff)</li> <li>Monitora tasso di successo heartbeat</li> </ul>"},{"location":"it/06-inventory-heartbeat/#inventario_1","title":"Inventario","text":"<ul> <li>Invia inventario completo ogni volta</li> <li>Non inviare aggiornamenti parziali</li> <li>Includi tutti i dati rilevanti</li> <li>Usa nomi campo consistenti</li> <li>Valida JSON prima dell'invio</li> <li>Invia immediatamente dopo modifiche significative</li> </ul>"},{"location":"it/06-inventory-heartbeat/#gestione-errori","title":"Gestione Errori","text":"<ul> <li>Implementa logica di retry per fallimenti di rete</li> <li>Logga tutti gli errori con contesto</li> <li>Non riprovare errori di autenticazione (401)</li> <li>Usa exponential backoff per i retry</li> <li>Avvisa sui fallimenti ripetuti</li> </ul>"},{"location":"it/06-inventory-heartbeat/#sicurezza","title":"Sicurezza","text":"<ul> <li>Memorizza credenziali in modo sicuro</li> <li>Non loggare mai le credenziali</li> <li>Usa solo HTTPS</li> <li>Verifica certificati SSL</li> <li>Ruota periodicamente le credenziali</li> <li>Monitora i fallimenti di autenticazione</li> </ul>"},{"location":"it/06-inventory-heartbeat/#performance","title":"Performance","text":"<ul> <li>Comprimi inventari di grandi dimensioni</li> <li>Raggruppa la raccolta dati</li> <li>Evita invii inventario non necessari</li> <li>Usa strutture dati efficienti</li> <li>Monitora la larghezza di banda di rete</li> </ul>"},{"location":"it/06-inventory-heartbeat/#documentazione-correlata","title":"Documentazione Correlata","text":"<ul> <li>Registrazione Sistema</li> <li>Gestione Sistemi</li> <li>API Backend</li> <li>Servizio Collect</li> </ul>"},{"location":"it/07-impersonation/","title":"Impersonificazione Utente","text":"<p>Scopri come usare la funzionalit\u00e0 di impersonificazione per risolvere problemi degli utenti rispettando privacy e consenso.</p>"},{"location":"it/07-impersonation/#cose-limpersonificazione-utente","title":"Cos'\u00e8 l'Impersonificazione Utente?","text":"<p>L'impersonificazione utente consente agli amministratori autorizzati di accedere temporaneamente alla piattaforma My come un altro utente. Questa funzionalit\u00e0 \u00e8 utile per:</p> <ul> <li>Risoluzione Problemi: Riprodurre problemi che gli utenti stanno sperimentando</li> <li>Supporto: Aiutare gli utenti con operazioni complesse</li> <li>Formazione: Dimostrare funzionalit\u00e0 agli utenti</li> <li>Testing: Verificare permessi e controlli di accesso</li> </ul>"},{"location":"it/07-impersonation/#caratteristiche-principali","title":"Caratteristiche Principali","text":""},{"location":"it/07-impersonation/#design-focalizzato-sulla-privacy","title":"\ud83d\udd12 Design Focalizzato sulla Privacy","text":"<ul> <li>Consenso Utente Richiesto: Gli utenti devono abilitare esplicitamente l'impersonificazione</li> <li>Tempo Limitato: Gli utenti controllano per quanto tempo \u00e8 consentita l'impersonificazione (1-168 ore)</li> <li>Trasparenza Completa: Tutte le azioni loggate e visibili all'utente</li> <li>Revoca Facile: Gli utenti possono disabilitare il consenso in qualsiasi momento</li> </ul>"},{"location":"it/07-impersonation/#controlli-di-sicurezza","title":"\ud83d\udee1\ufe0f Controlli di Sicurezza","text":"<ul> <li>Basato su Permessi: Solo utenti Super Admin o dell'organizzazione Owner possono impersonificare</li> <li>No Auto-Impersonificazione: Non puoi impersonificare il tuo stesso account</li> <li>No Concatenazione: Non puoi impersonificare mentre stai gi\u00e0 impersonificando un altro utente</li> <li>Scadenza Automatica: Il consenso scade automaticamente dopo la durata definita dall'utente</li> <li>Tracciamento Sessioni: Ogni sessione di impersonificazione ha un ID univoco per l'audit</li> </ul>"},{"location":"it/07-impersonation/#traccia-audit-completa","title":"\ud83d\udcca Traccia Audit Completa","text":"<ul> <li>Ogni chiamata API durante l'impersonificazione viene loggata</li> <li>Gli utenti possono vedere tutte le azioni eseguite durante l'impersonificazione</li> <li>Dati sensibili automaticamente oscurati dai log</li> <li>Organizzazione basata su sessioni per revisione facile</li> </ul>"},{"location":"it/07-impersonation/#chi-puo-impersonificare","title":"Chi Pu\u00f2 Impersonificare?","text":""},{"location":"it/07-impersonation/#permessi-richiesti","title":"Permessi Richiesti","text":"<p>Ruolo Super Admin: - Gli utenti con ruolo Super Admin hanno il permesso <code>impersonate:users</code> - Possono impersonificare qualsiasi utente (con il loro consenso) - Assegnato solo dagli utenti dell'organizzazione Owner</p> <p>Utenti Organizzazione Owner: - Hanno automaticamente capacit\u00e0 di impersonificazione - Possono impersonificare utenti nella loro gerarchia organizzativa - Nessun assegnazione ruolo aggiuntivo necessaria</p> <p>Tutti gli Altri: - Non possono vedere le funzionalit\u00e0 di impersonificazione - Non possono impersonificare nessun utente</p>"},{"location":"it/07-impersonation/#flusso-di-lavoro-impersonificazione","title":"Flusso di Lavoro Impersonificazione","text":""},{"location":"it/07-impersonation/#passo-1-utente-abilita-consenso","title":"Passo 1: Utente Abilita Consenso","text":"<p>Prima che l'impersonificazione possa avvenire, l'utente target deve abilitare il consenso.</p> <p>Per gli Utenti:</p> <ol> <li>Accedi al tuo account</li> <li>Naviga su Impostazioni Account &gt; Impersonificazione</li> <li>Trova la sezione Consenso all'Impersonificazione</li> <li>Clicca Abilita Impersonificazione</li> <li>Imposta durata (1-168 ore)</li> <li>Clicca Salva</li> </ol> <p>Cosa accade: - Il consenso viene registrato con timestamp - L'amministratore viene notificato che il consenso \u00e8 disponibile - Scade automaticamente dopo la durata - Pu\u00f2 essere revocato in qualsiasi momento</p> <p>Opzioni Durata: - 1-24 ore: Risoluzione problemi a breve termine - 24-72 ore: Supporto multi-giorno - 72-168 ore: Accesso esteso (max 1 settimana)</p>"},{"location":"it/07-impersonation/#passo-2-amministratore-impersonifica-utente","title":"Passo 2: Amministratore Impersonifica Utente","text":"<p>Per Amministratori (Super Admin o Owner):</p> <ol> <li>Naviga su Utenti</li> <li>Trova l'utente target</li> <li>Controlla se Impersonifica utente \u00e8 disponibile (usando il menu kebab)</li> <li>Clicca Impersonifica Utente</li> <li>Conferma l'azione</li> <li>Ora stai agendo come quell'utente</li> </ol> <p>Durante l'Impersonificazione:</p> <p>Vedrai: - Banner in alto: \"Stai impersonificando [Nome Utente]\" - Pulsante Esci: Clicca per tornare al tuo account - Tutte le funzionalit\u00e0: Esattamente come le vede l'utente - Permessi dell'utente: Filtrati dai loro permessi effettivi</p>"},{"location":"it/07-impersonation/#passo-3-esegui-azioni-di-supporto","title":"Passo 3: Esegui Azioni di Supporto","text":"<p>Durante l'impersonificazione:</p> <ul> <li>Naviga la piattaforma come farebbe l'utente</li> <li>Riproduci problemi segnalati</li> <li>Esegui azioni per conto dell'utente</li> <li>Testa funzionalit\u00e0 e permessi</li> <li>Documenta le scoperte</li> </ul> <p>Ricorda: - Tutte le azioni sono loggate - L'utente pu\u00f2 vedere tutto ci\u00f2 che fai - Tratta i dati dell'utente con rispetto - Esci dall'impersonificazione quando hai finito</p>"},{"location":"it/07-impersonation/#passo-4-esci-dallimpersonificazione","title":"Passo 4: Esci dall'Impersonificazione","text":"<p>Per uscire dall'impersonificazione:</p> <ol> <li>Clicca pulsante Esci Impersonificazione nel banner</li> <li>Torni al tuo account originale</li> <li>La sessione di impersonificazione viene chiusa</li> </ol> <p>Uscita Automatica: - La sessione scade dopo la durata del consenso dell'utente - Se l'utente revoca il consenso durante l'impersonificazione - Se il token scade (segue la durata del consenso)</p>"},{"location":"it/07-impersonation/#per-gli-utenti-gestione-consenso","title":"Per gli Utenti: Gestione Consenso","text":""},{"location":"it/07-impersonation/#abilitazione-consenso-impersonificazione","title":"Abilitazione Consenso Impersonificazione","text":"<p>Quando abilitare: - Quando hai un problema e hai bisogno di supporto - Quando richiedi aiuto dall'amministratore - Prima di una sessione di formazione - Quando l'amministratore chiede il consenso</p> <p>Come abilitare:</p> <ol> <li>Vai su Impostazioni Account &gt; Impersonificazione</li> <li>Clicca Consenso all'Impersonificazione</li> <li>Scegli durata:    <pre><code>\u25cb 1 ora   - Supporto rapido\n\u25cb 24 ore  - Supporto stesso giorno\n\u25cb 72 ore  - Problema multi-giorno\n\u25cb Personalizzato - Specifica ore (max 168)\n</code></pre></li> <li>Clicca Abilita</li> </ol> <p>Conferma: <pre><code>\u2713 Consenso impersonificazione abilitato\n  Scade: [Data e ora]\n  Durata: [X] ore\n</code></pre></p>"},{"location":"it/07-impersonation/#controllo-stato-consenso","title":"Controllo Stato Consenso","text":"<p>Per controllare se il consenso \u00e8 attivo:</p> <ol> <li>Vai su Impostazioni Account &gt; Impersonificazione</li> <li>Visualizza sezione Consenso Impersonificazione:    <pre><code>Stato: Attivo\nScade: 2025-11-07 10:30:00 UTC\n</code></pre></li> </ol>"},{"location":"it/07-impersonation/#revoca-consenso","title":"Revoca Consenso","text":"<p>Per disabilitare il consenso:</p> <ol> <li>Vai su Impostazioni Account &gt; Impersonificazione</li> <li>Clicca Revoca Consenso</li> <li>Conferma l'azione</li> </ol> <p>Effetti: - Consenso immediatamente disabilitato - Sessioni di impersonificazione attive terminate - L'amministratore non pu\u00f2 pi\u00f9 impersonificare - Pu\u00f2 essere ri-abilitato in qualsiasi momento</p>"},{"location":"it/07-impersonation/#visualizzazione-audit-impersonificazione","title":"Visualizzazione Audit Impersonificazione","text":"<p>Per vedere chi ti ha impersonificato:</p> <ol> <li>Vai su Impostazioni Account &gt; Impersonificazione</li> <li>Sotto Sessioni</li> <li> <p>Vedi storico completo:    <pre><code>Iniziata: 2025-11-06 10:00:00 UTC\nTerminata: 2025-11-06 11:30:00 UTC\nDurata: 1.5 ore\nImpersonificatore: John Admin (john@example.com)\nStato: In corso\n</code></pre></p> </li> <li> <p>Clicca Mostra log audit per vedere tutte le azioni</p> </li> </ol> <p>Informazioni Audit: - Data e ora di ogni azione - Endpoint API chiamato - Dati sensibili automaticamente oscurati - Risultato (successo/fallimento)</p>"},{"location":"it/07-impersonation/#per-amministratori-uso-impersonificazione","title":"Per Amministratori: Uso Impersonificazione","text":""},{"location":"it/07-impersonation/#controllo-disponibilita-impersonificazione","title":"Controllo Disponibilit\u00e0 Impersonificazione","text":"<p>Nell'elenco utenti:</p> <p>Gli utenti con consenso attivo mostrano: - Stato Impersonifica utente abilitato - Tempo di scadenza consenso - Clicca per impersonificare</p> <p>Utenti senza consenso: - Stato Impersonifica utente disabilitato</p>"},{"location":"it/07-impersonation/#avvio-impersonificazione","title":"Avvio Impersonificazione","text":"<p>Requisiti: - L'utente ha consenso attivo - Hai ruolo Super Admin o ruolo organizzazione Owner - L'utente non \u00e8 eliminato o sospeso - Non stai gi\u00e0 impersonificando qualcuno</p> <p>Passi:</p> <ol> <li>Trova Utente:</li> <li>Naviga su Utenti</li> <li> <p>Cerca utente target</p> </li> <li> <p>Verifica Consenso:</p> </li> <li>Controlla stato Impersonifica utente abilitato</li> <li>Controlla tempo scadenza consenso</li> <li> <p>Assicurati tempo sufficiente per le tue esigenze</p> </li> <li> <p>Inizia Impersonificazione:</p> </li> <li>Clicca Impersonifica Utente (usando menu kebab)</li> <li> <p>Conferma dialogo:      <pre><code>Agirai temporaneamente come utente Edoardo Spadoni e avrai i suoi permessi.\n\n Per tornare al tuo account, clicca l'icona di chiusura sul badge di impersonificazione nella barra superiore.\n\n[Annulla] [Impersonifica utente]\n</code></pre></p> </li> <li> <p>Conferma:</p> </li> <li>Ora stai impersonificando l'utente</li> <li>Il banner appare in alto</li> <li>La sessione inizia</li> </ol>"},{"location":"it/07-impersonation/#durante-la-sessione-di-impersonificazione","title":"Durante la Sessione di Impersonificazione","text":"<p>Indicatori Visivi:</p> <p>Banner in alto di ogni pagina:</p> <p>Cosa Vedi: - Esatta stessa interfaccia dell'utente - Permessi dell'utente (potrebbero essere pi\u00f9 restrittivi dei tuoi) - Organizzazione e dati dell'utente - Personalizzazioni e preferenze dell'utente</p> <p>Cosa Puoi Fare: - Navigare tutte le pagine accessibili all'utente - Eseguire qualsiasi azione eseguibile dall'utente - Creare/modificare/eliminare in base ai permessi dell'utente - Testare funzionalit\u00e0 e riprodurre problemi</p> <p>Cosa Non Puoi Fare: - Accedere a funzionalit\u00e0 non accessibili all'utente - Bypassare le restrizioni dei permessi dell'utente - Impersonificare un altro utente mentre stai impersonificando - Modificare il tuo stesso account</p> <p>Best Practice: - Documenta le tue azioni - Minimizza il tempo in impersonificazione - Esegui solo le azioni necessarie - Informa l'utente di cosa hai fatto - Esci quando hai finito</p>"},{"location":"it/07-impersonation/#uscita-dallimpersonificazione","title":"Uscita dall'Impersonificazione","text":"<p>Uscita Normale:</p> <ul> <li>Clicca pulsante X nel banner</li> <li>Torna al tuo account</li> </ul> <p>Uscita Automatica:</p> <p>L'impersonificazione termina automaticamente quando: - La durata del consenso scade - L'utente revoca il consenso - Il token della sessione scade - Effettui il logout - L'utente viene sospeso/eliminato</p>"},{"location":"it/07-impersonation/#sicurezza-e-privacy","title":"Sicurezza e Privacy","text":""},{"location":"it/07-impersonation/#cosa-viene-loggato","title":"Cosa viene Loggato","text":"<p>Informazioni Loggate: - Timestamp di ogni azione - Endpoint API e metodo (GET, POST, ecc.) - Codice stato HTTP (200, 404, ecc.) - Parametri richiesta (dati sensibili oscurati) - Stato risposta (dati sensibili oscurati)</p> <p>Automaticamente Oscurati: - Password - Token di autenticazione - Secret di sistema - Qualsiasi campo contenente \"password\", \"secret\", \"token\"</p> <p>Esempio Entry Log: <pre><code>{\n  \"timestamp\": \"2025-11-06T10:15:23Z\",\n  \"session_id\": \"imp_abc123\",\n  \"impersonator\": \"admin@example.com\",\n  \"impersonated_user\": \"user@example.com\",\n  \"method\": \"POST\",\n  \"endpoint\": \"/api/users\",\n  \"status\": 201,\n  \"request_body\": {\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"password\": \"[OSCURATO]\"\n  }\n}\n</code></pre></p>"},{"location":"it/07-impersonation/#protezione-dati","title":"Protezione Dati","text":"<p>Controllo Utente: - Gli utenti scelgono quando abilitare il consenso - Gli utenti controllano la durata - Gli utenti possono revocare in qualsiasi momento - Gli utenti vedono la traccia audit completa</p> <p>Protezione Piattaforma: - Nessun accesso senza consenso - Scadenza automatica - Logging completo - Oscuramento dati sensibili</p> <p>Conformit\u00e0: - Traccia audit per requisiti normativi - Modello di accesso basato su consenso - Visibilit\u00e0 e controllo utente - Privacy dati rispettata</p>"},{"location":"it/07-impersonation/#casi-duso-comuni","title":"Casi d'Uso Comuni","text":""},{"location":"it/07-impersonation/#risoluzione-problemi-utente","title":"Risoluzione Problemi Utente","text":"<p>Scenario: L'utente segnala che non riesce a vedere una funzionalit\u00e0</p> <p>Flusso di Lavoro: 1. L'utente abilita consenso impersonificazione (1 ora) 2. L'amministratore impersonifica l'utente 3. L'amministratore naviga all'area segnalata 4. Riproduce il problema 5. Identifica problema permessi/configurazione 6. Esce dall'impersonificazione 7. Risolve il problema nelle impostazioni dell'utente 8. L'utente conferma la risoluzione</p>"},{"location":"it/07-impersonation/#formazione-nuovi-utenti","title":"Formazione Nuovi Utenti","text":"<p>Scenario: Formazione utente su flusso di lavoro complesso</p> <p>Flusso di Lavoro: 1. L'utente abilita impersonificazione (24 ore) 2. L'amministratore impersonifica 3. Esegue i passaggi del flusso di lavoro 4. Documenta ogni azione 5. Esce dall'impersonificazione 6. Condivide l'audit con l'utente 7. L'utente rivede le azioni eseguite 8. L'utente pratica indipendentemente</p>"},{"location":"it/07-impersonation/#verifica-permessi","title":"Verifica Permessi","text":"<p>Scenario: Verificare che l'utente abbia i permessi corretti</p> <p>Flusso di Lavoro: 1. L'utente abilita impersonificazione (1 ora) 2. L'amministratore impersonifica 3. Testa accesso a varie funzionalit\u00e0 4. Documenta cosa \u00e8 visibile/accessibile 5. Esce dall'impersonificazione 6. Aggiusta permessi se necessario</p>"},{"location":"it/07-impersonation/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"it/07-impersonation/#impossibile-impersonificare-utente","title":"Impossibile Impersonificare Utente","text":"<p>Problema: Il pulsante Impersonifica \u00e8 disabilitato</p> <p>Soluzioni: 1. Controlla che l'utente abbia abilitato il consenso:    - Chiedi all'utente di abilitare in Profilo &gt; Sicurezza    - Verifica che il consenso non sia scaduto 2. Verifica di avere i permessi:    - Ruolo Super Admin OPPURE    - Ruolo organizzazione Owner 3. Controlla stato utente:    - L'utente non \u00e8 sospeso    - L'utente non \u00e8 eliminato 4. Verifica di non stare gi\u00e0 impersonificando:    - Esci dall'impersonificazione corrente prima</p>"},{"location":"it/07-impersonation/#consenso-non-mostrato","title":"Consenso Non Mostrato","text":"<p>Problema: L'utente ha abilitato il consenso ma l'amministratore non lo vede</p> <p>Soluzioni: 1. Aggiorna la pagina (Ctrl+F5) 2. Attendi 30 secondi (propagazione cache) 3. Controlla tempo scadenza consenso 4. Verifica che l'utente abbia salvato il consenso 5. Controlla che l'utente non l'abbia accidentalmente revocato</p>"},{"location":"it/07-impersonation/#sessione-impersonificazione-termina-inaspettatamente","title":"Sessione Impersonificazione Termina Inaspettatamente","text":"<p>Problema: Espulso dalla sessione di impersonificazione</p> <p>Possibili Cause: - L'utente ha revocato il consenso - La durata del consenso \u00e8 scaduta - Il token \u00e8 scaduto - L'utente \u00e8 stato sospeso - Interruzione di rete</p> <p>Soluzioni: 1. Controlla se il consenso \u00e8 ancora attivo 2. Chiedi all'utente di ri-abilitare il consenso 3. Controlla tempo scadenza consenso 4. Verifica la tua connessione di rete</p>"},{"location":"it/07-impersonation/#impossibile-vedere-dati-utente","title":"Impossibile Vedere Dati Utente","text":"<p>Problema: Durante l'impersonificazione, impossibile vedere i dati attesi</p> <p>Spiegazione: - Vedi esattamente ci\u00f2 che vede l'utente - L'utente potrebbe avere permessi ristretti - L'accesso all'organizzazione potrebbe essere limitato - Questo \u00e8 il comportamento previsto</p> <p>Soluzioni: 1. Verifica i ruoli assegnati all'utente 2. Controlla l'appartenenza organizzazione dell'utente 3. Rivedi i permessi gerarchici 4. Aggiusta i permessi dell'utente se necessario</p>"},{"location":"it/07-impersonation/#best-practice","title":"Best Practice","text":""},{"location":"it/07-impersonation/#per-gli-utenti","title":"Per gli Utenti","text":"<p>Abilitazione Consenso: - Abilita solo quando richiesto o necessario - Imposta la durata minima necessaria - Revoca quando il supporto \u00e8 completato - Rivedi la traccia audit dopo l'impersonificazione</p> <p>Privacy: - Fidati dei tuoi amministratori - Il consenso \u00e8 interamente volontario - Tu controlli quando e per quanto tempo - Puoi vedere tutto ci\u00f2 che hanno fatto</p>"},{"location":"it/07-impersonation/#per-gli-amministratori","title":"Per gli Amministratori","text":"<p>Prima di Impersonificare: - Hai uno scopo chiaro per l'impersonificazione - Richiedi all'utente di abilitare il consenso - Pianifica cosa devi fare - Stima il tempo necessario</p> <p>Durante l'Impersonificazione: - Lavora efficientemente - Documenta le tue azioni - Esegui solo le operazioni necessarie - Rispetta la privacy dell'utente - Esci prontamente quando hai finito</p> <p>Dopo l'Impersonificazione: - Informa l'utente di cosa \u00e8 stato fatto - Documenta le scoperte - Condividi l'audit se richiesto - Fai follow-up sui problemi trovati</p>"},{"location":"it/07-impersonation/#per-le-organizzazioni","title":"Per le Organizzazioni","text":"<p>Policy: - Definisci quando l'impersonificazione \u00e8 appropriata - Documenta il processo di approvazione - Forma gli amministratori - Rivedi regolarmente le tracce audit</p> <p>Sicurezza: - Limita l'assegnazione ruolo Super Admin - Monitora l'uso dell'impersonificazione - Rivedi i log audit - Investiga pattern inusuali</p>"},{"location":"it/07-impersonation/#documentazione-correlata","title":"Documentazione Correlata","text":"<ul> <li>Gestione Utenti</li> <li>Guida Autenticazione</li> <li>Documentazione API Backend</li> </ul>"},{"location":"it/CONTRIBUTING/","title":"Contribuire alla Documentazione My","text":"<p>Grazie per il tuo interesse nel migliorare la documentazione My!</p>"},{"location":"it/CONTRIBUTING/#struttura-documentazione","title":"Struttura Documentazione","text":"<pre><code>docs/\n\u251c\u2500\u2500 index.md                    # Home page\n\u251c\u2500\u2500 01-authentication.md        # Guida autenticazione\n\u251c\u2500\u2500 02-organizations.md         # Guida organizzazioni\n\u251c\u2500\u2500 03-users.md                 # Guida gestione utenti\n\u251c\u2500\u2500 04-systems.md               # Guida gestione sistemi\n\u251c\u2500\u2500 05-system-registration.md   # Flusso di lavoro registrazione\n\u251c\u2500\u2500 06-inventory-heartbeat.md   # Guida monitoraggio\n\u251c\u2500\u2500 07-impersonation.md         # Guida impersonificazione utente\n\u251c\u2500\u2500 stylesheets/                # CSS personalizzato\n\u251c\u2500\u2500 javascripts/                # JS personalizzato\n\u2514\u2500\u2500 images/                     # Immagini e diagrammi\n</code></pre>"},{"location":"it/CONTRIBUTING/#linee-guida-scrittura","title":"Linee Guida Scrittura","text":""},{"location":"it/CONTRIBUTING/#guida-stile","title":"Guida Stile","text":"<ul> <li>Tono: Chiaro, professionale, utile</li> <li>Pubblico: Utenti finali e amministratori (non tecnici)</li> <li>Linguaggio: Semplice, evitando gergo quando possibile</li> <li>Esempi: Includere sempre esempi pratici</li> </ul>"},{"location":"it/CONTRIBUTING/#formattazione","title":"Formattazione","text":"<ul> <li>Intestazioni: Usa <code>##</code> per sezioni principali, <code>###</code> per sottosezioni</li> <li>Blocchi codice: Specifica sempre il linguaggio (bash, json, python, ecc.)</li> <li>Liste: Usa <code>-</code> per liste non ordinate, <code>1.</code> per ordinate</li> <li>Enfasi: Usa grassetto per termini importanti, corsivo per enfasi</li> <li>Link: Usa testo descrittivo, non \"clicca qui\"</li> </ul>"},{"location":"it/CONTRIBUTING/#esempio-struttura","title":"Esempio Struttura","text":"<pre><code># Titolo Pagina\n\nBreve introduzione che spiega cosa copre questa pagina.\n\n## Sezione Principale\n\nSpiegazione dettagliata con esempi.\n\n### Sottosezione\n\nDettagli o procedure specifiche.\n\n**Esempio:**\n\\`\\`\\`bash\ncomando --flag valore\n\\`\\`\\`\n\n## Risoluzione Problemi\n\nProblemi comuni e soluzioni.\n\n## Documentazione Correlata\n\n- [Link a pagina correlata](altra-pagina.md)\n</code></pre>"},{"location":"it/CONTRIBUTING/#build-locale","title":"Build Locale","text":""},{"location":"it/CONTRIBUTING/#prerequisiti","title":"Prerequisiti","text":"<pre><code># Installa Python 3.x\npython3 --version\n\n# Installa dipendenze\npip install -r requirements.txt\n</code></pre>"},{"location":"it/CONTRIBUTING/#sviluppo-locale","title":"Sviluppo Locale","text":"<pre><code># Avvia server locale con hot reload\nmkdocs serve\n\n# Apri nel browser\nopen http://localhost:8000\n</code></pre> <p>La documentazione si ricaricher\u00e0 automaticamente quando salvi le modifiche.</p>"},{"location":"it/CONTRIBUTING/#building","title":"Building","text":"<pre><code># Costruisci sito statico\nmkdocs build\n\n# L'output sar\u00e0 nella directory site/\n</code></pre>"},{"location":"it/CONTRIBUTING/#apportare-modifiche","title":"Apportare Modifiche","text":""},{"location":"it/CONTRIBUTING/#1-modifica-documentazione","title":"1. Modifica Documentazione","text":"<p>Modifica il file <code>.md</code> rilevante nella directory <code>docs/</code>.</p>"},{"location":"it/CONTRIBUTING/#2-anteprima-locale","title":"2. Anteprima Locale","text":"<pre><code>mkdocs serve\n</code></pre> <p>Controlla le tue modifiche su http://localhost:8000</p>"},{"location":"it/CONTRIBUTING/#3-controlla-link","title":"3. Controlla Link","text":"<p>Assicurati che tutti i link interni funzionino: - Link relativi ad altri doc: <code>[testo](altro-file.md)</code> - Link a sezioni: <code>[testo](altro-file.md#nome-sezione)</code> - Link esterni: URL completo</p>"},{"location":"it/CONTRIBUTING/#4-aggiungi-immagini","title":"4. Aggiungi Immagini","text":"<p>Se aggiungi immagini:</p> <ol> <li>Posiziona l'immagine in <code>docs/images/</code></li> <li>Usa percorso relativo: <code>![Testo alternativo](images/nomefile.png)</code></li> <li>Ottimizza dimensione immagine (max 1MB)</li> </ol>"},{"location":"it/CONTRIBUTING/#5-testa-build","title":"5. Testa Build","text":"<pre><code># Testa che il build abbia successo\nmkdocs build --strict\n\n# Questo fallir\u00e0 se ci sono avvisi\n</code></pre>"},{"location":"it/CONTRIBUTING/#aggiungere-nuove-pagine","title":"Aggiungere Nuove Pagine","text":""},{"location":"it/CONTRIBUTING/#1-crea-file","title":"1. Crea File","text":"<p>Crea nuovo file <code>.md</code> nella directory <code>docs/</code>:</p> <pre><code>touch docs/07-nuova-funzionalita.md\n</code></pre>"},{"location":"it/CONTRIBUTING/#2-aggiungi-alla-navigazione","title":"2. Aggiungi alla Navigazione","text":"<p>Modifica <code>mkdocs.yml</code> e aggiungi alla navigazione:</p> <pre><code>nav:\n  - Guida Utente:\n      - Nuova Funzionalit\u00e0: 07-nuova-funzionalita.md\n</code></pre>"},{"location":"it/CONTRIBUTING/#3-link-da-altre-pagine","title":"3. Link da Altre Pagine","text":"<p>Aggiungi link da pagine rilevanti:</p> <pre><code>Vedi anche: [Guida Nuova Funzionalit\u00e0](07-nuova-funzionalita.md)\n</code></pre>"},{"location":"it/CONTRIBUTING/#funzionalita-mkdocs","title":"Funzionalit\u00e0 MkDocs","text":""},{"location":"it/CONTRIBUTING/#admonitions","title":"Admonitions","text":"<pre><code>!!! note \"Titolo\"\n    Contenuto qui\n\n!!! warning\n    Contenuto avviso\n\n!!! danger\n    Contenuto pericolo\n\n!!! tip\n    Contenuto suggerimento\n</code></pre>"},{"location":"it/CONTRIBUTING/#blocchi-codice-con-highlighting","title":"Blocchi Codice con Highlighting","text":"<pre><code>```python title=\"esempio.py\" linenums=\"1\"\ndef hello():\n    print(\"Ciao, Mondo!\")\n```\n</code></pre>"},{"location":"it/CONTRIBUTING/#tab","title":"Tab","text":"<pre><code>=== \"Tab 1\"\n    Contenuto per tab 1\n\n=== \"Tab 2\"\n    Contenuto per tab 2\n</code></pre>"},{"location":"it/CONTRIBUTING/#task-list","title":"Task List","text":"<pre><code>- [x] Task completato\n- [ ] Task incompleto\n</code></pre>"},{"location":"it/CONTRIBUTING/#deployment","title":"Deployment","text":"<p>La documentazione viene deployata automaticamente quando fai push su <code>main</code>:</p> <ol> <li>GitHub Actions viene eseguita al push</li> <li>MkDocs costruisce il sito</li> <li>Il sito viene deployato su GitHub Pages</li> <li>Disponibile su: https://nethesis.github.io/my/</li> </ol> <p>Puoi anche deployare manualmente:</p> <pre><code>mkdocs gh-deploy\n</code></pre>"},{"location":"it/CONTRIBUTING/#processo-di-revisione","title":"Processo di Revisione","text":"<ol> <li>Apporta le tue modifiche in un branch feature</li> <li>Testa localmente con <code>mkdocs serve</code></li> <li>Assicurati che il build passi: <code>mkdocs build --strict</code></li> <li>Crea Pull Request</li> <li>La documentazione verr\u00e0 revisionata</li> <li>Una volta approvata, merge su main</li> <li>Deployment automatico su GitHub Pages</li> </ol>"},{"location":"it/CONTRIBUTING/#task-comuni","title":"Task Comuni","text":""},{"location":"it/CONTRIBUTING/#aggiorna-home-page","title":"Aggiorna Home Page","text":"<p>Modifica <code>docs/index.md</code></p>"},{"location":"it/CONTRIBUTING/#aggiungi-sezione-faq","title":"Aggiungi Sezione FAQ","text":"<p>Crea <code>docs/faq.md</code> e aggiungi alla navigazione in <code>mkdocs.yml</code></p>"},{"location":"it/CONTRIBUTING/#correggi-link-non-funzionante","title":"Correggi Link Non Funzionante","text":"<ol> <li>Cerca il link: <code>grep -r \"link-non-funzionante\" docs/</code></li> <li>Aggiorna tutte le occorrenze</li> <li>Testa con <code>mkdocs serve</code></li> </ol>"},{"location":"it/CONTRIBUTING/#aggiungi-risorsa-esterna","title":"Aggiungi Risorsa Esterna","text":"<p>Aggiungi a <code>mkdocs.yml</code> sotto <code>extra</code>:</p> <pre><code>extra:\n  social:\n    - icon: fontawesome/brands/github\n      link: https://github.com/example\n</code></pre>"},{"location":"it/CONTRIBUTING/#stile-e-convenzioni","title":"Stile e Convenzioni","text":""},{"location":"it/CONTRIBUTING/#esempi-comandi","title":"Esempi Comandi","text":"<p>Mostra sempre comandi completi:</p> <pre><code># Buono\ncurl -X POST https://api.example.com/endpoint \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"key\": \"value\"}'\n\n# Cattivo\ncurl endpoint\n</code></pre>"},{"location":"it/CONTRIBUTING/#percorsi-file","title":"Percorsi File","text":"<p>Usa percorsi assoluti dalla radice del progetto:</p> <pre><code># Buono\n/Users/edospadoni/Workspace/my/backend/main.go\n\n# Cattivo\n../backend/main.go\n</code></pre>"},{"location":"it/CONTRIBUTING/#esempi-api","title":"Esempi API","text":"<p>Mostra sia richiesta che risposta:</p> <pre><code># Richiesta\ncurl -X GET https://api.example.com/resource\n\n# Risposta (HTTP 200)\n{\n  \"code\": 200,\n  \"message\": \"successo\",\n  \"data\": {}\n}\n</code></pre>"},{"location":"it/CONTRIBUTING/#ottenere-aiuto","title":"Ottenere Aiuto","text":"<ul> <li>Controlla la documentazione esistente per esempi</li> <li>Rivedi documentazione MkDocs</li> <li>Controlla documentazione tema Material</li> <li>Chiedi nelle discussioni del progetto</li> </ul>"},{"location":"it/CONTRIBUTING/#licenza","title":"Licenza","text":"<p>I contributi alla documentazione sono coperti dalla stessa licenza del progetto (AGPL-3.0-or-later).</p>"}]}